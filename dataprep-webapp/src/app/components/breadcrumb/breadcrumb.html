<!--
  ~ ============================================================================
  ~
  ~  Copyright (C) 2006-2016 Talend Inc. - www.talend.com
  ~
  ~  This source code is available under agreement available at
  ~  https://github.com/Talend/data-prep/blob/master/LICENSE
  ~
  ~  You should have received a copy of the agreement
  ~  along with this program; if not, write to Talend SA
  ~  9 rue Pages 92150 Suresnes, France
  ~
  ~ ============================================================================
  -->

<div ng-repeat="item in $ctrl.items track by item.id" class="breadcrumb-item">
    <div class="name" ng-click="::($ctrl.onSelect({item: item}))">
        {{::item.name}}
    </div>

    <sc-dropdown on-open="::($ctrl.onListOpen({item: item}))">
        <sc-dropdown-trigger>&nbsp;</sc-dropdown-trigger>
        <sc-dropdown-content ng-switch="!!$ctrl.children[item.id].length">
            <ul ng-switch-when="true">
                <li ng-repeat="child in $ctrl.children[item.id] track by child.id"
                    class="breadcrumb-item-child"
                    title="{{::child.name}}"
                    ng-click="::($ctrl.onSelect({item: child}))">{{::child.name}}
                </li>
            </ul>
            <span class="empty" ng-switch-default translate-once="NO_CHILD"></span>
        </sc-dropdown-content>
    </sc-dropdown>
</div>
