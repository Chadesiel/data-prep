<div class="preparation-list">
    <div class="preparation" ng-repeat="preparation in preparationListCtrl.preparations track by $index"
        ng-mouseover="preparationListCtrl.overPreparationEntry(preparation)"
        ng-mouseleave="preparationListCtrl.leavePreparationEntry(preparation)">
        <div class="information">
            <div class="preparation-name-input" ng-switch on="preparation.showChangeName">
                <div ng-switch-when="true">
                    <div>
                        <input type="text" data-ng-model="preparation.name">
                        <a class="check-btn" data-icon="b" ng-click="preparationListCtrl.rename(preparation)"></a>
                        <a class="cancel-btn" data-icon="d" ng-click="preparationListCtrl.cancelRename(preparation)"></a>
                    </div>
                </div>
                <div ng-switch-default>
                  <p class="title one-line"><a ui-sref="nav.home.preparations({prepid: preparation.id})" title="{{preparation.name}}">{{preparation.name}}</a></p>
                </div>
            </div>
            <p class="description">
                {{::'OWNED_BY' | translate}} <span class="important" title="{{preparation.author}}" >{{preparation.author}}</span><br/>
                {{::'LAST_MODIFICATION' | translate}}: {{preparation.lastModificationDate | TDPMoment}}
            </p>

            <p class="details">
                <span class="important name one-line" title="{{preparation.dataset.name}}">{{preparation.dataset.name}}</span>&nbsp;- {{ preparation.dataset.records}} {{::'ROWS' | translate}}
            </p>
            <p class="details">
                <span class="important">{{preparation.steps.length - 1}} {{::'STEPS' | translate}}</span> {{::'RECIPE' | translate}}
            </p>
        </div>

        <div class="actions">
            <a class="favorite" data-icon="f" ng-class="{selected: preparation.favorite}" ng-click="preparation.favorite = !preparation.favorite"></a>
            <a class="edit-btn" data-icon="a" ng-click="preparationListCtrl.showRenameInput(preparation)" id="edit_btn_{{::preparation.id}}"></a>
            <a class="clone-btn" data-icon="y" title="clone" ng-click="preparationListCtrl.clone(preparation)" id="clone_btn_{{::preparation.id}}"></a>
            <a class="trash" data-icon="e" ng-click="preparationListCtrl.delete(preparation)"></a>
        </div>

    </div>
</div>