<div class="inventory">
    <div class="inventory-sort">{{ ::'SORTED_BY' | translate }} {{ ::'NAME_SORT' | translate }}</div>

    <div class="inventory-entry" ng-repeat="dataset in datasetListCtrl.datasets track by $index" ng-switch="dataset.draft" id="dataset_{{$index}}" >

        <div class="inventory-icon" ng-switch="dataset.type" ng-click="datasetListCtrl.uploadWorkflowService.openDataset(dataset)">
            <img src="/assets/images/inventory/csv_file.png" ng-switch-when="text/csv"/>
            <img src="/assets/images/inventory/xls_file.png" ng-switch-when="application/vnd.ms-excel"/>
            <img src="/assets/images/inventory/generic_file.png" ng-switch-default/>
            <img ng-src="/assets/images/certification-{{dataset.certificationStep | lowercase}}.png"
                 class="pin"
                 ng-if="dataset.certificationStep!='NONE'"/>
        </div>

        <div class="inventory-text">
            <div class="inventory-title"
                ng-click="datasetListCtrl.uploadWorkflowService.openDataset(dataset)">{{dataset.name}}</div>
            <div class="inventory-description"
                 ng-click="datasetListCtrl.uploadWorkflowService.openDataset(dataset)">{{ 'INVENTORY_DETAILS' | translate:dataset }}</div>
        </div>

        <!-- Draft actions icons -->
        <div ng-switch-when="true"
             class="inventory-actions">
            <button class="t-btn t-btn-transparent t-btn-remove" ng-click="datasetListCtrl.delete(dataset)"></button>
        </div>

        <!-- Not draft actions icons -->
        <div ng-switch-when="false"
             class="inventory-actions">
            <button class="t-btn t-btn-transparent t-btn-shaker"
                    ng-if="!!dataset.defaultPreparation"
                    ui-sref="nav.home.preparations({prepid: dataset.defaultPreparation.id})"></button>
            <button class="t-btn t-btn-transparent t-btn-pushto"></button>
            <div class="t-right-divider"></div>

            <button ng-class="{'t-btn':true, 't-btn-transparent':true, 't-btn-favorite-true':dataset.favorite,  't-btn-favorite':true}" ng-click="datasetListCtrl.toggleFavorite(dataset)"></button>
            <button class="t-btn t-btn-transparent t-btn-share"></button>
            <div class="t-right-divider"></div>

            <button class="t-btn t-btn-transparent t-btn-remove"
                    ng-click="datasetListCtrl.delete(dataset)"></button>
            <div class="t-right-divider"></div>

            <button class="t-btn t-btn-transparent t-btn-more"
                    ng-click="datasetListCtrl.processCertification(dataset)"></button>
        </div>
    </div>
</div>
