!function(){"use strict";angular.module("data-prep.services.utils",["pascalprecht.translate","toaster"])}(),function(){"use strict";function t(t){function e(e,o,s){e=e||[],o=o||[];var l="self.window = self;\n";l+=a(e),l+=r(o),l+=n(s);var c=i(l,{type:"text/javascript"}),d=new window.Worker(c);return{postMessage:function(e){var a=t.defer();return d.onmessage=function(t){a.resolve(t.data)},d.postMessage(e),a.promise},clean:function(){window.URL.revokeObjectURL(c)},terminate:function(){d.terminate(),this.clean()}}}function a(t){return"importScripts("+t.map(function(t){return"'"+o+t+"'"}).join(", ")+");\n"}function r(t){return _.reduce(t,function(t,e){var a;return"function"==typeof e?a=e.toString():"object"==typeof e&&(a=_.chain(e).keys().map(function(t){var a=e[t];return"var "+t+" = "+a.toString()+";\n"}).reduce(function(t,e){return t+e},"").value()),t+a+"\n"},"")}function n(t){var e=/function\s*(\w*)(.*)/.exec(t.toString());e[1]=e[1]||"a";var a="function "+e[1]+e[2];a+=t.toString().substring(e[0].length);var r="\n;onmessage = function(e) {var result = "+e[1]+".apply(null,e.data);postMessage(result);};";return a+r}function i(t,e){var a;if(window.Blob&&typeof window.Blob==typeof Function)a=new window.Blob([t],e);else if(window.BlobBuilder){var r=new window.BlobBuilder;r.append(t),a=r.getBlob()}return window.URL.createObjectURL(a)}window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL||window.oURL,window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.OBlobBuilder;var o=window.location.protocol+"//"+window.location.host;return{create:e}}t.$inject=["$q"],angular.module("data-prep.services.utils").service("WorkerService",t)}(),function(){"use strict";function t(){function t(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"[$&]")}function e(t){return t.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/\*/g,".*")}function a(t){if(!t)return t;var e=[i,r,n];return _.forEach(e,function(e){t=e(t)}),t}function r(t){return t.replace(new RegExp("\n","g"),"â†µ\n")}function n(t){var e="",a=t.match(/(^\s*)?([\s\S]*?)(\s*$)/);return a[1]&&(e='<span class="hiddenChars">'+a[1]+"</span>"),e+=a[2],a[3]&&(e+='<span class="hiddenChars">'+a[3]+"</span>"),e}function i(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(e){for(var a="",r=0,n=e.length;n>r;r++)switch(e[r]){case"A":a+="[A-Z]";break;case"a":a+="[a-z]";break;case"9":a+="[0-9]";break;default:a+=t(e[r])}return"^"+a+"$"}function s(t){var e=!1,a=t;a=a.replace(/\'\'/g,"#tdpQuote").replace(/\'/g,function(){return e=!e,e?"[":"]"}).replace(/#tdpQuote/g,"'");var r=a.match(/\[.*\]/g);a=moment().toMomentFormatString(a);var n=0;return a=a.replace(/\[.*\]/g,function(){return r[n++]})}return{adaptToGridConstraints:a,escapeRegex:t,escapeRegexpExceptStar:e,convertPatternToRegexp:o,convertJavaDateFormatToMomentDateFormat:s}}angular.module("data-prep.services.utils").service("TextFormatService",t)}(),function(){"use strict";function t(t){function e(e,a){t.localStorage.setItem(e,JSON.stringify(a))}function a(e){return JSON.parse(t.localStorage.getItem(e))}function r(e){t.localStorage.removeItem(e)}function n(e){t.localStorage.setItem(D,JSON.stringify(e))}function i(){var e=t.localStorage.getItem(D);return e?JSON.parse(e):""}function o(t,e,a){var r=k+"aggregation.";return r+=(t?t:"")+".",r+=(e?e:"")+".",r+=a}function s(t,a,r,n){var i=o(t,a,r);e(i,n)}function l(t,e,r){var n=o(t,e,r);return a(n)}function c(t,e,a){var n=o(t,e,a);r(n)}function d(e,a){for(var n=o(e,a,""),i=[],s=0,l=t.localStorage.length;l>s;s++){var c=t.localStorage.key(s);0===c.indexOf(n)&&i.push(c)}_.forEach(i,function(t){r(t)})}function u(e,r){for(var n=o(e,"",""),i=[],l=0,c=t.localStorage.length;c>l;l++){var d=t.localStorage.key(l);0===d.indexOf(n)&&i.push({columnId:d.substring(d.lastIndexOf(".")+1),aggregation:a(d)})}_.forEach(i,function(t){s(e,r,t.columnId,t.aggregation)})}function p(e,r,n){for(var i=o(e,r,""),l=[],d=0,u=t.localStorage.length;u>d;d++){var p=t.localStorage.key(d);0===p.indexOf(i)&&l.push({columnId:p.substring(p.lastIndexOf(".")+1),aggregation:a(p)})}_.forEach(l,function(t){s(e,n,t.columnId,t.aggregation),c(e,r,t.columnId)})}function m(){var e=t.localStorage.getItem(T);return e?JSON.parse(e):[]}function f(e){t.localStorage.setItem(T,JSON.stringify(e))}function g(){return t.localStorage.getItem(P)}function v(e){t.localStorage.setItem(P,e)}function h(){return t.localStorage.getItem(I)}function y(e){t.localStorage.setItem(I,e)}function C(){return t.localStorage.getItem(E)}function b(e){t.localStorage.setItem(E,e)}function S(){return t.localStorage.getItem(x)}function w(e){t.localStorage.setItem(x,e)}var k="org.talend.dataprep.",T="org.talend.dataprep.lookup_datasets",E="org.talend.dataprep.lookup_datasets_sort",x="org.talend.dataprep.lookup_datasets_order",P="org.talend.dataprep.datasets.sort",I="org.talend.dataprep.datasets.order",D="org.talend.dataprep.feedback_user_mail";return{setAggregation:s,getAggregation:l,removeAggregation:c,removeAllAggregations:d,savePreparationAggregationsFromDataset:u,moveAggregations:p,getFeedbackUserMail:i,saveFeedbackUserMail:n,getLookupDatasets:m,setLookupDatasets:f,getDatasetsOrder:h,setDatasetsOrder:y,getDatasetsSort:g,setDatasetsSort:v,getLookupDatasetsSort:C,setLookupDatasetsSort:b,getLookupDatasetsOrder:S,setLookupDatasetsOrder:w}}t.$inject=["$window"],angular.module("data-prep.services.utils").service("StorageService",t)}(),function(){"use strict";function t(){return function(t,e){return moment(t,e?e:"x").fromNow()}}angular.module("data-prep.services.utils").filter("TDPMoment",t)}(),function(){"use strict";function t(t,e){var a=function(a,r,n,i,o){t([r,n],i).then(function(t){e.pop(a,t[r],t[n],o)})};this.error=function(t,e,r){a("error",t,e,r,0)},this.success=function(t,e,r){a("success",t,e,r,5e3)},this.warning=function(t,e,r){a("warning",t,e,r,0)}}t.$inject=["$translate","toaster"],angular.module("data-prep.services.utils").service("MessageService",t)}(),function(){"use strict";function t(){function t(t,e,a){return function(r){var n=_.chain(a).map(function(t){return moment(r,t,!0)}).find(function(t){return t.isValid()}).value();if(!n)return!1;var i=n.toDate().getTime();return i===t||i>t&&e>i}}return{isInDateLimits:t}}angular.module("data-prep.services.utils").service("DateService",t)}(),function(){"use strict";function t(){function t(t){return/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(t)}function e(t){switch(t){case"numeric":case"integer":case"double":case"float":return"number";case"boolean":return"checkbox";default:return"text"}}function a(t){switch(t.toLowerCase()){case"numeric":case"integer":return"integer";case"double":case"float":case"decimal":return"decimal";case"boolean":return"boolean";case"string":case"char":return"text";case"date":return"date";default:return"unknown"}}function r(t,e){switch(t){case"numeric":case"integer":case"double":case"float":return parseFloat(e)||0;case"boolean":return"true"===e||e===!0;default:return e}}return{isNumber:t,toInputType:e,simplifyType:a,adaptValue:r}}angular.module("data-prep.services.utils").service("ConverterService",t)}(),function(){"use strict";angular.module("data-prep.services.utils").value("version","Unknown version")}(),function(){"use strict";function t(){function t(t){e.datasetUrl=t+"/api/datasets",e.transformUrl=t+"/api/transform",e.preparationUrl=t+"/api/preparations",e.previewUrl=t+"/api/preparations/preview",e.exportUrl=t+"/api/export",e.aggregationUrl=t+"/api/aggregate",e.typesUrl=t+"/api/types",e.folderUrl=t+"/api/folders",e.mailUrl=t+"/api/mail"}var e={setServerUrl:t};return e}angular.module("data-prep.services.utils").service("RestURLs",t)}(),function(){"use strict";angular.module("data-prep.services.utils").value("copyRights","Talend. All Rights Reserved")}(),function(){"use strict";function t(){return{restrict:"A",link:function(t,e){e.bind("contextmenu",function(t){t.preventDefault()})}}}angular.module("data-prep.services.utils").directive("disableRightClick",t)}(),function(){"use strict";angular.module("data-prep.services.transformation",["data-prep.services.utils","data-prep.services.state","data-prep.services.playground","data-prep.services.filter"])}(),function(){"use strict";function t(t,e){function a(t){return!t.implicit}function r(t){return _.forEach(t,function(t){var e=_.filter(t.parameters,a);t.parameters=e.length?e:null})}function n(t){t.parameters&&_.forEach(t.parameters,function(t){t.inputType=e.toInputType(t.type),"select"===t.type&&t.configuration&&t.configuration.values&&_.forEach(t.configuration.values,function(t){t.inputType=e.toInputType(t.type),t.parameters&&n(t)})})}function i(t){_.forEach(t,n)}function o(t){_.forEach(t,function(t){t.labelHtml=t.label+(t.parameters||t.dynamic?"...":"")})}function s(t){return function(e){return e.category!==t}}function l(t){return t.label.toLowerCase()}function c(t){var e=_.chain(t).filter(s(S)).sortBy(l).groupBy("category").value();return _.chain(Object.getOwnPropertyNames(e)).sort().map(function(t){return{category:t,categoryHtml:t.toUpperCase(),transformations:e[t]}}).value()}function d(){return t.getLineTransformations().then(function(t){var e=r(t.data);i(e),o(e);var a=c(e);return{allTransformations:e,allCategories:a}})}function u(e){return t.getColumnTransformations(e).then(function(t){var e=r(t.data);i(e),o(e);var a=c(e);return{allTransformations:e,allCategories:a}})}function p(e){return t.getColumnSuggestions(e).then(function(t){var e=r(t.data);return i(e),o(e),e})}function m(t,e){function a(t){_.forEach(t,function(t){t.value=t.initialValue})}if(t)switch(e){case C:_.forEach(t,function(t){t.selectedValue=t.initialValue,_.forEach(t.values,function(t){a(t.parameters)})});break;case b:_.forEach(t.clusters,function(t){t.active=t.initialActive,a(t.parameters),a([t.replace])});break;default:a(t)}}function f(t,r){return _.chain(t).filter(a).forEach(function(t){t.initialValue=t.value=e.adaptValue(t.type,r[t.name]),t.inputType=e.toInputType(t.type),"select"===t.type&&t.configuration&&t.configuration.values&&_.forEach(t.configuration.values,function(t){f(t.parameters,r)})}).value()}function g(t,e){return _.forEach(t.clusters,function(t){var a=_.chain(t.parameters).forEach(function(t){t.initialValue=t.value=t.name in e}).filter("value").first().value();t.initialActive=!!a;var r=a?e[a.name]:t.replace["default"],n={replaceValue:r};f([t.replace],n)}),t}function v(t,e){t.parameters&&(t.parameters=f(t.parameters,e)),t.cluster&&(t.cluster=g(t.cluster,e))}function h(t){t.parameters=null,t.cluster=null}function y(e,a){h(e);var r=e.name;return t.getDynamicParameters(r,a.columnId,a.datasetId,a.preparationId,a.stepId).then(function(t){var a=t.data;return e[a.type]=a.details,e})}var C="CHOICE",b="CLUSTER",S="column_metadata";return{getLineTransformations:d,getColumnTransformations:u,getColumnSuggestions:p,resetParamValue:m,initParamsValues:v,initDynamicParameters:y}}t.$inject=["TransformationRestService","ConverterService"],angular.module("data-prep.services.transformation").service("TransformationService",t)}(),function(){"use strict";function t(t,e){function a(t){e.initTransformations(t)}function r(e){e&&t.initTransformations()}function n(t){o.tab=i[t]}var i={TEXT:0,CELL:1,LINE:2,COLUMN:3,TABLE:4},o={tab:null,setColumn:a,setLine:r,selectTab:n};return o}t.$inject=["LineSuggestionService","ColumnSuggestionService"],angular.module("data-prep.services.transformation").service("SuggestionService",t)}(),function(){"use strict";function t(t,e){function a(){e.setSuggestionsLoading(!0),t.getLineTransformations().then(function(t){e.setLineTransformations({allTransformations:t.allTransformations,allCategories:t.allCategories,filteredTransformations:t.allCategories})})["finally"](function(){e.setSuggestionsLoading(!1)})}return{initTransformations:a}}t.$inject=["TransformationCacheService","StateService"],angular.module("data-prep.services.transformation").service("LineSuggestionService",t)}(),function(){"use strict";function t(t,e,a,r,n){function i(t){_.forEach(t,function(t){t.labelHtml=t.label+(t.parameters||t.dynamic?"...":"")})}function o(t){return function(e){return e.actionScope&&-1!==e.actionScope.indexOf(t)}}function s(t,e){var a=_.filter(e,function(t){return t.category!==h});return[t].concat(a)}function l(t,e){var a=_.find(e,{category:h});return{category:y,categoryHtml:y.toUpperCase(),transformations:(a?a.transformations:[]).concat(t)}}function c(r){n.setSuggestionsLoading(!0),n.setColumnTransformations(),e.all([a.getColumnSuggestions(r),a.getColumnTransformations(r)]).then(function(e){var a=l(e[0],e[1].allCategories),r=s(a,e[1].allCategories),i={allSuggestions:e[0],allTransformations:e[1].allTransformations,filteredTransformations:r,allCategories:r,searchActionString:""};if(n.setColumnTransformations(i),!t.playground.suggestions.transformationsForEmptyCells.length){var c=_.filter(e[1].allTransformations,o(C));n.setTransformationsForEmptyCells(c)}if(!t.playground.suggestions.transformationsForInvalidCells.length){var d=_.filter(e[1].allTransformations,o(b));n.setTransformationsForInvalidCells(d)}})["finally"](function(){n.setSuggestionsLoading(!1)})}function d(t,e){return-1!==t.toLowerCase().indexOf(e)}function u(t){return function(e){return-1!==e.labelHtml.toLowerCase().indexOf(t)||-1!==e.description.toLowerCase().indexOf(t)}}function p(t){return function(e){var a=e.category,r=e.transformations;return d(a,t)||(r=_.filter(r,u(t))),{category:a,categoryHtml:a.toUpperCase(),transformations:r}}}function m(t){return t.transformations.length}function f(t,e,a){var n=t[e];-1!==n.toLowerCase().indexOf(a)&&(t[e]=n.replace(new RegExp("("+r.escapeRegex(a)+")","gi"),'<span class="highlighted">$1</span>'))}function g(t){return function(e){return f(e,"categoryHtml",t),_.forEach(e.transformations,function(e){f(e,"labelHtml",t)}),e}}function v(){i(t.playground.suggestions.column.allSuggestions),i(t.playground.suggestions.column.allTransformations);var e=t.playground.suggestions.column.searchActionString.toLowerCase();n.updateFilteredTransformations(e?_.chain(t.playground.suggestions.column.allCategories).map(p(e)).filter(m).map(g(e)).value():t.playground.suggestions.column.allCategories)}var h="filtered",y="suggestion",C="empty",b="invalid";return{initTransformations:c,filterTransformations:v}}t.$inject=["state","$q","TransformationCacheService","TextFormatService","StateService"],angular.module("data-prep.services.transformation").service("ColumnSuggestionService",t)}(),function(){"use strict";function t(t,e){function a(a){return t.get(e.datasetUrl+"/"+a+"/actions")}function r(a){return t.post(e.transformUrl+"/actions/column",a)}function n(){return t.get(e.transformUrl+"/actions/line")}function i(a){return t.post(e.transformUrl+"/suggest/column",a)}function o(a,r,n,i,o){var s=i?"?preparationId="+encodeURIComponent(i):"?datasetId="+encodeURIComponent(n);return s+=o?"&stepId="+encodeURIComponent(o):"",s+="&columnId="+encodeURIComponent(r),t.get(e.transformUrl+"/suggest/"+a+"/params"+s)}return{getDatasetTransformations:a,getDynamicParameters:o,getColumnSuggestions:i,getColumnTransformations:r,getLineTransformations:n}}t.$inject=["$http","RestURLs"],angular.module("data-prep.services.transformation").service("TransformationRestService",t)}(),function(){"use strict";function t(t,e,a){function r(t){return JSON.stringify(t)}function n(e,a,r){var n=a.get(e);if(n)return t.when(n);var i=r().then(function(t){return a.put(e,t),t});return a.put(e,i),i}function i(){return n("line",c,a.getLineTransformations.bind(null))}function o(t){return n(r(t),c,a.getColumnTransformations.bind(null,t))}function s(t){return n(r(t),d,a.getColumnSuggestions.bind(null,t))}function l(){c.removeAll(),d.removeAll()}var c=e("transformationsCache",{capacity:10}),d=e("suggestionsCache",{capacity:10});return{invalidateCache:l,getColumnSuggestions:s,getColumnTransformations:o,getLineTransformations:i}}t.$inject=["$q","$cacheFactory","TransformationService"],angular.module("data-prep.services.transformation").service("TransformationCacheService",t)}(),function(){"use strict";function t(t,e,a){function r(t,e,a){return n(t,e)(a)}function n(r,n){return function(i){var o=e.playground.grid.selectedColumn,s=e.playground.grid.selectedLine;if(i=i||{},i.scope=n,i.column_id=o&&o.id,i.column_name=o&&o.name,i.row_id=s&&s.tdpId,e.playground.filter.applyTransformationOnFilters){var l=a.toTree(e.playground.filter.gridFilters);_.extend(i,l)}return t.appendStep(r.name,i)}}return{append:r,appendClosure:n}}t.$inject=["PlaygroundService","state","FilterAdapterService"],angular.module("data-prep.services.transformation").service("TransformationApplicationService",t)}(),function(){"use strict";angular.module("data-prep.services.statistics",["data-prep.services.playground","data-prep.services.state","data-prep.services.utils"])}(),function(){"use strict";function t(t,e){function a(t,e){if(t&&e){var a=t/e*100;return"("+a.toFixed(1)+"%)"}return"(0%)"}function r(e,r,o,s){var l="Record",c=r;if(r instanceof Array){var d=r[0]===r[1];l=d?"Value":"Range",c=d?r[0]:"["+r+"["}if(t.playground.filter.gridFilters.length){var u=a(s,o);return i({label:e,title:l,percentage:u,key:c,primaryValue:o,secondaryValue:s})}return n({label:e,title:l,key:c,primaryValue:o})}var n=_.template('<strong><%= label %>: </strong><span style="color:yellow"><%= primaryValue %></span><br/><br/><strong><%= title %>: </strong><span style="color:yellow"><%= key %></span>'),i=_.template("");return e(["TOOLTIP_MATCHING_FILTER","TOOLTIP_MATCHING_FULL"]).then(function(t){i=_.template("<strong><%= label %> "+t.TOOLTIP_MATCHING_FILTER+': </strong><span style="color:yellow"><%= secondaryValue %> <%= percentage %></span><br/><br/><strong><%= label %> '+t.TOOLTIP_MATCHING_FULL+': </strong><span style="color:yellow"><%= primaryValue %></span><br/><br/><strong><%= title %>: </strong><span style="color:yellow"><%= key %></span>')}),{getTooltip:r}}t.$inject=["state","$translate"],angular.module("data-prep.services.statistics").service("StatisticsTooltipService",t)}(),function(){"use strict";function t(t,e,a,r,n,i,o,s,l,c,d,u){function p(t,a,r,n,i){return{data:n,label:r,keyField:t,valueField:a,column:e.playground.grid.selectedColumn,vertical:!1,className:i}}function m(t,a,r,n){return{data:n,keyField:t,valueField:a,label:r,column:e.playground.grid.selectedColumn,vertical:!0}}function f(t,a){return _.chain(e.playground.grid.filteredOccurences).keys().filter(function(e){var r=Number(e);return!isNaN(r)&&(r===t||r>t&&a>r)}).map(function(t){return e.playground.grid.filteredOccurences[t]}).reduce(function(t,e){return t+e},0).value()}function g(){var t=e.playground.grid.selectedColumn.statistics.histogram;if(t){var a=[],r=[];return _.forEach(t.items,function(t){var n=t.range.min,i=t.range.max,o={type:"number",min:n,max:i};a.push({data:o,occurrences:t.occurrences}),r.push({data:o,filteredOccurrences:e.playground.filter.gridFilters.length?f(n,i):t.occurrences})}),{histogram:m("data","occurrences","Occurrences",a),filteredHistogram:m("data","filteredOccurrences","Filtered Occurrences",r)}}}function v(){var t=g();t&&(a.setStatisticsHistogram(t.histogram),a.setStatisticsFilteredHistogram(t.filteredHistogram))}function h(t,e,a){return e>t?e:t>a?a:t}function y(){if(e.playground.statistics.histogram){var t=e.playground.grid.selectedColumn,r=t.statistics,n=_.find(e.playground.filter.gridFilters,function(e){return e.colId===t.id&&"inside_range"===e.type}),i={min:r.min,max:r.max};if(n){var o=n.args.interval[0],s=n.args.interval[1];i.minFilterVal=o,i.maxFilterVal=s,i.minBrush=h(o,r.min,r.max),i.maxBrush=h(s,r.min,r.max),a.setStatisticsHistogramActiveLimits([i.minBrush,i.maxBrush])}a.setStatisticsRangeLimits(i)}}function C(){var t=e.playground.grid.selectedColumn.statistics.histogram;if(t){var a=_.map(t.items,function(e){var a=new Date(e.range.min);a.setTime(a.getTime()+60*a.getTimezoneOffset()*1e3);var r=new Date(e.range.max);return r.setTime(r.getTime()+60*r.getTimezoneOffset()*1e3),{data:{type:"date",label:T(t.pace,a,r),min:a.getTime(),max:r.getTime()},occurrences:e.occurrences}});return m("data","occurrences","Occurrences",a)}}function b(){var t=C();t&&(a.setStatisticsHistogram(t),S().then(function(t){a.setStatisticsFilteredHistogram(t)}))}function S(){var t=e.playground.statistics.histogram.data,a=_.chain(e.playground.grid.selectedColumn.statistics.patternFrequencyTable).pluck("pattern").map(l.convertJavaDateFormatToMomentDateFormat).value();tt=d.create(["/worker/moment.js","/worker/moment-jdateformatparser.js","/worker/lodash.js"],[{workerFn2:workerFn2}],w);var r=e.playground.filter.gridFilters.length?e.playground.grid.filteredOccurences:null;return tt.postMessage([t,a,r]).then(function(t){return m("data","filteredOccurrences","Filtered Occurrences",t)})["finally"](function(){tt.clean()})}function w(t,e,a){return _.forEach(t,function(t){var r=t.data.min,n=t.data.max;t.filteredOccurrences=a?_.chain(a).keys().filter(workerFn2(r,n,e)).map(function(t){return a[t]}).reduce(function(t,e){return t+e},0).value():t.occurrences}),t}function k(t,e){switch(t){case"CENTURY":case"DECADE":case"YEAR":return"yyyy";case"HALF_YEAR":return"'H'"+(e.getMonth()/6+1)+" yyyy";case"QUARTER":return"Q"+(e.getMonth()/3+1)+" yyyy";case"MONTH":return"MMM yyyy";case"WEEK":return"Www yyyy";default:return"mediumDate"}}function T(e,a,r){var n=t("date"),i=k(e,a);switch(e){case"YEAR":case"HALF_YEAR":case"QUARTER":case"MONTH":case"WEEK":case"DAY":return n(a,i);default:return"["+n(a,i)+", "+n(r,i)+"["}}function E(t){return e.playground.grid.filteredOccurences[t]||0}function x(){var t=P();t&&(a.setStatisticsHistogram(t.histogram),a.setStatisticsFilteredHistogram(t.filteredHistogram))}function P(){var t=e.playground.grid.selectedColumn.statistics.frequencyTable;if(t&&t.length){var a="formattedValue",r="filteredOccurrences",n="occurrences",i=[],o=[];return _.forEach(t,function(t){var e=l.adaptToGridConstraints(t.data),s={};s[a]=e,s[n]=t[n],s.data=t.data,i.push(s);var c={};c[a]=e,c[r]=E(t.data),o.push(c)}),{histogram:p(a,n,"Occurrences",i,null),filteredHistogram:p(a,r,null,o,"blueBar")}}}function I(t,e,a){var r="formattedValue";return _.forEach(a,function(t){t[r]=l.adaptToGridConstraints(t.data)}),p(r,t,e,a,"blueBar")}function D(t){return isNaN(t)||t===parseInt(t,10)?t:+t.toFixed(2)}function L(){var t=e.playground.grid.selectedColumn,r=t.statistics,n=o.simplifyType(t.type),i={COUNT:r.count,DISTINCT_COUNT:r.distinctCount,DUPLICATE_COUNT:r.duplicateCount,VALID:r.valid,EMPTY:r.empty,INVALID:r.invalid},s={};switch(n){case"integer":case"decimal":s.MIN=D(r.min),s.MAX=D(r.max),s.MEAN=D(r.mean),s.VARIANCE=D(r.variance),"NaN"!==r.quantiles.lowerQuantile&&(s.MEDIAN=D(r.quantiles.median),s.LOWER_QUANTILE=D(r.quantiles.lowerQuantile),s.UPPER_QUANTILE=D(r.quantiles.upperQuantile));break;case"text":s.AVG_LENGTH=D(r.textLengthSummary.averageLength),s.MIN_LENGTH=r.textLengthSummary.minimalLength,s.MAX_LENGTH=r.textLengthSummary.maximalLength}a.setStatisticsDetails({common:i,specific:s})}function A(){var t=e.playground.grid.selectedColumn.statistics.patternFrequencyTable;t&&(a.setStatisticsPatterns(t),F().then(function(t){a.setStatisticsFilteredPatterns(t)}))}function F(){et=d.create(["/worker/moment.js","/worker/lodash.js","/worker/moment-jdateformatparser.js"],[{workerFn0:workerFn0,workerFn1:workerFn1},l.escapeRegex,M,O,N,j,M],R);var t=e.playground.grid.selectedColumn,a=t.statistics.patternFrequencyTable,r=e.playground.filter.gridFilters.length?e.playground.grid.filteredRecords:null;return et.postMessage([t.id,a,r])["finally"](function(){et.clean()})}function R(t,e,a){return _.forEach(e,function(e){var r=e.pattern,n=M(r);e.filteredOccurrences=a?_.chain(a).pluck(t).filter(n).groupBy(function(t){return t}).mapValues("length").reduce(function(t,e){return t+e},0).value():e.occurrences}),e}function O(t){return t.indexOf("d")>-1||t.indexOf("M")>-1||t.indexOf("y")>-1||t.indexOf("H")>-1||t.indexOf("h")>-1||t.indexOf("m")>-1||t.indexOf("s")>-1}function N(t){var e=workerFn0(t);return function(t){return t&&moment(t,e,!0).isValid()}}function j(t){var e=workerFn1(t);return function(t){return t&&t.match(e)}}function M(t){return""===t?function(t){return""===t}:O(t)?N(t):j(t)}function $(){var t=e.playground.statistics.details.specific;a.setStatisticsBoxPlot(t.LOWER_QUANTILE&&{min:t.MIN,max:t.MAX,q1:t.LOWER_QUANTILE,q2:t.UPPER_QUANTILE,median:t.MEDIAN,mean:t.MEAN,variance:t.VARIANCE})}function U(){var t=e.playground.grid.selectedColumn,r=t.statistics.min,n=t.statistics.max;return function(t){var i=e.playground.grid.selectedColumn;t.colId===i.id&&(y(),a.setStatisticsHistogramActiveLimits([r,n]))}}function B(){J(),H();var t=e.playground.grid.selectedColumn,a=o.simplifyType(t.type);switch(a){case"integer":case"decimal":$(),v(),y();break;case"date":b();break;case"text":case"boolean":x("occurrences","Occurrences",t.statistics.frequencyTable);break;default:console.log("nor a number neither a boolean, neither a string, neither a date but a "+a)}}function V(r,o){J();var l=e.playground.dataset.id,c=e.playground.preparation&&e.playground.preparation.id,d=c&&n.getLastActiveStep()&&n.getLastActiveStep().transformation.stepId,u=e.playground.grid.selectedColumn,p={datasetId:c?null:l,preparationId:c,stepId:d,operations:[{operator:o,columnId:r.id}],groupBy:[u.id]};p=_.extend(p,s.toTree(e.playground.filter.gridFilters)),i.getAggregations(p).then(function(e){var n=I(o,t("translate")(o),e);n.aggregationColumn=r,n.aggregation=o,a.setStatisticsHistogram(n),G(o,r.id)})}function q(){var t=e.playground.dataset&&e.playground.dataset.id,a=e.playground.preparation&&e.playground.preparation.id,r=e.playground.grid.selectedColumn&&e.playground.grid.selectedColumn.id;return c.getAggregation(t,a,r)}function H(){var t=e.playground.dataset&&e.playground.dataset.id,a=e.playground.preparation&&e.playground.preparation.id,r=e.playground.grid.selectedColumn&&e.playground.grid.selectedColumn.id;return c.removeAggregation(t,a,r)}function G(t,a){var r=e.playground.dataset&&e.playground.dataset.id,n=e.playground.preparation&&e.playground.preparation.id,i=e.playground.grid.selectedColumn&&e.playground.grid.selectedColumn.id,o={aggregation:t,aggregationColumnId:a};return c.setAggregation(r,n,i,o)}function Y(){if(e.playground.data){var t=e.playground.grid.selectedColumn;return r.getNumericColumns(t)}}function K(){Z();var t=q(),r=t&&t.aggregation;if(!r){var n=e.playground.grid.selectedColumn,i=o.simplifyType(n.type);switch(i){case"integer":case"decimal":a.setStatisticsFilteredHistogram(g().filteredHistogram),y();break;case"date":S().then(function(t){a.setStatisticsFilteredHistogram(t)});break;case"text":case"boolean":a.setStatisticsFilteredHistogram(P().filteredHistogram)}}F().then(function(t){a.setStatisticsFilteredPatterns(t)})}function z(){Q(),Z(),L(),A();var t=q(),e=t&&_.findWhere(Y(),{id:t.aggregationColumnId}),a=t&&t.aggregation;e&&a?V(e,a):B()}function W(){J(),Q(),X(),Z()}function J(){a.setStatisticsRangeLimits(null),a.setStatisticsBoxPlot(null),a.setStatisticsHistogram(null),a.setStatisticsHistogramActiveLimits(null)}function Q(){a.setStatisticsDetails(null)}function X(){i.resetCache()}function Z(){tt&&(tt.terminate(),tt=null),et&&(et.terminate(),et=null)}var tt,et,workerFn0=l.convertJavaDateFormatToMomentDateFormat,workerFn1=l.convertPatternToRegexp,workerFn2=u.isInDateLimits;return{initRangeLimits:y,getRangeFilterRemoveFn:U,processAggregation:V,processClassicChart:B,getAggregationColumns:Y,updateStatistics:z,updateFilteredStatistics:K,reset:W,valueMatchPatternFn:M}}t.$inject=["$filter","state","StateService","DatagridService","RecipeService","StatisticsRestService","ConverterService","FilterAdapterService","TextFormatService","StorageService","WorkerService","DateService"],angular.module("data-prep.services.statistics").service("StatisticsService",t)}(),function(){"use strict";function t(t,e,a,r){var n=a("aggregationStatistics",{capacity:5});this.resetCache=function(){n.removeAll()},this.getAggregations=function(a){var i=JSON.stringify(a),o=n.get(i);return o?t.when(o):e.post(r.aggregationUrl,a).then(function(t){return n.put(i,t.data),t.data})}}t.$inject=["$q","$http","$cacheFactory","RestURLs"],angular.module("data-prep.services.statistics").service("StatisticsRestService",t)}(),function(){"use strict";angular.module("data-prep.services.state",[])}(),function(){"use strict";function t(){function t(t){e.isLoading=t}function a(t){e.line=t}function r(t){e.column=t||{allSuggestions:[],allTransformations:[],filteredTransformations:[],allCategories:null,searchActionString:""}}function n(t){e.column.filteredTransformations=t}function i(t){e.transformationsForEmptyCells=t}function o(t){e.transformationsForInvalidCells=t}function s(){e.column={allSuggestions:[],allTransformations:[],filteredTransformations:[],allCategories:null,searchActionString:""}}function l(){e.line={allTransformations:[],filteredTransformations:[],allCategories:null}}function c(){e.isLoading=!1,l(),s()}return{setColumnTransformations:r,setLineTransformations:a,setTransformationsForEmptyCells:i,setTransformationsForInvalidCells:o,setLoading:t,updateFilteredTransformations:n,reset:c}}var e={isLoading:!1,line:{allTransformations:[],filteredTransformations:[],allCategories:null},column:{allSuggestions:[],allTransformations:[],filteredTransformations:[],allCategories:null,searchActionString:""},transformationsForEmptyCells:[],transformationsForInvalidCells:[]};angular.module("data-prep.services.state").service("SuggestionsStateService",t).constant("suggestionsState",e)}(),function(){"use strict";function t(){function t(t){e.boxPlot=t}function a(t){e.details=t}function r(t){e.rangeLimits=t}function n(t){e.histogram=t,e.filteredHistogram=null}function i(t){e.filteredHistogram=t}function o(t){e.activeLimits=t}function s(t){e.patterns=t,e.filteredPatterns=null}function l(t){e.filteredPatterns=t}function c(){e.boxPlot=null,e.rangeLimits=null,e.details=null,e.histogram=null,e.filteredHistogram=null,e.activeLimits=null,e.patterns=null,e.filteredPatterns=null}return{setBoxPlot:t,setDetails:a,setRangeLimits:r,setHistogram:n,setFilteredHistogram:i,setHistogramActiveLimits:o,setPatterns:s,setFilteredPatterns:l,reset:c}}var e={};angular.module("data-prep.services.state").service("StatisticsStateService",t).constant("statisticsState",e)}(),function(){"use strict";function t(t,a,r,n,i,o,s,l,c,d,u,p){return e.playground=a,e.dataset=n,e.folder=o,e.easterEggsState=l,e.inventory=d,e.feedback=p,{hidePlayground:t.hide,showPlayground:t.show,resetPlayground:t.reset,setCurrentDataset:t.setDataset,setCurrentData:t.setData,setCurrentPreparation:t.setPreparation,setNameEditionMode:t.setNameEditionMode,updateDatasetStatistics:t.updateDatasetStatistics,toggleDatasetParameters:t.toggleDatasetParameters,hideDatasetParameters:t.hideDatasetParameters,setIsSendingDatasetParameters:t.setIsSendingDatasetParameters,setDatasetEncodings:t.setDatasetEncodings,hideRecipe:t.hideRecipe,showRecipe:t.showRecipe,setColumnFocus:t.setColumnFocus,setGridSelection:t.setGridSelection,setLookupActions:t.setLookupActions,setLookupAddedActions:t.setLookupAddedActions,setLookupDatasets:t.setLookupDatasets,setLookupAddMode:t.setLookupAddMode,setLookupSelectedColumn:t.setLookupSelectedColumn,setLookupUpdateMode:t.setLookupUpdateMode,setLookupVisibility:t.setLookupVisibility,updateLookupColumnsToAdd:t.updateLookupColumnsToAdd,setLookupDatasetsSort:t.setLookupDatasetsSort,setLookupDatasetsOrder:t.setLookupDatasetsOrder,addGridFilter:t.addGridFilter,removeGridFilter:t.removeGridFilter,removeAllGridFilters:t.removeAllGridFilters,updateGridFilter:t.updateGridFilter,setColumnTransformations:t.setColumnTransformations,setLineTransformations:t.setLineTransformations,setSuggestionsLoading:t.setSuggestionsLoading,setTransformationsForEmptyCells:t.setTransformationsForEmptyCells,setTransformationsForInvalidCells:t.setTransformationsForInvalidCells,updateFilteredTransformations:t.updateFilteredTransformations,setStatisticsBoxPlot:t.setStatisticsBoxPlot,setStatisticsDetails:t.setStatisticsDetails,
setStatisticsRangeLimits:t.setStatisticsRangeLimits,setStatisticsHistogram:t.setStatisticsHistogram,setStatisticsFilteredHistogram:t.setStatisticsFilteredHistogram,setStatisticsHistogramActiveLimits:t.setStatisticsHistogramActiveLimits,setStatisticsPatterns:t.setStatisticsPatterns,setStatisticsFilteredPatterns:t.setStatisticsFilteredPatterns,startUploadingDataset:r.startUploadingDataset,finishUploadingDataset:r.finishUploadingDataset,setCurrentFolder:i.setCurrentFolder,setCurrentFolderContent:i.setCurrentFolderContent,setFoldersStack:i.setFoldersStack,setMenuChildren:i.setMenuChildren,enableEasterEgg:s.enableEasterEgg,disableEasterEgg:s.disableEasterEgg,setPreparations:c.setPreparations,removePreparation:c.removePreparation,setDatasets:c.setDatasets,removeDataset:c.removeDataset,setDatasetsSort:c.setSort,setDatasetsOrder:c.setOrder,showFeedback:u.show,hideFeedback:u.hide}}var e={};t.$inject=["PlaygroundStateService","playgroundState","DatasetStateService","datasetState","FolderStateService","folderState","EasterEggsStateService","easterEggsState","InventoryStateService","inventoryState","FeedbackStateService","feedbackState"],angular.module("data-prep.services.state").service("StateService",t).constant("state",e)}(),function(){"use strict";function t(){function t(){e.visible=!0}function a(){e.visible=!1}return{show:t,hide:a}}var e={};angular.module("data-prep.services.state").service("RecipeStateService",t).constant("recipeState",e)}(),function(){"use strict";function t(t,a,r,n,i,o,s,l,c,d,u,p,m,f){function g(t){e.dataset=t}function v(t){e.data=t,r.setData(t),r.setFilter(o.gridFilters,e.data)}function h(t){e.preparation=t}function y(t){e.nameEditionMode=t}function C(){e.visible=!0}function b(){e.visible=!1}function S(t){_.forEach(e.data.metadata.columns,function(e){var a=_.find(t.columns,{id:e.id});e.statistics=a.statistics}),e.dataset.records=t.records}function w(){f.visible?m.hide():k()}function k(){m.update(e.dataset),m.show()}function T(t){i.addGridFilter(t),r.setFilter(o.gridFilters,e.data)}function E(t,a){i.updateGridFilter(t,a),r.setFilter(o.gridFilters,e.data)}function x(t){i.removeGridFilter(t),r.setFilter(o.gridFilters,e.data)}function P(){i.removeAllGridFilters(),r.setFilter(o.gridFilters,e.data)}function I(){e.data=null,e.dataset=null,e.preparation=null,e.nameEditionMode=!1,e.lookupData=null,e.exportParameters=null,i.reset(),r.reset(),c.reset(),s.reset(),u.reset(),m.reset()}return e.recipe=a,e.grid=n,e.lookup=d,e.filter=o,e.suggestions=l,e.statistics=p,e.parameters=f,{show:C,hide:b,setDataset:g,setPreparation:h,setNameEditionMode:y,reset:I,setData:v,updateDatasetStatistics:S,toggleDatasetParameters:w,hideDatasetParameters:m.hide,setIsSendingDatasetParameters:m.setIsSending,setDatasetEncodings:m.setEncodings,showRecipe:t.show,hideRecipe:t.hide,setColumnFocus:r.setColumnFocus,setGridSelection:r.setGridSelection,setLookupActions:c.setActions,setLookupAddedActions:c.setAddedActions,setLookupDatasets:c.setDatasets,setLookupAddMode:c.setAddMode,setLookupSelectedColumn:c.setSelectedColumn,setLookupUpdateMode:c.setUpdateMode,setLookupVisibility:c.setVisibility,updateLookupColumnsToAdd:c.updateColumnsToAdd,setLookupDatasetsSort:c.setSort,setLookupDatasetsOrder:c.setOrder,addGridFilter:T,updateGridFilter:E,removeGridFilter:x,removeAllGridFilters:P,setColumnTransformations:s.setColumnTransformations,setLineTransformations:s.setLineTransformations,setSuggestionsLoading:s.setLoading,setTransformationsForEmptyCells:s.setTransformationsForEmptyCells,setTransformationsForInvalidCells:s.setTransformationsForInvalidCells,updateFilteredTransformations:s.updateFilteredTransformations,setStatisticsBoxPlot:u.setBoxPlot,setStatisticsDetails:u.setDetails,setStatisticsRangeLimits:u.setRangeLimits,setStatisticsHistogram:u.setHistogram,setStatisticsFilteredHistogram:u.setFilteredHistogram,setStatisticsHistogramActiveLimits:u.setHistogramActiveLimits,setStatisticsPatterns:u.setPatterns,setStatisticsFilteredPatterns:u.setFilteredPatterns}}var e={};t.$inject=["RecipeStateService","recipeState","GridStateService","gridState","FilterStateService","filterState","SuggestionsStateService","suggestionsState","LookupStateService","lookupState","StatisticsStateService","statisticsState","ParametersStateService","parametersState"],angular.module("data-prep.services.state").service("PlaygroundStateService",t).constant("playgroundState",e)}(),function(){"use strict";function t(){function t(){e.visible=!0}function a(){e.visible=!1}function r(t){e.isSending=t}function n(t){e.configuration.encodings=t}function i(t){e.values.separator=t.parameters.SEPARATOR,e.values.encoding=t.encoding}function o(){e.visible=!1,e.isSending=!1,e.values={separator:null,encoding:null}}return{show:t,hide:a,setIsSending:r,setEncodings:n,update:i,reset:o}}var e={visible:!1,isSending:!1,configuration:{encodings:[],separators:[{label:";",value:";"},{label:",",value:","},{label:"<space>",value:" "},{label:"<tab>",value:"	"}]},values:{separator:null,encoding:null}};angular.module("data-prep.services.state").service("ParametersStateService",t).constant("parametersState",e)}(),function(){"use strict";function t(){function t(){r.datasets=_.sortBy(r.datasets,function(t){return _.isNumber(t[r.sort.property])?t[r.sort.property]:t[r.sort.property].toLowerCase()}),"desc"===r.order.id&&(r.datasets=r.datasets.reverse())}function e(e){r.sort=e,t()}function a(e){r.order=e,t()}function n(t){r.visibility=t}function i(t){r.dataset=t}function o(e){r.datasets=e,t()}function s(t){r.addedActions=t}function l(t){r.dataView.beginUpdate(),r.dataView.setItems(t.records,"tdpId"),r.dataView.endUpdate(),r.data=t,r.columnsToAdd=[],d(t)}function c(t){r.selectedColumn=t,t&&u()}function d(t){var e=r.step?_.map(r.step.actionParameters.parameters.lookup_selected_cols,"id"):[];r.columnCheckboxes=_.map(t.metadata.columns,function(t){return{id:t.id,name:t.name,isAdded:e.indexOf(t.id)>-1}})}function u(){r.columnsToAdd=_.chain(r.columnCheckboxes).filter("isAdded").filter(function(t){return t.id!==r.selectedColumn.id}).map(function(t){return _.omit(t,"isAdded")}).value()}function p(t){r.actions=t}function m(t,e){r.step=null,i(t),l(e),c(e.metadata.columns[0])}function f(t,e,a){var n=_.find(e.metadata.columns,{id:a.actionParameters.parameters.lookup_join_on});r.step=a,i(t),l(e),c(n)}function g(){r.actions=[],r.addedActions=[],r.datasets=[],r.columnsToAdd=[],r.columnCheckboxes=[],r.dataset=null,r.data=null,r.selectedColumn=null,r.visibility=!1,r.step=null}return{reset:g,setVisibility:n,setSelectedColumn:c,updateColumnsToAdd:u,setActions:p,setAddedActions:s,setDatasets:o,setAddMode:m,setUpdateMode:f,setSort:e,setOrder:a}}var e=[{id:"name",name:"NAME_SORT",property:"name"},{id:"date",name:"DATE_SORT",property:"created"}],a=[{id:"asc",name:"ASC_ORDER"},{id:"desc",name:"DESC_ORDER"}],r={actions:[],addedActions:[],datasets:[],columnCheckboxes:[],columnsToAdd:[],dataset:null,data:null,dataView:new Slick.Data.DataView({inlineFilters:!1}),selectedColumn:null,visibility:!1,step:null,sort:e[1],order:a[1],sortList:e,orderList:a};angular.module("data-prep.services.state").service("LookupStateService",t).constant("lookupState",r)}(),function(){"use strict";function t(){function t(t){r.preparations=t}function e(t){r.preparations=_.reject(r.preparations,{id:t.id})}function a(t){r.datasets=t}function n(t){r.datasets=_.reject(r.datasets,{id:t.id})}function i(t){r.sort=t}function o(t){r.order=t}return{setPreparations:t,removePreparation:e,setDatasets:a,removeDataset:n,setSort:i,setOrder:o}}var e=[{id:"name",name:"NAME_SORT",property:"name"},{id:"date",name:"DATE_SORT",property:"created"}],a=[{id:"asc",name:"ASC_ORDER"},{id:"desc",name:"DESC_ORDER"}],r={preparations:null,datasets:null,sortList:e,orderList:a,sort:e[1],order:a[1]};angular.module("data-prep.services.state").service("InventoryStateService",t).constant("inventoryState",r)}(),function(){"use strict";function t(){function t(t){e.nbLines=e.dataView.getLength(),e.nbTotalLines=t.records.length,e.displayLinesPercentage=(100*e.nbLines/e.nbTotalLines).toFixed(0)}function a(){e.filteredRecords=[];for(var t=0;t<e.dataView.getLength();t++)e.filteredRecords.push(e.dataView.getItem(t));r()}function r(){e.filteredOccurences=e.selectedColumn?_.chain(e.filteredRecords).pluck(e.selectedColumn.id).groupBy(function(t){return t}).mapValues("length").value():{}}function n(r,n){var i=function(t,e){for(var a=_.map(e.filters,function(t){return t(n)}),r=0;r<a.length;r++){var i=a[r];if(!i(t))return!1}return!0};e.dataView.beginUpdate(),e.dataView.setFilterArgs({filters:_.map(r,"filterFn")}),e.dataView.setFilter(i),e.dataView.endUpdate(),t(n),a()}function i(t){e.columnFocus=t}function o(r){e.dataView.beginUpdate(),e.dataView.setItems(r.records,"tdpId"),e.dataView.endUpdate(),t(r),l(r),s(r),a()}function s(t){t.preview||(e.selectedColumn&&t.metadata.columns?e.selectedColumn=_.find(t.metadata.columns,{id:e.selectedColumn.id})||t.metadata.columns[0]:e.selectedColumn=t.metadata.columns[0],r())}function l(t){t.preview||null!==e.lineIndex&&t.records&&(e.selectedLine=e.dataView.getItem(e.lineIndex))}function c(t,a){var n=!isNaN(a);e.selectedColumn=t,e.lineIndex=n?a:null,e.selectedLine=n?e.dataView.getItem(a):null,r()}function d(){e.columnFocus=null,e.selectedColumn=null,e.selectedLine=null,e.filteredRecords=[],e.filteredOccurences={}}return{reset:d,setColumnFocus:i,setData:o,setFilter:n,setGridSelection:c}}var e={dataView:new Slick.Data.DataView({inlineFilters:!1})};angular.module("data-prep.services.state").service("GridStateService",t).constant("gridState",e)}(),function(){"use strict";function t(){function t(t){e.currentFolder=t}function a(t){e.currentFolderContent=t}function r(t){e.foldersStack=t}function n(t){e.menuChildren=t}return{setCurrentFolder:t,setCurrentFolderContent:a,setFoldersStack:r,setMenuChildren:n}}var e={currentFolder:{id:"",path:""},currentFolderContent:{},foldersStack:[],menuChildren:[]};angular.module("data-prep.services.state").service("FolderStateService",t).constant("folderState",e)}(),function(){"use strict";function t(){function t(t){var a=!e.gridFilters.length;e.gridFilters=e.gridFilters.slice(0),e.gridFilters.push(t),a&&(e.applyTransformationOnFilters=!0)}function a(t,a){var r=e.gridFilters.indexOf(t);e.gridFilters=e.gridFilters.slice(0),e.gridFilters[r]=a}function r(t){e.gridFilters=_.filter(e.gridFilters,function(e){return e!==t}),0===e.gridFilters.length&&(e.applyTransformationOnFilters=!1)}function n(){e.gridFilters=[],e.applyTransformationOnFilters=!1}function i(){n()}return{reset:i,addGridFilter:t,updateGridFilter:a,removeGridFilter:r,removeAllGridFilters:n}}var e={gridFilters:[],applyTransformationOnFilters:!1};angular.module("data-prep.services.state").service("FilterStateService",t).constant("filterState",e)}(),function(){"use strict";function t(){function t(){e.visible=!0}function a(){e.visible=!1}return{show:t,hide:a}}var e={visible:!1};angular.module("data-prep.services.state").service("FeedbackStateService",t).constant("feedbackState",e)}(),function(){"use strict";function t(){function t(t){e.currentEasterEgg=t,e.displayEasterEgg=!0}function a(){e.currentEasterEgg="",e.displayEasterEgg=!1}return{enableEasterEgg:t,disableEasterEgg:a}}var e={currentEasterEgg:"",displayEasterEgg:!1};angular.module("data-prep.services.state").service("EasterEggsStateService",t).constant("easterEggsState",e)}(),function(){"use strict";function t(){function t(t){e.uploadingDatasets.push(t)}function a(t){e.uploadingDatasets.splice(e.uploadingDatasets.indexOf(t),1)}return{startUploadingDataset:t,finishUploadingDataset:a}}var e={uploadingDatasets:[]};angular.module("data-prep.services.state").service("DatasetStateService",t).constant("datasetState",e)}(),function(){"use strict";angular.module("data-prep.services.rest",["data-prep.services.utils"])}(),function(){"use strict";function t(t,e){return{responseError:function(a){return a.config.timeout&&"user cancel"===a.config.timeout.$$state.value?t.reject(a):(a.status<=0?e.error("SERVER_ERROR_TITLE","SERVICE_UNAVAILABLE"):500===a.status?e.error("SERVER_ERROR_TITLE","GENERIC_ERROR"):a.data.message_title&&a.data.message&&e.error(a.data.message_title,a.data.message),t.reject(a))}}}t.$inject=["$q","MessageService"],angular.module("data-prep.services.rest").factory("RestErrorMessageHandler",t).config(["$httpProvider",function(t){t.interceptors.push("RestErrorMessageHandler")}])}(),function(){"use strict";angular.module("data-prep.services.recipe",["data-prep.services.preparation","data-prep.services.transformation","data-prep.services.playground","data-prep.services.state","data-prep.services.filter"])}(),function(){"use strict";function t(t,e,a,r){function n(){return I}function i(t,e){return 0>t?x:t>=I.length||0>t?e?I[I.length-1]:null:I[t]}function o(t){return 0>=t?x:t>=I.length?I[I.length-1]:I[t-1]}function s(t){var e=I.indexOf(t);return o(e)}function l(){x=null,I=[],D=null,E=null}function c(){return D}function d(){return D?I.indexOf(D):I.length-1}function u(t){return I.indexOf(t)}function p(){return D?D:g()}function m(t){return 0===u(t)}function f(t){return t===g()}function g(){return I.length>0?I[I.length-1]:x}function v(t){var e=u(t);return I.slice(e)}function h(t){var e=v(t);return _.map(e,"actionParameters")}function y(t){a.resetParamValue(t.transformation.parameters,null),a.resetParamValue(t.transformation.cluster,P)}function C(e){var r=function(t){return _.find(e.old,function(e){return e.transformation.stepId===t.transformation.stepId})},n=function(e){var n=r(e);if(!n){var i={columnId:e.column.id,preparationId:t.playground.preparation.id,stepId:s(e).transformation.stepId};return a.initDynamicParameters(e.transformation,i).then(function(){return a.initParamsValues(e.transformation,e.actionParameters.parameters)})}e.transformation.parameters=n.transformation.parameters,e.transformation.cluster=n.transformation.cluster};return _.chain(e["new"]).filter(function(t){return t.transformation.dynamic}).forEach(n).value()}function b(t){var e=t[0],n=t[1],i=t[2],o=t[3],s={column:{id:n.parameters.column_id,name:n.parameters.column_name},row:{id:n.parameters.row_id},transformation:{stepId:e,name:n.action,label:i.label,description:i.description,parameters:i.parameters,dynamic:i.dynamic},actionParameters:n,diff:o,filters:r.fromTree(n.parameters.filter)};return a.initParamsValues(s.transformation,n.parameters),s}function S(){return E=null,t.playground.preparation?e.getDetails(t.playground.preparation.id).then(function(t){var e=t.data.steps.slice(0),a=e.shift();x={transformation:{stepId:a}};var r=I,n=_.chain(e).zip(t.data.actions,t.data.metadata,t.data.diff).map(b).value();D=null,E=null,I=n;var i=angular.element(".recipe").eq(0).find(".single-maillon-cables-disabled").toArray();return _.each(i,function(t){t.setAttribute("class","")}),{old:r,"new":n}}).then(function(t){C(t)}):l()}function w(t){var e=t===x;_.forEach(I,function(a){e?a.inactive=!0:(a.inactive=!1,a===t&&(e=!0))}),D=t}function k(e,r){E=E||{recipe:I,lastActiveStep:D};var n=t.playground.filter.applyTransformationOnFilters?t.playground.filter.gridFilters.slice(0):[],i={column:{id:r.column_id,name:r.column_name},row:{id:r.row_id},transformation:{stepId:"early preview",name:e.name,label:e.label,description:e.description,parameters:_.cloneDeep(e.parameters),dynamic:e.dynamic},actionParameters:{action:e.name,parameters:r},preview:!0,filters:n};a.initParamsValues(i.transformation,r),I=E.recipe.slice(0),I.push(i),w(i)}function T(){E&&(I=E.recipe,w(E.lastActiveStep),E=null)}var E,x,P="CLUSTER",I=[],D=null;return{getActiveThresholdStep:c,getActiveThresholdStepIndex:d,getAllActionsFrom:h,getLastActiveStep:p,getLastStep:g,getPreviousStep:s,getRecipe:n,getStep:i,getStepBefore:o,getStepIndex:u,isFirstStep:m,isLastStep:f,disableStepsAfter:w,resetParams:y,refresh:S,earlyPreview:k,cancelEarlyPreview:T}}t.$inject=["state","PreparationService","TransformationService","FilterAdapterService"],angular.module("data-prep.services.recipe").service("RecipeService",t)}(),function(){"use strict";function t(t,e,a,r,n){function i(t){var e=t.inactive?t:a.getPreviousStep(t);n.loadStep(e)}function o(){var t,e=a.getRecipe(),r=e[0];r.inactive?t=m.lastToggled||e[e.length-1]:(m.lastToggled=a.getLastActiveStep(),t=r),i(t)}function s(){clearTimeout(p),r.stopPendingPreview()}function l(t){s(),p=setTimeout(function(){var e=t.inactive?d:u;e(t)},300)}function c(e){s(),p=setTimeout(function(){t(r.cancelPreview.bind(null,!1,e.column.id))},100)}function d(t){var n=a.getLastActiveStep(),i=e.playground.preparation.id,o=t.column.id;r.getPreviewDiffRecords(i,n,t,o)}function u(t){var n=a.getPreviousStep(t),i=a.getLastActiveStep(),o=e.playground.preparation.id,s=t.column.id;r.getPreviewDiffRecords(o,i,n,s)}var p,m={toggleStep:i,toggleRecipe:o,stepHoverStart:l,stepHoverEnd:c};return m}t.$inject=["$timeout","state","RecipeService","PreviewService","PlaygroundService"],angular.module("data-prep.services.recipe").service("RecipeBulletService",t)}(),function(){"use strict";angular.module("data-prep.services.preparation",["data-prep.services.utils","data-prep.services.dataset","data-prep.services.preparation"])}(),function(){"use strict";function t(t,e){function a(){return t.get(e.preparationUrl)}function r(a,r){var n=e.preparationUrl+"/"+a+"/content?version="+r;return t.get(n).then(function(t){return t.data})}function n(a){return t.get(e.preparationUrl+"/"+a+"/details")}function i(a,r){var n={method:"POST",url:e.preparationUrl,data:{name:r,dataSetId:a}};return t(n)}function o(a){var r={method:"PUT",url:e.preparationUrl+"/clone/"+a};return t(r)}function s(a,r){var n={method:"PUT",url:e.preparationUrl+"/"+a,headers:{"Content-Type":"application/json"},data:{name:r}};return t(n)}function l(a){return t["delete"](e.preparationUrl+"/"+a)}function c(t,e){return{insertionStepId:e,actions:t instanceof Array?t:[t]}}function d(a,r,n){var i=c(r,n),o={method:"POST",url:e.preparationUrl+"/"+a+"/actions",headers:{"Content-Type":"application/json"},data:i};return t(o)}function u(a,r,n){var i={method:"PUT",url:e.preparationUrl+"/"+a+"/actions/"+r,headers:{"Content-Type":"application/json"},data:{actions:[n]}};return t(i)}function p(a,r){var n=e.preparationUrl+"/"+a+"/actions/"+r;return t["delete"](n)}function m(a,r){var n=e.preparationUrl+"/"+a+"/head/"+r;return t.put(n)}function f(a,r){var n={method:"POST",url:e.previewUrl+"/diff",headers:{"Content-Type":"application/json"},data:a,timeout:r.promise};return t(n)}function g(a,r){var n={method:"POST",url:e.previewUrl+"/update",headers:{"Content-Type":"application/json"},data:a,timeout:r.promise};return t(n)}function v(a,r){var n={method:"POST",url:e.previewUrl+"/add",headers:{"Content-Type":"application/json"},data:a,timeout:r.promise};return t(n)}return{create:i,clone:o,update:s,"delete":l,appendStep:d,updateStep:u,removeStep:p,setHead:m,getPreparations:a,getContent:r,getDetails:n,getPreviewDiff:f,getPreviewUpdate:g,getPreviewAdd:v}}t.$inject=["$http","RestURLs"],angular.module("data-prep.services.preparation").service("PreparationRestService",t)}(),function(){"use strict";function t(t,e,a,r,n,i,o){function s(e){return i.refreshPreparations(t.inventory.preparations).then(r.refreshMetadataInfos).then(o.refreshPreparations),e}function l(){return r.refreshPreparations().then(s)}function c(){return null!==t.inventory.preparations?e.when(t.inventory.preparations):l()}function d(t,e){return r.create(t,e).then(s).then(function(e){return a.savePreparationAggregationsFromDataset(t,e.id),e})}function u(t){return r.clone(t).then(s)}function p(t){return r["delete"](t).then(s).then(function(e){return a.removeAllAggregations(t.dataSetId,t.id),e})}function m(t,e){return r.update(t,e).then(s).then(function(e){return a.moveAggregations(e.dataSetId,t,e.id),e})}function f(t,e){t.scope=e.scope,"column_id"in e&&(t.column_id=e.column_id),"column_name"in e&&(t.column_name=e.column_name),"row_id"in e&&(t.row_id=e.row_id)}function g(t,e,a){return n.updateStep(t,e.transformation.stepId,{action:e.transformation.name,parameters:a})}function v(t,e){return JSON.stringify(e)!==JSON.stringify(t.actionParameters.parameters)}return{refreshPreparations:l,getPreparations:c,getContent:n.getContent,getDetails:n.getDetails,create:d,clone:u,"delete":p,setName:m,copyImplicitParameters:f,paramsHasChanged:v,appendStep:n.appendStep,updateStep:g,removeStep:n.removeStep,setHead:n.setHead,getPreviewDiff:n.getPreviewDiff,getPreviewUpdate:n.getPreviewUpdate,getPreviewAdd:n.getPreviewAdd}}t.$inject=["state","$q","StorageService","PreparationListService","PreparationRestService","DatasetListService","FolderService"],angular.module("data-prep.services.preparation").service("PreparationService",t)}(),function(){"use strict";function t(t,e,a,r){function n(){return u||(u=a.getPreparations().then(function(t){return u=null,r.setPreparations(t.data),t.data})),u}function i(){return null===e.inventory.preparations?n():t.when(e.inventory.preparations)}function o(t,e){var r;return a.create(t,e).then(function(t){return r=t.data,n()}).then(function(t){return _.find(t,{id:r})})}function s(t){return a.clone(t).then(function(){return n()})}function l(t,e){var r;return a.update(t,e).then(function(t){return r=t.data,n()}).then(function(t){return _.find(t,{id:r})})}function c(t){return a["delete"](t.id).then(function(){r.removePreparation(t)})}function d(t){return i().then(function(e){return _.forEach(e,function(e){e.dataset=_.find(t,function(t){return t.id===e.dataSetId})}),e})}var u;return{refreshPreparations:n,getPreparationsPromise:i,refreshMetadataInfos:d,create:o,clone:s,update:l,"delete":c}}t.$inject=["$q","state","PreparationRestService","StateService"],angular.module("data-prep.services.preparation").service("PreparationListService",t)}(),function(){"use strict";angular.module("data-prep.services.playground",["data-prep.services.dataset","data-prep.services.filter","data-prep.services.history","data-prep.services.onboarding","data-prep.services.preparation","data-prep.services.recipe","data-prep.services.statistics","data-prep.services.state","data-prep.services.utils","data-prep.services.lookup","data-prep.services.export"])}(),function(){"use strict";function t(t,e,a,r){function n(){var t=_.range(S.gridRangeIndex.top,S.gridRangeIndex.bottom+1);return _.chain(t).map(r.playground.grid.dataView.getItem).map("tdpId").sortBy("tdpId").value()}function i(t){e.execute(f);var a=e.previewDataExecutor(t.data);f=e.execute(a)}function o(){g||(g={columns:r.playground.data.metadata.columns.slice(0),records:r.playground.data.records.slice(0)},v=n(),h=r.playground.grid.dataView.getIdxById(v[0]),y=r.playground.grid.dataView.getIdxById(v[v.length-1])),C=t.defer()}function s(t,r,n,s){d(),o();var l={preparationId:t,currentStepId:r.transformation.stepId,previewStepId:n.transformation.stepId,tdpIds:v};a.getPreviewDiff(l,C).then(function(t){return e.focusedColumn=s,t}).then(i)["finally"](function(){C=null})}function l(t,r,n,s){d(),o();var l={preparationId:t,tdpIds:v,currentStepId:r.transformation.stepId,updateStepId:n.transformation.stepId,action:{action:n.actionParameters.action,parameters:s}};a.getPreviewUpdate(l,C).then(function(t){return e.focusedColumn=n.column.id,t}).then(i)["finally"](function(){C=null})}function c(t,r,n,s){d(),o();var l={action:{action:n,parameters:s},tdpIds:v,datasetId:r,preparationId:t};a.getPreviewAdd(l,C).then(function(t){return e.focusedColumn=s.column_id,t}).then(i)["finally"](function(){C=null})}function d(){C&&(C.resolve("user cancel"),C=null)}function u(t){t&&m()&&e.execute(f),g=null,b=null,v=null,h=null,y=null,f=null}function p(t){d(),e.focusedColumn=t,u(!0)}function m(){return!!g}var f,g,v,h,y,C,b,S={gridRangeIndex:null,getPreviewDiffRecords:s,getPreviewUpdateRecords:l,getPreviewAddRecords:c,previewInProgress:m,stopPendingPreview:d,reset:u,cancelPreview:p};return S}t.$inject=["$q","DatagridService","PreparationService","state"],angular.module("data-prep.services.playground").service("PreviewService",t)}(),function(){"use strict";function t(t,e,a,r){function n(){u=!0}function i(){u=!1}function o(){t.cancel(c),t.cancel(d)}function s(n,i){return function(s){u||(o(),c=t(function(){var t=e.playground.grid.selectedLine,o=e.playground.grid.selectedColumn,l=e.playground.preparation?e.playground.preparation.id:null;s.scope=i,s.column_id=o&&o.id,s.column_name=o&&o.name,s.row_id=t&&t.tdpId,a.earlyPreview(n,s),r.getPreviewAddRecords(l,e.playground.dataset.id,n.name,s)},300))}}function l(){u||(o(),d=t(function(){a.cancelEarlyPreview(),r.cancelPreview()},100))}var c,d,u=!1;return{activatePreview:i,deactivatePreview:n,cancelPendingPreview:o,earlyPreview:s,cancelEarlyPreview:l}}t.$inject=["$timeout","state","RecipeService","PreviewService"],angular.module("data-prep.services.playground").service("EarlyPreviewService",t)}(),function(){"use strict";function t(t,e,a,r,n,i,o,s,l,c,d,u,p,m,f,g){function v(t){return A+t+F}function h(t,e,a){u.resetPlayground(),u.setCurrentDataset(t),u.setCurrentData(e),u.setCurrentPreparation(a),u.removeAllGridFilters(),o.refresh(),s.invalidateCache(),d.clear(),i.reset(!1),f.reset()}function y(e){return t.$emit("talend.loading.start"),r.getContent(e.id,!0).then(function(t){if(!t||!t.records)throw m.error("INVALID_DATASET_TITLE","INVALID_DATASET"),Error("Empty data");R.preparationName=v(e.name),h(e,t),u.hideRecipe(),u.setNameEditionMode(!0)}).then(function(){p.shouldStartTour("playground")&&setTimeout(p.startTour.bind(null,"playground"),300)})["finally"](function(){t.$emit("talend.loading.stop")})}function C(r){return a.playground.preparation&&a.playground.preparation.id===r.id?e.when(!0):(t.$emit("talend.loading.start"),l.getContent(r.id,"head").then(function(t){R.preparationName=r.name,h(r.dataset?r.dataset:{id:r.dataSetId},t,r),u.showRecipe(),u.setNameEditionMode(!1)})["finally"](function(){t.$emit("talend.loading.stop")}))}function b(e){return t.$emit("talend.loading.start"),l.getContent(a.playground.preparation.id,e.transformation.stepId).then(function(t){n.updateData(t),o.disableStepsAfter(e),i.reset(!1)})["finally"](function(){t.$emit("talend.loading.stop")})}function S(){return r.getMetadata(a.playground.dataset.id).then(function(t){return t.columns[0].statistics.frequencyTable.length?t:e.reject()}).then(u.updateDatasetStatistics).then(c.updateStatistics)}function w(t){var e=a.playground.preparation?l.setName(a.playground.preparation.id,t):l.create(a.playground.dataset.id,t);return e.then(function(t){return u.setCurrentPreparation(t),R.preparationName=t.name,t})}function k(a,r,n){t.$emit("talend.loading.start");var i=l.setHead(a,r);if(o.getLastActiveStep()!==o.getLastStep()){var s=o.getActiveThresholdStepIndex();i=i.then(L).then(function(){var t=o.getStep(s,!0);return b(t)})}else i=i.then(function(){return e.all([L(),D(n)])});return i["finally"](function(){t.$emit("talend.loading.stop")})}function T(r,n){t.$emit("talend.loading.start");var i=a.playground.preparation?e.when(a.playground.preparation):w(v(a.playground.dataset.name)).then(function(t){return t.draft=!0,t});return i.then(function(t){return l.appendStep(t.id,{action:r,parameters:n})}).then(function(){var t=n.column_id;return e.all([L(),D(t)])}).then(function(){var t=o.getLastStep(),e=o.getPreviousStep(t),r=k.bind(R,a.playground.preparation.id,e.transformation.stepId),i=k.bind(R,a.playground.preparation.id,t.transformation.stepId,n.column_id);d.addAction(r,i)})["finally"](function(){t.$emit("talend.loading.stop")})}function E(e,r){if(i.cancelPreview(),l.copyImplicitParameters(r,e.actionParameters.parameters),l.paramsHasChanged(e,r)){t.$emit("talend.loading.start");var n=o.getLastStep().transformation.stepId,s=o.getActiveThresholdStepIndex();return l.updateStep(a.playground.preparation.id,e,r).then(L).then(function(){var t=o.getStep(s,!0);return b(t)}).then(function(){var t=o.getLastStep().transformation.stepId,e=k.bind(R,a.playground.preparation.id,n),i=k.bind(R,a.playground.preparation.id,t,r.column_id);d.addAction(e,i)})["finally"](function(){t.$emit("talend.loading.stop")})}}function _(r){t.$emit("talend.loading.start");var n=o.getLastStep().transformation.stepId;return l.removeStep(a.playground.preparation.id,r.transformation.stepId).then(function(){return e.all([L(),D()])}).then(function(){var t=o.getLastStep().transformation.stepId,e=k.bind(R,a.playground.preparation.id,n,r.actionParameters.parameters.column_id),i=k.bind(R,a.playground.preparation.id,t);d.addAction(e,i)})["finally"](function(){t.$emit("talend.loading.stop")})}function x(t,e,a,r){var n={scope:r?"column":"cell",column_id:e.id,column_name:e.name,row_id:t.tdpId,cell_value:{token:t[e.id],operator:"equals"},replace_value:a},i="replace_on_value";return T(i,n)}function P(t,r){var n=t.actionParameters.parameters;if(l.copyImplicitParameters(r,n),t.inactive||!l.paramsHasChanged(t,r))return e.when();var s=o.getLastActiveStep(),c=a.playground.preparation.id;i.getPreviewUpdateRecords(c,s,t,r)}function I(t){var e=a.playground.dataset,n=a.playground.preparation,i=n?o.getActiveThresholdStepIndex():null;return r.updateParameters(e,t).then(function(){if(n){var t=o.getStep(i,!0);return b(t)}y(e)})}function D(){return l.getContent(a.playground.preparation.id,"head").then(function(t){n.updateData(t),i.reset(!1)})}function L(){return o.refresh().then(function(){1===o.getRecipe().length?u.showRecipe():p.shouldStartTour("recipe")&&3===o.getRecipe().length&&(u.showRecipe(),setTimeout(p.startTour.bind(null,"recipe"),300))})}var A="",F=" "+g.instant("PREPARATION"),R={preparationName:"",initPlayground:y,load:C,loadStep:b,updateStatistics:S,createOrUpdatePreparation:w,appendStep:T,updateStep:E,removeStep:_,editCell:x,updatePreview:P,changeDatasetParameters:I};return R}t.$inject=["$rootScope","$q","state","DatasetService","DatagridService","PreviewService","RecipeService","TransformationCacheService","PreparationService","StatisticsService","HistoryService","StateService","OnboardingService","MessageService","ExportService","$translate"],angular.module("data-prep.services.playground").service("PlaygroundService",t)}(),function(){"use strict";function t(t,e,a){function r(t){var e=_.map(a.playground.data.metadata.columns,"id"),r=_.map(t,"id"),n=_.difference(r,e);return n[n.length-1]}function n(t){a.playground.data.metadata.columns.length<t.metadata.columns.length&&(f.focusedColumn=r(t.metadata.columns)),e.setCurrentData(t)}function i(t){if(t){var n=[];a.playground.grid.dataView.beginUpdate(),_.forEach(t.instructions,function(t){switch(t.type){case m:a.playground.grid.dataView.insertItem(t.index,t.row),n.push({type:u,row:t.row});break;case u:var e=a.playground.grid.dataView.getIdxById(t.row.tdpId);a.playground.grid.dataView.deleteItem(t.row.tdpId),n.push({type:m,row:t.row,index:e});break;case p:var r=a.playground.grid.dataView.getItemById(t.row.tdpId);a.playground.grid.dataView.updateItem(t.row.tdpId,t.row),n.push({type:p,row:r})}}),a.playground.grid.dataView.endUpdate();var i={instructions:n,preview:a.playground.data.preview,metadata:a.playground.data.metadata};return a.playground.data.metadata.columns.length<t.metadata.columns.length&&(f.focusedColumn=r(t.metadata.columns)),e.setCurrentData({metadata:t.metadata,records:a.playground.data.records,preview:t.preview}),i}}function o(t){var e={metadata:t.metadata,instructions:[],preview:!0},r=a.playground.grid.dataView.getIdxById(t.records[0].tdpId);return _.forEach(t.records,function(t){(t.__tdpRowDiff||t.__tdpDiff)&&("new"===t.__tdpRowDiff?e.instructions.push({type:m,row:t,index:r}):e.instructions.push({type:p,row:t})),r++}),e}function s(e,r){var n=a.playground.data.metadata.columns;return e&&(n=_.filter(n,function(e){var a=t.simplifyType(e.type);return"integer"!==a&&"decimal"!==a})),r&&(n=_.filter(n,function(t){return"boolean"!==t.type})),_.map(n,function(t){return{id:t.id,name:t.name}})}function l(t,e,r){for(var n=[],i=a.playground.data.records,o=s(!e,!r),l=0;l<i.length&&o.length;){var c=i[l];for(var d in o){var u=o[d];c[u.id].toLowerCase().match(t)&&(o.splice(d,1),n.push(u))}o=_.difference(o,n),l++}return n}function c(t,e,r){for(var n={},i=0;i<a.playground.grid.dataView.getLength();++i){
var o=a.playground.grid.dataView.getItem(i);e===o[t]&&(n[i]={},n[i][t]=r)}return n}function d(e){return _.chain(a.playground.data.metadata.columns).filter(function(t){return!e||t.id!==e.id}).filter(function(e){var a=t.simplifyType(e.type);return"integer"===a||"decimal"===a}).value()}var u="DELETE",p="REPLACE",m="INSERT",f={focusedColumn:null,updateData:n,getColumns:s,getColumnsContaining:l,getSameContentConfig:c,getNumericColumns:d,execute:i,previewDataExecutor:o};return f}t.$inject=["ConverterService","StateService","state"],angular.module("data-prep.services.playground").service("DatagridService",t)}(),function(){"use strict";angular.module("data-prep.services.onboarding",[])}(),function(){"use strict";function t(t,e,a,r){function n(t){return _.map(t,function(t){return{element:t.element,position:t.position,intro:_.template(p)(t)}})}function i(){var e=t.localStorage.getItem(u);return e?JSON.parse(e):{}}function o(e){t.localStorage.setItem(u,JSON.stringify(e))}function s(t){switch(t){case"dataset":return e;case"playground":return a;case"recipe":return r}}function l(t){var e=i();e[t]=!0,o(e)}function c(t){var e=i();return!e[t]}function d(t){introJs().setOptions({nextLabel:"NEXT",prevLabel:"BACK",skipLabel:"SKIP",doneLabel:"LET ME TRY",steps:n(s(t))}).oncomplete(function(){l(t)}).onexit(function(){l(t)}).start()}var u="org.talend.dataprep.tour_options",p='<div class="introjs-tooltiptitle"><%= title %></div><div class="introjs-tooltipcontent"><%= content %></div>';return{shouldStartTour:c,startTour:d}}t.$inject=["$window","datasetTour","playgroundTour","recipeTour"],angular.module("data-prep.services.onboarding").service("OnboardingService",t)}(),function(){"use strict";var t=[{element:"#help-preparation-name",title:"",content:"You can give a name to your brand new preparation.</br>It will be listed in the <b>All Preparations</b> view.",position:"right",tooltipPosition:"right"},{element:"#help-recipe > ul",title:"",content:'Here is your recipe. A recipe is literally defined as "a set of directions with a list of ingredients for making or preparing something".</br>In Talend Data Preparation, the ingredients are the raw data, called datasets, and the directions are the set of functions applied to the dataset.</br>Here you can preview, edit, delete, activate or deactivate every function included in the recipe you created.',position:"right"},{element:"#help-history",title:"",content:"And don't worry, at any time, you can undo or redo your last changes.",position:"left"},{element:".no-js",title:"",content:"Don't look for a save button: every change you make is automatically saved.",position:"right"}];angular.module("data-prep.services.onboarding").constant("recipeTour",t)}(),function(){"use strict";var t=[{element:".no-js",title:"<center>Welcome to the dataset view</center>",content:"This table represents the raw data contained in your dataset.</br>From this view, you can prepare the modifications to apply on your dataset.",position:"right"},{element:"#datagrid .slick-header-columns-right > .slick-header-column",title:"",content:"Select a column to discover the transformation functions you can apply to your data.",position:"right"},{element:"#datagrid .quality-bar",title:"",content:"Use this quality bar to identify:<ul><li> - valid records (in green),</li><li> - empty records (in white)</li><li> - invalid records (in orange).</li></ul>Click one of the record types to apply functions on it.",position:"right"},{element:"#help-suggestions > .actions-suggestions",title:"",content:"Click one of the available functions to perform it on the column you selected.</br>Don't worry, you will be able to undo or change it whenever you want.",position:"left"},{element:"#help-stats > .actions-suggestions",title:"",content:"In this panel, you will find some basic analysis of your data to help you have a better idea of its content.",position:"left"},{element:"#playground-lookup-icon",title:"",content:"Click here to link two datasets. It will help you to dynamically use the data from the second dataset to complement the main one.</br>For example, you can use it to add all US State abbreviations alongside the full name of the State.",position:"bottom"},{element:"#playground-online-help-icon",title:"",content:'Click here to access the <a href="https://help.talend.com/pages/viewpage.action?pageId=266307043&utm_medium=dpdesktop&utm_source=on_boarding" target="_blank">online help</a>.',position:"left"}];angular.module("data-prep.services.onboarding").constant("playgroundTour",t)}(),function(){"use strict";var t=[{element:".no-js",title:"<center>Welcome to</br>Talend Data Preparation</center>",content:'To quickly learn how to use it, click <b>Next</b>.</br>To access the online documentation, click <a href="https://help.talend.com/pages/viewpage.action?pageId=266307043&utm_medium=dpdesktop&utm_source=on_boarding" target="_blank">here</a>.',position:"right"},{element:"#nav_home_datasets",title:"",content:"Here you can browse through and manage the datasets you created.<br/>A dataset holds the raw data that can be used as raw material without affecting your original data.",position:"right"},{element:"#dataset_0",title:"",content:"Here you can find some ready-to-use datasets to get familiar with Talend Data Preparation.",position:"bottom"},{element:"#help-import-local",title:"",content:"Here you can create your own datasets from your own data.",position:"right"},{element:"#onboarding-icon",title:"",content:"Click here to play this tour again.",position:"bottom"},{element:"#message-icon",title:"",content:"Click here to send feedback to Talend.",position:"bottom"},{element:"#online-help-icon",title:"",content:'Click here to access the <a href="https://help.talend.com/pages/viewpage.action?pageId=266307043&utm_medium=dpdesktop&utm_source=on_boarding" target="_blank">online help</a>.',position:"bottom"}];angular.module("data-prep.services.onboarding").constant("datasetTour",t)}(),function(){"use strict";angular.module("data-prep.services.lookup",["data-prep.services.dataset","data-prep.services.transformation","data-prep.services.state","data-prep.services.utils"])}(),function(){"use strict";function t(t,e,a,r,n,i,o){function s(n){return e.playground.lookup.addedActions.length?t.when(e.playground.lookup.addedActions):r.getDatasetTransformations(n).then(function(t){var r=t.data,n=_.chain(r).map(function(t){return _.find(e.inventory.datasets,{id:p(t)})}).filter(function(t){return t}).forEach(function(t){t.addedToLookup=!1,t.enableToAddToLookup=!0}).value();return a.setLookupDatasets(n),a.setLookupActions(r),v(),e.playground.lookup.addedActions})}function l(){return s(e.playground.dataset.id).then(function(t){if(t.length){var e=f();return e?d(e):c(t[0])}})}function c(t){var a=g(t);return a?d(a):s(e.playground.dataset.id).then(function(){return e.playground.lookup.dataset!==t||e.playground.lookup.step?n.getContent(p(t),!0).then(function(e){m(t,e,void 0)}):void 0})}function d(t){return s(e.playground.dataset.id).then(function(r){var i=t.actionParameters.parameters.lookup_ds_id,o=_.find(r,function(t){return p(t)===i}),l=_.find(e.playground.data.metadata.columns,{id:t.actionParameters.parameters.column_id});return a.setGridSelection(l),e.playground.lookup.dataset!==o||e.playground.lookup.step!==t?s(e.playground.dataset.id).then(function(){return n.getContent(i,!0)}).then(function(e){m(o,e,t)}):void 0})}function u(){if(e.playground.lookup.visibility){var t=e.playground.lookup.dataset;return c(t)}}function p(t){return _.find(t.parameters,{name:"lookup_ds_id"})["default"]}function m(t,e,r){r?a.setLookupUpdateMode(t,e,r):a.setLookupAddMode(t,e)}function f(){var t=e.playground.grid.selectedColumn;return _.findLast(i.getRecipe(),function(e){return e.column.id===t.id&&"lookup"===e.transformation.name})}function g(t){var a=p(t),r=e.playground.grid.selectedColumn;return _.findLast(i.getRecipe(),function(t){return t.column.id===r.id&&"lookup"===t.transformation.name&&t.actionParameters.parameters.lookup_ds_id===a})}function v(){var t=o.getLookupDatasets();_.chain(i.getRecipe()).filter(function(t){return"lookup"===t.actionParameters.action}).forEach(function(e){-1===t.indexOf(e.actionParameters.parameters.lookup_ds_id)&&t.push(e.actionParameters.parameters.lookup_ds_id)}).value(),o.setLookupDatasets(t),_.chain(t).map(function(t){return _.find(e.playground.lookup.datasets,function(e){return e.id===t})}).filter(function(t){return t}).forEach(function(t){t.addedToLookup=!0}).value();var r=_.chain(t).map(function(t){return _.find(e.playground.lookup.actions,function(e){return _.find(e.parameters,{name:"lookup_ds_id"})["default"]===t})}).filter(function(t){return t}).value();a.setLookupAddedActions(r)}function h(){var t=_.chain(e.playground.lookup.datasets).filter("addedToLookup").map(function(t){return _.find(e.playground.lookup.actions,function(e){return _.find(e.parameters,{name:"lookup_ds_id"})["default"]===t.id})}).filter(function(t){return t}).value();a.setLookupAddedActions(t);var r=_.chain(e.playground.lookup.datasets).filter("addedToLookup").map("id").value();o.getLookupDatasets().indexOf(e.playground.dataset.id)>-1&&r.push(e.playground.dataset.id),o.setLookupDatasets(r)}function y(){_.forEach(e.playground.lookup.datasets,function(t){var e=_.find(i.getRecipe(),function(e){return"lookup"===e.actionParameters.action&&t.id===e.actionParameters.parameters.lookup_ds_id});t.enableToAddToLookup=!e})}return{initLookups:l,loadFromAction:c,loadFromStep:d,updateTargetColumn:u,updateLookupDatasets:h,disableDatasetsUsedInRecipe:y}}t.$inject=["$q","state","StateService","TransformationRestService","DatasetRestService","RecipeService","StorageService"],angular.module("data-prep.services.lookup").service("LookupService",t)}(),function(){"use strict";angular.module("data-prep.services.history",[])}(),function(){"use strict";function t(t){function e(t,e){s.push({undo:t,redo:e}),l=[]}function a(){s=[],l=[]}function r(){return s.length}function n(){if(r()){c.undoing=!0;var e=s.pop();t.when().then(function(){return e.undo()}).then(function(){l.unshift(e)})["catch"](function(){s.push(e)})["finally"](function(){c.undoing=!1})}}function i(){return l.length}function o(){if(i()){c.redoing=!0;var e=l.shift();t.when().then(function(){return e.redo()}).then(function(){s.push(e)})["catch"](function(){l.unshift(e)})["finally"](function(){c.redoing=!1})}}var s=[],l=[],c={undoing:!1,redoing:!1,addAction:e,clear:a,canUndo:r,undo:n,canRedo:i,redo:o};return c}t.$inject=["$q"],angular.module("data-prep.services.history").service("HistoryService",t)}(),function(){"use strict";angular.module("data-prep.services.folder",["data-prep.services.dataset","data-prep.services.state","data-prep.services.utils"])}(),function(){"use strict";function t(t,e){function a(a){var r=e.folderUrl;return a&&(r+="?path="+encodeURIComponent(a)),t.get(r)}function r(a){return t.put(e.folderUrl+"?path="+encodeURIComponent(a))}function n(a,r,n){var i=e.folderUrl+"/datasets?folder="+encodeURIComponent(a||"/");return r&&(i+="&sort="+r),n&&(i+="&order="+n),t.get(i)}function i(a){return t["delete"](e.folderUrl+"?path="+encodeURIComponent(a))}function o(a,r){return t.put(e.folderUrl+"/rename?path="+encodeURIComponent(a)+"&newPath="+encodeURIComponent(r))}function s(a){var r=e.folderUrl+"/search";return a&&(r+="?pathName="+encodeURIComponent(a)),t.get(r)}return{children:a,create:r,getContent:n,rename:o,remove:i,search:s}}t.$inject=["$http","RestURLs"],angular.module("data-prep.services.folder").service("FolderRestService",t)}(),function(){"use strict";function t(t,e,a,r,n,i){function o(t){var e=[];if(e.push(d),t)for(var a=t.split("/"),r=1;r<=a.length+1;r++)a[r-1]&&(r>1?e.push({id:e[r-1].id+"/"+a[r-1],path:e[r-1].id+"/"+a[r-1],name:a[r-1]}):e.push({id:a[r-1],path:a[r-1],name:a[r-1]}));return e}function s(t){return r.getContent(t&&t.id).then(function(t){a.setMenuChildren(t.data.folders)})}function l(t){var a=_.groupBy(t,function(t){return t.dataSetId});return _.forEach(e.folder.currentFolderContent.datasets,function(t){var e=a[t.id];t.preparations=e||[],t.preparations=_.sortByOrder(t.preparations,"lastModificationDate",!1)}),t}function c(t){var n=e.inventory.sort.id,s=e.inventory.order.id,c=r.getContent(t&&t.id,n,s);return c.then(function(e){var r=e.data,n=o(t?t.id:""),i=t?t:d;a.setCurrentFolder(i),a.setCurrentFolderContent(r),a.setFoldersStack(n)}).then(i.getPreparationsPromise).then(l),c}var d={id:"/",path:"/",name:"/"};return t("HOME_FOLDER").then(function(t){d.name=t}),{children:r.children,create:r.create,rename:r.rename,remove:r.remove,search:r.search,getContent:c,refreshPreparations:l,populateMenuChildren:s}}t.$inject=["$translate","state","StateService","FolderRestService","DatasetListService","PreparationListService"],angular.module("data-prep.services.folder").service("FolderService",t)}(),function(){"use strict";angular.module("data-prep.services.filter",["data-prep.services.playground","data-prep.services.statistics","data-prep.services.utils"])}(),function(){"use strict";function t(t,e,a,r,n,i,o,s,l){function c(t){if(!t)return[];var e=new RegExp(s.escapeRegexpExceptStar(t)),a=!isNaN(t.replace(/\*/g,"")),r="true".match(e)||"false".match(e);return n.getColumnsContaining(e,a,r)}function d(t,e){var a=e.toLowerCase(),r=new RegExp(s.escapeRegexpExceptStar(a));return function(){return function(e){return e[t]?e[t].toLowerCase().match(r):!1}}}function u(t,e,a){return function(){return function(r){return r[t]?a?r[t]===e:r[t].toUpperCase()===e.toUpperCase():!1}}}function p(t){return function(e){var a=_.find(e.metadata.columns,{id:t}),r=a.quality.invalidValues;return function(e){return r.indexOf(e[t])>-1}}}function m(t){return function(e){var a=_.find(e.metadata.columns,{id:t}),r=a.quality.invalidValues;return function(e){return e[t]&&-1===r.indexOf(e[t])}}}function f(t){return function(){return function(e){return!e[t]}}}function g(t,e){return function(){return function(a){if(!o.isNumber(a[t]))return!1;var r=o.adaptValue("numeric",a[t]),n=e[0],i=e[1];return r===n||r>n&&i>r}}}function v(t,a){var r=a[0],n=a[1],i=_.chain(e.playground.grid.selectedColumn.statistics.patternFrequencyTable).pluck("pattern").map(s.convertJavaDateFormatToMomentDateFormat).value(),o=l.isInDateLimits(r,n,i);return function(){return function(e){return o(e[t])}}}function h(t,e){var a=i.valueMatchPatternFn(e);return function(){return function(e){return a(e[t])}}}function y(t,a,n,i,o){var s,l,c,y,C=_.find(e.playground.filter.gridFilters,{colId:a,type:t});switch(t){case"contains":l=function(){return s=d(a,i.phrase),r.createFilter(t,a,n,!0,i,s,o)},c=function(){return i.phrase},y=function(){return C.args.phrase===i.phrase};break;case"exact":l=function(){return s=u(a,i.phrase,i.caseSensitive),r.createFilter(t,a,n,!0,i,s,o)},c=function(){return i.phrase},y=function(){return C.args.phrase===i.phrase};break;case"invalid_records":l=function(){return s=p(a),r.createFilter(t,a,n,!1,i,s,o)},y=function(){return C};break;case"empty_records":l=function(){return s=f(a),r.createFilter(t,a,n,!1,i,s,o)},y=function(){return C};break;case"valid_records":l=function(){return s=m(a),r.createFilter(t,a,n,!1,i,s,o)},y=function(){return C};break;case"inside_range":l=function(){return s="date"===i.type?v(a,i.interval):g(a,i.interval),r.createFilter(t,a,n,!1,i,s,o)},c=function(){return i},y=function(){return _.isEqual(C.args.interval,i.interval)};break;case"matches":l=function(){return s=h(a,i.pattern),r.createFilter(t,a,n,!1,i,s,o)},c=function(){return i.pattern},y=function(){return C.args.pattern===i.pattern}}if(C)if(y())w(C);else{var S=c();b(C,S)}else{var T=l();k(T)}}function C(e,a,r,n,i){t(y.bind(T,e,a,r,n,i))}function b(t,e){var n,o,s,l;switch(t.type){case"contains":s={phrase:e},n=d(t.colId,e),l=!0;break;case"exact":s={phrase:e},n=u(t.colId,e,t.args.caseSensitive),l=!0;break;case"inside_range":s=e,l=!1,n="date"===e.type?v(t.colId,e.interval):g(t.colId,e.interval);break;case"matches":s={pattern:e},n=h(t.colId,e),l=!1}o=r.createFilter(t.type,t.colId,t.colName,l,s,n,t.removeFilterFn),a.updateGridFilter(t,o),i.updateFilteredStatistics()}function S(){var t=e.playground.filter.gridFilters;a.removeAllGridFilters(),_.chain(t).filter(function(t){return t.removeFilterFn}).forEach(function(t){t.removeFilterFn(t)}).value(),i.updateFilteredStatistics()}function w(t){a.removeGridFilter(t),t.removeFilterFn&&t.removeFilterFn(t),i.updateFilteredStatistics()}function k(t){a.addGridFilter(t),i.updateFilteredStatistics()}var T={getColumnsContaining:c,addFilter:y,addFilterAndDigest:C,updateFilter:b,removeAllFilters:S,removeFilter:w};return T}t.$inject=["$timeout","state","StateService","FilterAdapterService","DatagridService","StatisticsService","ConverterService","TextFormatService","DateService"],angular.module("data-prep.services.filter").service("FilterService",t)}(),function(){"use strict";function t(t){function l(t,e,a,r,n,i,o){var s={type:t,colId:e,colName:a,editable:r,args:n,filterFn:i,removeFilterFn:o};return s.__defineGetter__("value",c.bind(s)),s.toTree=d.bind(s),s}function c(){switch(this.type){case e:return this.args.phrase;case a:return this.args.phrase;case r:return"invalid records";case n:return"empty records";case i:return"valid records";case o:return this.args.label;case s:return this.args.pattern}}function d(){switch(this.type){case e:return{contains:{field:this.colId,value:this.value}};case a:return{eq:{field:this.colId,value:this.value}};case r:return{invalid:{field:this.colId}};case n:return{empty:{field:this.colId}};case i:return{valid:{field:this.colId}};case o:var t=0;if("date"===this.args.type){var l=new Date(this.args.interval[0]);t=60*l.getTimezoneOffset()*1e3}return{range:{field:this.colId,start:this.args.interval[0]-t,end:this.args.interval[1]-t,type:this.args.type,label:this.args.label}};case s:return{matches:{field:this.colId,value:this.value}}}}function u(t){return _.reduce(t,p,{})}function p(t,e){var a=e.toTree();return t.filter&&(a={and:[t.filter,a]}),{filter:a}}function m(t){return t?t.and?_.reduce(t.and,function(t,e){return t.concat(m(e))},[]):[f(t)]:void 0}function f(c){var d,u,p,m=!1;if("contains"in c)d=e,p=c.contains,u={phrase:p.value};else if("eq"in c)d=a,p=c.eq,u={phrase:p.value};else if("range"in c){d=o,p=c.range;var f=0;if("date"===p.type){var g=new Date(p.start);f=60*g.getTimezoneOffset()*1e3}u={interval:[p.start+f,p.end+f],label:p.label,type:p.type}}else"invalid"in c?(d=r,p=c.invalid):"empty"in c?(d=n,p=c.empty):"valid"in c?(d=i,p=c.valid):"matches"in c&&(d=s,p=c.matches,u={pattern:p.value});var v=p.field,h=_.find(t.playground.data.metadata.columns,{id:v}).name;return l(d,v,h,m,u,null,null)}return{createFilter:l,toTree:u,fromTree:m}}var e="contains",a="exact",r="invalid_records",n="empty_records",i="valid_records",o="inside_range",s="matches";t.$inject=["state"],angular.module("data-prep.services.filter").service("FilterAdapterService",t)}(),function(){"use strict";angular.module("data-prep.services.feedback",["data-prep.services.utils"])}(),function(){"use strict";function t(t,e){function a(a){var r={method:"PUT",url:e.mailUrl,data:a};return t(r)}return{sendFeedback:a}}t.$inject=["$http","RestURLs"],angular.module("data-prep.services.feedback").service("FeedbackRestService",t)}(),function(){"use strict";angular.module("data-prep.services.export",["data-prep.services.utils"])}(),function(){"use strict";function t(t,e){var a="org.talend.dataprep.export.params",r=this;this.exportTypes=[],this.currentExportType=null,this.currentExportParameters=null,this.reset=function(){r.currentExportType=r.getType(r.getParameters().id),r.currentExportParameters=null},this.getParameters=function(){var e=t.localStorage.getItem(a);return e?JSON.parse(e):null},this.setParameters=function(e){t.localStorage.setItem(a,JSON.stringify(e))},this.getType=function(t){return _.find(r.exportTypes,function(e){return e.id===t})};var n=function(){var t=_.find(r.exportTypes,function(t){return"true"===t.defaultExport});r.setParameters(t)};this.refreshTypes=function(){return e.exportTypes().then(function(t){return r.exportTypes=t.data,!r.getParameters()&&r.exportTypes.length&&n(),r.exportTypes})}}t.$inject=["$window","ExportRestService"],angular.module("data-prep.services.export").service("ExportService",t)}(),function(){"use strict";function t(t,e){var a=this;a.exportTypes=function(){return t.get(e.exportUrl+"/formats")}}t.$inject=["$http","RestURLs"],angular.module("data-prep.services.export").service("ExportRestService",t)}(),function(){"use strict";angular.module("data-prep.services.easter-eggs",["data-prep.services.utils","data-prep.services.state"])}(),function(){"use strict";function t(t){this.enableEasterEgg=function(e){"star wars"===e&&t.enableEasterEgg(e)}}t.$inject=["StateService"],angular.module("data-prep.services.easter-eggs").service("EasterEggsService",t)}(),function(){"use strict";angular.module("data-prep.services.datasetWorkflowService",["data-prep.services.dataset","data-prep.services.utils","ui.router","data-prep.services.state"])}(),function(){"use strict";function t(t,e,a,r){var n=this;this.openDraft=function(t){"application/vnd.ms-excel"===t.type?e.loadPreview(t).then(e.display):t.type?a.error("PREVIEW_NOT_IMPLEMENTED_FOR_TYPE_TITLE","PREVIEW_NOT_IMPLEMENTED_FOR_TYPE_TITLE"):(r.refreshDatasets(),a.error("FILE_FORMAT_ANALYSIS_NOT_READY_TITLE","FILE_FORMAT_ANALYSIS_NOT_READY_CONTENT"))},this.openDataset=function(e){e.draft?n.openDraft(e):t.go("nav.home.datasets",{datasetid:e.id})}}t.$inject=["$state","DatasetSheetPreviewService","MessageService","DatasetService"],angular.module("data-prep.services.datasetWorkflowService").service("UploadWorkflowService",t)}(),function(){"use strict";function t(t,e,a,r){this.updateDataset=function(n,i){var o=a.createDatasetInfo(n,i.name,i.id);t.startUploadingDataset(o),a.update(o).progress(function(t){o.progress=parseInt(100*t.loaded/t.total)}).then(function(){e.success("DATASET_UPDATE_SUCCESS_TITLE","DATASET_UPDATE_SUCCESS",{dataset:o.name}),t.resetPlayground(),a.getDatasetById(o.id).then(r.openDataset)})["catch"](function(){o.error=!0})["finally"](function(){t.finishUploadingDataset(o)})}}t.$inject=["StateService","MessageService","DatasetService","UploadWorkflowService"],angular.module("data-prep.services.datasetWorkflowService").service("UpdateWorkflowService",t)}(),function(){"use strict";angular.module("data-prep.services.dataset",["data-prep.services.utils","data-prep.services.preparation","data-prep.services.state","data-prep.services.folder","angularFileUpload"])}(),function(){"use strict";function t(t,e,a,r){function n(t,a){var n=a&&a.id?a.id:"/";return e.http({url:r.datasetUrl+"?name="+encodeURIComponent(t.name)+"&folderPath="+encodeURIComponent(n),headers:{"Content-Type":"text/plain"},data:t.file})}function i(t,e){var n=e&&e.id?e.id:"/",i={method:"POST",url:r.datasetUrl+"?name="+encodeURIComponent(t.name)+"&folderPath="+encodeURIComponent(n),headers:{"Content-Type":"application/vnd.remote-ds."+t.type},data:t};return a(i)}function o(t){return e.http({url:r.datasetUrl+"/"+t.id+"?name="+encodeURIComponent(t.name),method:"PUT",headers:{"Content-Type":"text/plain"},data:t.file})}function s(t){return a["delete"](r.datasetUrl+"/"+t.id)}function l(t,e,n){var i=r.datasetUrl+"/clone/"+t.id;return e?(i+="?folderPath="+encodeURIComponent(e.id),n&&(i+="&cloneName="+encodeURIComponent(n))):n&&(i+="?cloneName="+encodeURIComponent(n)),a.put(i)}function c(t,e,n,i){var o=r.datasetUrl+"/move/"+t.id;return a.put(o,{folderPath:e.id,newFolderPath:n.id,newName:i})}function d(t,e,n){var i=r.datasetUrl;return t&&(i+="?sort="+t),e&&(i+=(t?"&":"?")+"order="+e),a({url:i,method:"GET",timeout:n.promise})}function u(t){return a.post(r.datasetUrl+"/"+t.id,t)}function p(t){return a.put(r.datasetUrl+"/"+t+"/processcertification")}function m(t,e,n){var i=r.datasetUrl+"/"+t+"/column/"+e;return a.post(i,n)}function f(t,e){var n=r.datasetUrl+"/"+t+"?metadata="+e;return a.get(n).then(function(t){return t.data})}function g(t){var e=r.datasetUrl+"/"+t+"/metadata";return a.get(e).then(function(t){return t.data})}function v(e,n){return t.$emit("talend.loading.start"),a.get(r.datasetUrl+"/preview/"+e+"?metadata=true"+(n?"&sheetName="+encodeURIComponent(n):"")).then(function(t){return t.data})["finally"](function(){t.$emit("talend.loading.stop")})}function h(t){return a.post(r.datasetUrl+"/favorite/"+t.id+"?unset="+t.favorite)}function y(){return a.get(r.datasetUrl+"/encodings").then(function(t){return t.data})}return{"import":i,create:n,update:o,"delete":s,clone:l,move:c,updateColumn:m,getDatasets:d,updateMetadata:u,getMetadata:g,getContent:f,getSheetPreview:v,getEncodings:y,processCertification:p,toggleFavorite:h}}t.$inject=["$rootScope","$upload","$http","RestURLs"],angular.module("data-prep.services.dataset").service("DatasetRestService",t)}(),function(){"use strict";function t(t){var e=this;e.currentMetadata=null,e.selectedSheetName=null,e.grid=null,e.showModal=!1,this.display=function(){e.showModal=!0};var a=function(){e.grid.setColumns([]),e.grid.setData([])},r=function(t){var a=_.map(t.metadata.columns,function(t){return{id:t.id,name:'<div class="grid-header"><div class="grid-header-title dropdown-button ng-binding">'+t.name+"</div></div>",field:t.id,minWidth:100}});e.grid.setColumns(a),e.grid.setData(t.records),e.grid.autosizeColumns(),e.grid.render()};this.loadPreview=function(n){return e.currentMetadata=angular.copy(n,{}),e.selectedSheetName=null,a(),t.getSheetPreview(n).then(function(t){e.selectedSheetName=t.metadata.sheetName,r(t)})},this.loadSheet=function(n){return a(),t.getSheetPreview(e.currentMetadata,n).then(function(t){r(t)})},this.setDatasetSheet=function(a){return t.setDatasetSheet(e.currentMetadata,a)}}t.$inject=["DatasetService"],angular.module("data-prep.services.dataset").service("DatasetSheetPreviewService",t)}(),function(){"use strict";function t(t,e,a,r){function n(){h&&(v.resolve("user cancel"),h=null)}function i(){n();var i=t.inventory.sort.id,o=t.inventory.order.id;return v=e.defer(),h=a.getDatasets(i,o,v).then(function(t){return r.setDatasets(t.data),t.data})}function o(t,e){var r=a.create(t,e);return r.then(function(){i()}),r}function s(t,e,r){var n=a.clone(t,e,r);return n.then(function(){i()}),n}function l(t,e,r,n){var o=a.move(t,e,r,n);return o.then(function(){i()}),o}function c(t,e){var r=a["import"](t,e);return r.then(function(){i()}),r}function d(t){var e=a.update(t);return e.then(function(){i()}),e}function u(t){return a.processCertification(t.id).then(function(){i()})}function p(t){return a["delete"](t).then(function(){r.removeDataset(t)})}function m(t){return f().then(function(e){var a=_.groupBy(t,function(t){return t.dataSetId});return _.forEach(e,function(t){var e=a[t.id];t.preparations=e||[],t.preparations=_.sortByOrder(t.preparations,"lastModificationDate",!1)}),e})}function f(){return h?h:i()}function g(){return h}var v,h,y={refreshDatasets:i,create:o,clone:s,move:l,importRemoteDataset:c,update:d,processCertification:u,"delete":p,refreshPreparations:m,getDatasetsPromise:f,hasDatasetsPromise:g};return y}t.$inject=["state","$q","DatasetRestService","StateService"],angular.module("data-prep.services.dataset").service("DatasetListService",t)}(),function(){"use strict";function t(t,e,a,r,n,i,o){function s(t){return r["delete"](t).then(m).then(function(e){return o.removeAllAggregations(t.id),e})}function l(t,e){var a=r.create(t,e);return a.then(m),a}function c(t,e){var a=r.importRemoteDataset(t,e);return a.then(m),a}function d(t){var e=r.update(t);return e.then(r.getDatasetsPromise).then(m),e}function u(t,e,a,n){var i=r.clone(t,e,a,n);return i.then(m),i}function p(t,e,a,n,i){var o=r.move(t,e,a,n,i);return o.then(m),o}function m(t){return i.refreshMetadataInfos(e.inventory.datasets).then(r.refreshPreparations),t}function f(){return r.hasDatasetsPromise()?r.getDatasetsPromise():g()}function g(){return r.refreshDatasets().then(m)}function v(t){return r.processCertification(t).then(m)}function h(t){return n.toggleFavorite(t).then(function(){t.favorite=!t.favorite,g()})}function y(t){var a=t.toLowerCase();return _.find(e.folder.currentFolderContent.datasets,function(t){return t.name.toLowerCase()===a})}function C(t){return r.getDatasetsPromise().then(function(e){return _.find(e,function(e){return e.id===t})})}function b(t,e,a){return{name:e,progress:0,file:t,error:!1,id:a,type:null===t?"remote":"file"}}function S(t){for(var e=t.replace(/\([0-9]+\)$/,"").trim(),a=e,r=1;y(a);)a=e+" ("+r+")",r++;return a}function w(t,e){return n.getSheetPreview(t.id,e)}function k(t,e){return t.sheetName=e,n.updateMetadata(t)}function T(t){return{defaultPreparation:t.defaultPreparation,preparations:t.preparations,separator:t.parameters.SEPARATOR,encoding:t.encoding}}function E(t,e){t.defaultPreparation=e.defaultPreparation,t.preparations=e.preparations,t.parameters.SEPARATOR=e.separator,t.encoding=e.encoding}function x(e,a){var r=T(e);return E(e,a),n.updateMetadata(e).then(function(){e.defaultPreparation=r.defaultPreparation,e.preparations=r.preparations})["catch"](function(a){return E(e,r),t.reject(a)})}function P(){return n.getEncodings().then(a.setDatasetEncodings)}return{"import":c,create:l,update:d,"delete":s,clone:u,move:p,updateColumn:n.updateColumn,processCertification:v,toggleFavorite:h,getMetadata:n.getMetadata,getContent:n.getContent,getDatasets:f,refreshDatasets:g,getDatasetById:C,getDatasetByName:y,getSheetPreview:w,setDatasetSheet:k,updateParameters:x,refreshSupportedEncodings:P,getUniqueName:S,createDatasetInfo:b}}t.$inject=["$q","state","StateService","DatasetListService","DatasetRestService","PreparationListService","StorageService"],angular.module("data-prep.services.dataset").service("DatasetService",t)}(),function(){"use strict";function t(t,e,a){var r;this.getTypes=function(){return r?t.when(r):e.get(a.typesUrl).then(function(t){return r=t.data})}}t.$inject=["$q","$http","RestURLs"],angular.module("data-prep.services.dataset").service("ColumnTypesService",t)}(),function(){"use strict";angular.module("talend.widget",["pascalprecht.translate","ngAnimate"])}(),function(){"use strict";function t(t,e){return{restrict:"E",templateUrl:"components/widgets/tooltip/tooltip.html",replace:!0,transclude:!0,scope:{position:"=",requestedState:"="},bindToController:!0,controller:"TalendTooltipCtrl",controllerAs:"talendTooltipCtrl",link:function(a,r,n,i){var o,s,l=function(){o||s?i.blockState():(i.unblockState(),a.$digest())};r.hover(function(){s=!0,l()},function(){s=!1,l()}),r.focusin(function(){o=!0,l()}),r.focusout(function(){o=!1,l()});var c=function(a){var r=t.innerWidth||e.documentElement.clientWidth||e.body.clientWidth;return a.x<r/2?{left:a.x+"px",right:"auto"}:{left:"auto",right:r-a.x+"px"}},d=function(a){var r=t.innerHeight||e.documentElement.clientHeight||e.body.clientHeight;return a.y<r/2?{top:a.y,bottom:"auto"}:{top:"auto",bottom:r-a.y+"px"}};a.$watch(function(){return i.position},function(t){if(t){var e=c(t),a=d(t);i.updatePosition(e,a)}})}}}t.$inject=["$window","$document"],angular.module("talend.widget").directive("talendTooltip",t)}(),function(){"use strict";function t(t){var e=this,a=!1;e.innerState=e.requestedState,e.blockState=function(){a=!0},e.unblockState=function(){a=!1,e.innerState=e.requestedState},e.updatePosition=function(t,a){e.style={left:t.left,right:t.right,top:a.top,bottom:a.bottom}},t.$watch(function(){return e.requestedState},function(t){a||(e.innerState=t)})}t.$inject=["$scope"],angular.module("talend.widget").controller("TalendTooltipCtrl",t)}(),function(){"use strict";function t(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"components/widgets/tabs/tabs-item.html",require:"^^talendTabs",scope:{tabTitle:"@","default":"=",onInit:"&"},bindToController:!0,controller:function(){},controllerAs:"tabsItemCtrl",link:function(t,e,a,r){var n=t.tabsItemCtrl;r.register(n),n["default"]&&r.select(n),t.$on("$destroy",function(){r.unregister(n)}),n.onInit()}}}angular.module("talend.widget").directive("talendTabsItem",t)}(),function(){"use strict";function t(){return{restrict:"E",transclude:!0,templateUrl:"components/widgets/tabs/tabs.html",
controller:"TalendTabsCtrl",controllerAs:"tabsCtrl",bindToController:!0,scope:{tab:"=",onTabChange:"&"},link:function(t,e,a,r){t.$watch(function(){return r.tab},r.setSelectedTab)}}}angular.module("talend.widget").directive("talendTabs",t)}(),function(){"use strict";function t(){var t=this;t.tabs=[],t.register=function(e){0===t.tabs.length&&(e.active=!0),t.tabs.push(e)},t.select=function(e){_.forEach(t.tabs,function(t){t.active=!1}),e.active=!0,t.onTabChange()},t.setSelectedTab=function(e){var a=t.tabs[e];a&&t.select(a)},t.unregister=function(e){var a=t.tabs.indexOf(e);t.tabs.splice(a,1)}}angular.module("talend.widget").controller("TalendTabsCtrl",t)}(),function(){"use strict";function t(t){return{restrict:"E",transclude:!0,replace:!0,templateUrl:"components/widgets/slidable/slidable.html",scope:{side:"@",visible:"=",resizable:"@",controlBar:"@"},bindToController:!0,controllerAs:"slidableCtrl",controller:function(){var t=this;t.cssClass="slide-"+t.side,t.actionCssClass=t.side,t.hasControlButton="false"!==t.controlBar,t.toggle=function(){t.visible=!t.visible}},link:function(e,a,r,n){if(n.resizable){var i="org.talend.dataprep."+n.resizable+".width",o=t.localStorage.getItem(i);o&&a.css("flex","0 0 "+o),a.resizable({handles:"right"===n.side?"w":"e",start:function(){a.addClass("no-transition")},stop:function(e,r){a.removeClass("no-transition"),o=r.size.width+"px",t.localStorage.setItem(i,o)},resize:function(t,e){a.css("left","auto"),a.css("right","auto"),a.css("flex","0 "+e.size.width+"px")}})}}}}t.$inject=["$window"],angular.module("talend.widget").directive("talendSlidable",t)}(),function(){"use strict";function t(t){return{restrict:"E",templateUrl:"components/widgets/quality-bar/quality-bar.html",scope:{enterAnimation:"@",quality:"=",hasMenu:"="},transclude:!0,bindToController:!0,controller:"QualityBarCtrl",controllerAs:"qualityBarCtrl",link:function(e,a,r,n){var i=!0,o=function(){n.blockTransition=!1},s=function(){n.width={invalid:0,empty:0,valid:0},o(),t(function(){n.computePercent(),n.computeQualityWidth(),e.$digest()},300,!1)},l=function(){i&&"false"===n.enterAnimation?(i=!1,n.blockTransition=!0,n.computePercent(),n.computeQualityWidth()):s()};e.$watch(n.hashQuality,l),n.hasMenu&&t(function(){var t=a.find(".valid-menu-item"),e=a.find(".empty-menu-items"),r=a.find(".invalid-menu-items");a.find(".valid-partition .quality-bar-menu").eq(0).append(t),a.find(".empty-partition .quality-bar-menu").eq(0).append(e),a.find(".invalid-partition .quality-bar-menu").eq(0).append(r)},300,!1)}}}t.$inject=["$timeout"],angular.module("talend.widget").directive("qualityBar",t)}(),function(){"use strict";function t(){var t=10,e=this,a=function(a){if(e.quality[a]<=0)return 0;var r=e.percent[a];return t>r?t:r},r=function(e){return _.chain(Object.keys(e)).filter(function(a){return e[a]>t}).sortBy(function(t){return e[t]}).reverse().value()},n=function i(t,e){if(!(0>=e)){var a=r(t);if(2>=e)return void(t[a[0]]-=e);var n=a[0],o=a.length>1?a[1]:a[0];t[n]-=2,t[o]-=1,i(t,e-3)}};e.computeQualityWidth=function(){var t={invalid:a("invalid"),empty:a("empty"),valid:a("valid")},r=t.invalid+t.empty+t.valid-100;r>0&&n(t,r),e.width=t},e.computePercent=function(){var t=e.quality.empty+e.quality.invalid+e.quality.valid;e.percent={invalid:e.quality.invalid<=0?0:Math.round(100*e.quality.invalid/t),empty:e.quality.empty<=0?0:Math.round(100*e.quality.empty/t),valid:e.quality.valid<=0?0:Math.round(100*e.quality.valid/t)}},e.hashQuality=function(){return e.quality.empty+""+e.quality.invalid+e.quality.valid}}angular.module("talend.widget").controller("QualityBarCtrl",t)}(),function(){"use strict";function t(t){return{restrict:"E",templateUrl:"components/widgets/navigation-list/navigation-list.html",scope:{list:"=",selectedItem:"=",onClick:"&",getLabel:"&",onAddItem:"&"},bindToController:!0,controllerAs:"navigationListCtrl",controller:function(){},link:function(e,a,r,n){var i=200;n.showAddButton=!!r.onAddItem,t(function(){function t(t){p.css("transform","translateX("+t+"px)")}function r(t){var e=n.list.indexOf(t)*i,a=m+e;return a>=0&&a<=u.width()-i}function o(t){var e=n.list.indexOf(t),a=e*i,r=m+a;if(0>r)return-a;var o=Math.floor(u.width()/i)||1;return-(e+1-o)*i}function s(){return n.selectedItem}function l(){return n.list}var c=a.find(".arrow-left").eq(0),d=a.find(".arrow-right").eq(0),u=a.find(".items-list-wrapper").eq(0),p=a.find(".items-list").eq(0),m=0;c.on("click",function(){0>m&&(m+=i,t(m))}),d.on("click",function(){m+n.list.length*i>=u.width()&&(m-=i,t(m))}),e.$watchGroup([l,s],function(){var e=n.list&&n.selectedItem&&n.list.indexOf(n.selectedItem)>-1;e?r(n.selectedItem)||(m=o(n.selectedItem),t(m)):(m=0,t(m))})},500,!1)}}}t.$inject=["$timeout"],angular.module("talend.widget").directive("navigationList",t)}(),function(){"use strict";function t(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"components/widgets/navbar/navbar.html",link:{post:function(t,e){var a=e.find(".navigation-menu-button").unbind(),r=e.find(".navigation-menu");r.removeClass("show"),a.on("click",function(t){t.preventDefault(),$(".navigation-menu").slideToggle(function(){"none"===r.css("display")&&r.removeAttr("style")})})}}}}angular.module("talend.widget").directive("talendNavbar",t)}(),function(){"use strict";function t(t){return{restrict:"EA",transclude:!0,templateUrl:"components/widgets/modal/modal.html",scope:{state:"=",closeButton:"=",fullscreen:"=",disableEnter:"=",beforeClose:"&",onClose:"&",disableCloseOnBackgroundClick:"="},bindToController:!0,controllerAs:"talendModalCtrl",controller:function(){},link:{post:function(e,i,o,s){var l=angular.element("body").eq(0),c=i.find(".modal-inner").eq(0),d=i.find(".modal-primary-button").eq(0),u=void 0!==o.beforeClose,p=function(){t(function(){u&&!s.beforeClose()||(s.state=!1)})},m=function(t){r(t);var e=n();e?e.focus():l.removeClass("modal-open")},f=function(){i.find(".talend-modal-close").on("click",p),s.disableCloseOnBackgroundClick||(i.find(".modal-window").on("click",p),c.on("click",function(t){t.stopPropagation()}))},g=function(){c.bind("keydown",function(t){27!==t.keyCode||s.disableCloseOnBackgroundClick?13===t.keyCode&&!s.disableEnter&&d.length&&d.click():p()})},v=function(){i.detach(),l.append(i)};f(),g(),v(),e.$on("$destroy",function(){m(c),i.remove()}),e.$watch(function(){return s.state},function(t,e){t?(l.addClass("modal-open"),a(c),c.focus(),setTimeout(function(){var t=i.find('input:not(".no-focus")').eq(1);t.length&&(t.focus(),t.select())},200)):e&&(s.onClose(),m(c))})}}}}var e=[],a=function(t){e.push(t)},r=function(t){var a=e.indexOf(t);a>-1&&(e=e.slice(0,a))},n=function(){return e.length?e[e.length-1]:void 0};t.$inject=["$timeout"],angular.module("talend.widget").directive("talendModal",t)}(),function(){"use strict";function t(t){return{restrict:"E",templateUrl:"components/widgets/loading/loading.html",link:function(e,a){var r;t.$on("talend.loading.start",function(){clearTimeout(r),a[0].className="is-loading",r=setTimeout(function(){a[0].className="is-loading show-loading"},200)}),t.$on("talend.loading.stop",function(){clearTimeout(r),a[0].className=""})}}}t.$inject=["$rootScope"],angular.module("talend.widget").directive("talendLoading",t)}(),function(){"use strict";function t(){return{restrict:"A",require:"ngModel",link:function(t,e,a,r){var n=angular.element('<div style="position:relative;"></div>');e.wrap(n);var i=angular.element('<div class="search-input-icon clear-icon"><span class="icon" data-icon="d"></span></div>'),o=angular.element('<div class="search-input-icon"><span class="icon" data-icon="D"></span></div>');e.parent().append(i),e.parent().append(o),t.$watch(function(){return r.$modelValue},function(t){t?(i.css("display","block"),o.css("display","none")):(o.css("display","block"),i.css("display","none"))}),i.on("click",function(){t.$apply(function(){r.$setViewValue(""),r.$render()})})}}}angular.module("talend.widget").directive("talendSearchInput",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/widgets/file-selector/file-selector.html",replace:!0,scope:{buttonDataIcon:"@",buttonTitle:"@",fileModel:"=",onFileChange:"&"},bindToController:!0,controllerAs:"talendFileSelectorCtrl",controller:function(){},link:function(t,e){e.find("span").bind("click",function(){e.find("input").click()})}}}angular.module("talend.widget").directive("talendFileSelector",t)}(),function(){"use strict";function t(t){return{restrict:"E",templateUrl:"components/widgets/editable-text/editable-text.html",scope:{placeholder:"@",text:"=",textTitle:"@",textClass:"@",editionMode:"=?",onTextClick:"&",onValidate:"&",onCancel:"&"},bindToController:!0,controller:"TalendEditableTextCtrl",controllerAs:"editableTextCtrl",link:function(e,a,r,n){t(function(){var t=a.find(".edition-text-input").eq(0);t.keydown(function(t){27===t.keyCode&&(t.stopPropagation(),n.cancel(),e.$digest())}),a.find(".edit-btn").eq(0).click(function(){t.focus(),t.select()})},0,!1),e.$watch(function(){return n.text},function(){n.reset()})}}}t.$inject=["$timeout"],angular.module("talend.widget").directive("talendEditableText",t)}(),function(){"use strict";function t(){function t(){n.editionText=n.text}function e(){t(),n.editionMode=!0}function a(){n.editionText!==n.text&&n.onValidate({text:n.editionText}),n.editionMode=!1}function r(){n.onCancel({text:n.editionText}),n.editionMode=!1}var n=this;n.edit=e,n.reset=t,n.validate=a,n.cancel=r}angular.module("talend.widget").controller("TalendEditableTextCtrl",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/widgets/editable-select/editable-select.html",scope:{list:"=",value:"=ngModel"},bindToController:!0,controller:function(){},controllerAs:"editableSelectCtrl"}}angular.module("talend.widget").directive("editableSelect",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/widgets/editable-regex/editable-regex.html",scope:{value:"=ngModel"},bindToController:!0,controller:"TalendEditableRegexCtrl",controllerAs:"editableRegexCtrl"}}angular.module("talend.widget").directive("talendEditableRegex",t)}(),function(){"use strict";function t(t){var e=this,a={key:"=",label:t.instant("EQUALS"),operator:"equals"},r={key:"â‰…",label:t.instant("CONTAINS"),operator:"contains"},n={key:">",label:t.instant("STARTS_WITH"),operator:"starts_with"},i={key:"<",label:t.instant("ENDS_WITH"),operator:"ends_with"},o={key:"^\\",label:t.instant("REGEX"),operator:"regex"};e.value=e.value?e.value:{token:"",operator:"contains"},e.types=[a,r,n,i,o],e.setSelectedType=function(t){e.value.operator=t.operator},e.getTypeKey=function(){var t=_.find(e.types,{operator:e.value.operator});return t.key}}t.$inject=["$translate"],angular.module("talend.widget").controller("TalendEditableRegexCtrl",t)}(),function(){"use strict";function t(t){return{restrict:"EA",transclude:!0,templateUrl:"components/widgets/dropdown/dropdown.html",scope:{closeOnSelect:"=",onOpen:"&",forceSide:"@"},bindToController:!0,controller:function(){},controllerAs:"ctrl",link:{post:function(e,a,r,n){function i(t){setTimeout(function(){t.focus()},100)}function o(){angular.element(".dropdown-menu").removeClass("show-menu")}function s(){b.removeClass("show-menu"),h.off("scroll",c)}function l(){b.addClass("show-menu"),c(),n.onOpen(),h.on("scroll",c),i(b)}function c(){p(),m()}function d(e){b.addClass("right"),b.css("right",t.innerWidth-e.right),b.css("left","auto")}function u(t){b.removeClass("right"),b.css("left",t.left),b.css("right","auto")}function p(){var t=y.length?y[0].getBoundingClientRect():C[0].getBoundingClientRect();switch(n.forceSide){case"left":u(t);break;case"right":d(t);break;default:d(t);var e=b[0].getBoundingClientRect();e.left<0&&u(t)}}function m(){var t=y.length?y[0].getBoundingClientRect():C[0].getBoundingClientRect(),e=b[0].getBoundingClientRect().height,a=t.bottom+g;a+e>h.height()?(a=t.top-g-e,b.addClass("top")):b.removeClass("top"),b.css("top",a)}function f(){var t=b.hasClass("show-menu");o(),t?s():l()}var g=5,v=angular.element("body").eq(0),h=angular.element(t),y=a.find(".dropdown-container"),C=a.find(".dropdown-action"),b=a.find(".dropdown-menu");C.click(f),b.click(function(t){t.stopPropagation(),n.closeOnSelect!==!1&&s()}),b.mousedown(function(t){t.stopPropagation()}),b.keydown(function(t){27===t.keyCode&&(s(),t.stopPropagation(),i(C))}),C.attr("tabindex","1"),b.attr("tabindex","2"),v.mousedown(s),a.on("$destroy",function(){e.$destroy()}),e.$on("$destroy",function(){v.off("mousedown",s),h.off("scroll",c)})}}}}t.$inject=["$window"],angular.module("talend.widget").directive("talendDropdown",t)}(),function(){"use strict";function t(){return{restrict:"E",replace:!0,templateUrl:"components/widgets/datetimepicker/datetimepicker.html",scope:{value:"=ngModel"},bindToController:!0,controller:function(){},controllerAs:"ctrl",link:function(t,e,a){Date.parseDate=function(t,e){return moment(t,e).toDate()},Date.prototype.dateFormat=function(t){return moment(this).format(t)};var r=a.format?a.format:"DD/MM/YYYY hh:mm:ss",n=a.formatTime?a.formatTime:"hh:mm:ss",i=a.formatDate?a.formatDate:"DD/MM/YYYY";e.datetimepicker({format:r,formatTime:n,formatDate:i});var o=function(){e.datetimepicker("hide")},s=function(){e.bind("keydown",function(t){27===t.keyCode&&(o(),t.stopPropagation())})};e.on("$destroy",function(){t.$destroy()}),s()}}}angular.module("talend.widget").directive("talendDatetimePicker",t)}(),function(){"use strict";function t(t,e,a,r,n,i){var o=a.find("body").eq(0),s=this,l=function(t,e){return i(t,e).then(function(e){return _.map(t,function(t){return e[t]})})},c=function(e,a,r){if(s.modalScope)throw new Error("A confirm popup is already created");s.modalScope=t.$new(!0),l(a,r).then(function(t){s.modalScope.texts=t}),e&&(s.modalScope.disableEnter=e.disableEnter)},d=function(){s.modalScope.$destroy(),s.modalScope=null},u=function(){s.element=angular.element('<talend-confirm disable-enter="disableEnter" texts="texts"></talend-confirm>'),e(s.element)(s.modalScope),o.append(s.element)},p=function(){s.element.remove(),s.element=null},m=function(){d(),p(),s.confirmResolve=null,s.confirmReject=null};this.resolve=function(){s.confirmResolve(),n(m)},this.reject=function(t){s.confirmReject(t),n(m)},this.confirm=function(t,e,a){return c(t,e,a),u(),r(function(t,e){s.confirmResolve=t,s.confirmReject=e})}}t.$inject=["$rootScope","$compile","$document","$q","$timeout","$translate"],angular.module("talend.widget").service("TalendConfirmService",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/widgets/confirm/confirm.html",scope:{disableEnter:"=",texts:"="},bindToController:!0,controller:"TalendConfirmCtrl",controllerAs:"confirmCtrl"}}angular.module("talend.widget").directive("talendConfirm",t)}(),function(){"use strict";function t(t,e){var a=this;a.modalState=!0,a.buttonClicked=!1,t.$watch(function(){return a.modalState},function(t){t||a.buttonClicked||e.reject("dismiss")}),a.valid=function(){a.buttonClicked=!0,e.resolve()},a.cancel=function(){a.buttonClicked=!0,e.reject(null)}}t.$inject=["$scope","TalendConfirmService"],angular.module("talend.widget").controller("TalendConfirmCtrl",t)}(),function(){"use strict";function t(){return{restrict:"E",scope:{onClick:"&",activeLimits:"=",keyField:"@",keyLabel:"@",primaryData:"=",primaryValueField:"@",secondaryData:"=",secondaryValueField:"@",showXAxis:"=",tooltipContent:"&"},link:function(t,e,a){function r(t){return o(t)||n(t)}function n(t){var e=i(t);return[e.min,e.max]}function i(e){return e[t.keyField]}function o(e){return e[t.keyField].label}function s(e){return e[t.primaryValueField]}function l(e){return e[t.secondaryValueField]}function c(){I={top:20,right:20,bottom:t.showXAxis?100:10,left:15},D=+a.width,L=+a.height+I.bottom,A=D-I.left-I.right,F=L-I.top-I.bottom}function d(){O=d3.scale.ordinal().rangeRoundBands([0,A],.2),N=d3.scale.linear().range([F,0])}function u(t){O.domain(t.map(r)),N.domain([0,d3.max(t,s)])}function p(){R=d3.select(U).append("svg").attr("class","vertical-barchart-cls").attr("width",D).attr("height",L).append("g").attr("transform","translate("+I.left+","+I.top+")"),R.call(B)}function m(){R.append("g").attr("class","primaryBar"),R.append("g").attr("class","secondaryBar")}function f(t){return t>0&&j>t?j:t}function g(t){var e=N(0),a=f(e-t);return e-a}function v(t,e,a,i){var o=R.select("."+t).selectAll("."+i).data(e,function(t){return""+n(t)});o.enter().append("rect").attr("class",i).attr("x",function(t){return O(r(t))}).attr("width",O.rangeBand()).attr("y",function(){return N(0)}).attr("height",0).transition().ease("cubic").delay(function(t,e){return 10*e}).attr("height",function(t){var e=F-N(a(t));return f(e)}).attr("y",function(t){var e=N(a(t));return g(e)}),o.transition().ease("exp").delay(function(t,e){return 30*e}).attr("height",function(t){var e=F-N(a(t));return f(e)}).attr("y",function(t){var e=N(a(t));return g(e)})}function h(){R.append("g").attr("class","x axis").attr("transform","translate(0,"+F+")").call(d3.svg.axis().scale(O).orient("bottom").ticks(5)).selectAll("text").attr("y",5).attr("x",-9).attr("dy",".35em").style("text-anchor","end").attr("transform","rotate(295)")}function y(){R.append("g").attr("class","yAxis").append("text").attr("x",-F/2).attr("y",-2).attr("transform","rotate(-90)").style("text-anchor","middle").text(M)}function C(){var t=20,e=Math.ceil(F/t),a=N.domain()[1]>e?e:N.domain()[1];R.append("g").attr("class","grid").call(d3.svg.axis().scale(N).orient("right").tickSize(A,0,0).tickFormat(d3.format(",d")).ticks(a)).selectAll(".tick text").attr("y",-5).attr("x",A).attr("dy",".15em").style("text-anchor","end")}function b(e){R.selectAll("g.bg-rect").data(e).enter().append("g").attr("class","hover").attr("transform",function(t){return"translate("+(O(r(t))-2)+", 0)"}).append("rect").attr("width",O.rangeBand()+4).attr("height",F).attr("class","bg-rect").style("opacity",0).on("mouseenter",function(t,e){d3.select(this).style("opacity",.4),B.show(t,e)}).on("mouseleave",function(t){d3.select(this).style("opacity",0),B.hide(t)}).on("click",function(e){var a=_.extend({},i(e));t.onClick({interval:a})})}function S(e,a){c(),d(),p(),u(e),m(),t.showXAxis&&h(e),v("primaryBar",e,s,"bar"),w(a),C(),y(),b(e),t.buckets=d3.selectAll("rect.bar")}function w(t){t&&v("secondaryBar",t,l,"blueBar")}function k(){$&&t.buckets.transition().delay(function(t,e){return 10*e}).style("opacity",function(t){var e=i(t),a=e.min,r=e.max,n=$[0],o=$[1];return a===n||o>a&&r>n?"1":".4"})}var T,E,x,P,I,D,L,A,F,R,O,N,j=3,M=t.keyLabel,$=t.activeLimits,U="#"+a.id,B=d3.tip().attr("class","vertical-barchart-cls d3-tip").offset([0,-11]).direction("w").html(function(e,a){var n=t.secondaryData?t.secondaryData[a]:void 0;return t.tooltipContent({keyLabel:t.keyLabel,key:r(e),primaryValue:s(e),secondaryValue:n&&l(n)})});t.$watchGroup(["primaryData","secondaryData"],function(t){var a=t[0],r=t[1],n=a!==T;n?(T=a,e.empty(),d3.selectAll(".vertical-barchart-cls.d3-tip").remove(),a&&(clearTimeout(E),E=setTimeout(S.bind(this,a,r),100))):(clearTimeout(x),x=setTimeout(w.bind(this,r),100))}),t.$watch("activeLimits",function(t){t&&(clearTimeout(P),P=setTimeout(function(){$=t,k()},500))}),t.$on("$destroy",function(){d3.selectAll(".vertical-barchart-cls.d3-tip").remove()})}}}angular.module("talend.widget").directive("verticalBarchart",t)}(),function(){"use strict";function t(t){return{restrict:"E",scope:{rangeLimits:"=",onBrushEnd:"&"},controller:"RangeSliderCtrl",controllerAs:"rangeSliderCtrl",bindToController:!0,templateUrl:"components/widgets/charts/range-slider/range-slider.html",link:function(e,a,r,n){function i(){function e(){if(n.brush.empty()){var t=n.brush.extent()[0],e=n.brush.extent()[1],a="1e-"+(b+2);k.select(".brush").call(n.brush.clear().extent([t,e+Number(a)]))}}function a(t){t=t.min>t.max?{min:t.max,max:t.min}:t,n.onBrushEnd({interval:t})}function r(t){var r=n.brush.extent();if(p.brush.min=+r[0].toFixed(b),p.brush.max=+r[1].toFixed(b),p.brush.min!==t[0]||p.brush.max!==t[1]){var i={min:t[0],max:t[1]};t[0]!==p.brush.min&&(i.min=p.brush.min,p.input.min=p.brush.min),t[1]!==p.brush.max&&(i.max=p.brush.max,p.input.max=p.brush.max),e(),a(i)}}function i(){var a=g.max>=1e10||g.min<=1e-10?1:3;k.append("g").attr("class","x axis").attr("transform","translate(0,"+(c.top+20)+")").call(d3.svg.axis().scale(w).orient("top").ticks(a).tickFormat(function(t){return d3.format(",")(t)})).selectAll("text").attr("y",-13),k.append("g").append("text").attr("class","the-minimum-label").attr("x",-10).attr("y",u).attr("text-anchor","start").attr("fill","grey").text(function(){return d3.format(",")(g.min)}),k.append("g").append("text").attr("class","the-maximum-label").attr("x",d+10).attr("y",u).attr("text-anchor","end").attr("fill","grey").text(function(){return d3.format(",")(g.max)}),n.brush=d3.svg.brush().x(w).extent([S,S]),l=k.append("g").attr("transform","translate(0,"+(c.top+10)+")").attr("class","brush").call(n.brush),l.call(n.brush.event).transition().duration(400).call(n.brush.extent([v,h])),l.selectAll(".resize").append("rect").attr("transform",function(t,e){return e?"translate(-10, 0)":"translate(0,0)"}).attr("width",10),l.selectAll("rect").attr("height",20),l.select(".extent").attr("height",14).attr("transform","translate(0,3)"),e();var i;n.brush.on("brushstart",function(){i=n.brush.extent()}).on("brush",function(){var e=n.brush.extent();i[0]!==e[0]&&t(function(){n.minMaxModel.minModel=e[0].toFixed(b)}),i[1]!==e[1]&&t(function(){n.minMaxModel.maxModel=e[1].toFixed(b)})}).on("brushend",function(){r(i)})}function o(){n.invalidNumber=!0;var t=n.minMaxModel.minModel+n.minMaxModel.maxModel;n.invalidNumberWithComma=n.checkCommaExistence(t)}function s(){n.invalidNumber=!1,n.invalidNumberWithComma=!1}function m(){s(),t(function(){n.minMaxModel.minModel=""+p.input.min,n.minMaxModel.maxModel=""+p.input.max})}function f(){var t,e;n.handleKey=function(a){return function(r){switch(r.keyCode){case 9:case 13:null!==t&&null!==e?n.prepareInputFilter():m();break;case 27:m();break;default:t="min"===a?n.toNumber(n.minMaxModel.minModel):t,e="max"===a?n.toNumber(n.minMaxModel.maxModel):e,null===t||null===e?o():s()}}},n.stopPropagation=function(t){t.stopPropagation()}}var g=n.rangeLimits,v="undefined"!=typeof g.minBrush?g.minBrush:g.min,h="undefined"!=typeof g.maxBrush?g.maxBrush:g.max,y="undefined"!=typeof g.minFilterVal?g.minFilterVal:g.min,C="undefined"!=typeof g.maxFilterVal?g.maxFilterVal:g.max,b=d3.max([n.decimalPlaces(v),n.decimalPlaces(h)]);p.input={min:y,max:C},n.minMaxModel={minModel:""+p.input.min,maxModel:""+p.input.max},p.brush={min:v,max:h};var S=(v+h)/2,w=d3.scale.linear().domain([g.min,g.max]).range([0,d]),k=d3.select(".range-slider-id").append("svg").attr("width",d+c.left+c.right).attr("height",u+c.top+c.bottom).attr("class","range-slider-cls").append("g").attr("transform","translate("+c.left+","+c.top+")");n.prepareInputFilter=function(){if(n.areMinMaxNumbers()){var t=+n.minMaxModel.minModel,r=+n.minMaxModel.maxModel;if(p.input.min===t&&p.input.max===r)return;p.input.min=t,p.input.max=r,b=d3.max([n.decimalPlaces(t),n.decimalPlaces(r)]),p.brush=n.adaptRangeValues(t,r,g.min,g.max),l.transition().call(n.brush.extent([p.brush.min,p.brush.max])),e();var i={min:p.input.min,max:p.input.max};a(i)}else m()},m(),f(),i()}function o(t,e){return!n.brush||e.min!==t.min||e.max!==t.max||p.brush.min!==t.minBrush||p.brush.max!==t.maxBrush}var s;n.showRangeInputs=!0;var l,c={top:5,right:20,bottom:5,left:15},d=r.width-c.left-c.right,u=r.height-c.top-c.bottom,p={input:{},brush:{}};e.$watch(function(){return n.rangeLimits},function(t,e){t?o(t,e)&&(a.find("svg").remove(),n.showRangeInputs=!1,t.min!==t.max&&(clearTimeout(s),n.showRangeInputs=!0,s=setTimeout(function(){i()},100))):(a.find("svg").remove(),n.showRangeInputs=!1,n.brush=null)})}}}t.$inject=["$timeout"],angular.module("talend.widget").directive("rangeSlider",t)}(),function(){"use strict";function t(){var t=this;t.areMinMaxNumbers=function(){var e=t.toNumber(t.minMaxModel.minModel),a=t.toNumber(t.minMaxModel.maxModel);return!(null===e||null===a)},t.toNumber=function(t){return t=t.trim(),/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/.test(t)?Number(t):null},t.checkCommaExistence=function(t){return t.indexOf(",")>-1},t.decimalPlaces=function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0))},t.adaptRangeValues=function(t,e,a,r){if(t>e){var n=t;t=e,e=n}return e>r?e=r:a>e&&(e=a),t>r?t=r:a>t&&(t=a),{min:t,max:e}}}angular.module("talend.widget").controller("RangeSliderCtrl",t)}(),function(){"use strict";function t(){return{restrict:"E",scope:{onClick:"&",keyField:"@",keyLabel:"@",primaryData:"=",primaryValueField:"@",primaryBarClass:"@",secondaryData:"=",secondaryValueField:"@",secondaryBarClass:"@",tooltipContent:"&"},link:function(t,e,a){function r(e){return e[t.keyField]}function n(e){return e[t.primaryValueField]}function i(e){return e[t.secondaryValueField]}function o(){return t.primaryBarClass?t.primaryBarClass:"transparentBar"}function s(){return t.secondaryBarClass?t.secondaryBarClass:"blueBar"}function l(t,e){w=d3.scale.linear().range([0,t]),k=d3.scale.ordinal().rangeBands([0,e],.18)}function c(t){w.domain([0,d3.max(t,n)]),k.domain(t.map(r))}function d(t){var e;e=w.domain()[1]>=1e9?2:w.domain()[1]<1e9&&w.domain()[1]>=1e6?3:w.domain()[1]<1e6&&w.domain()[1]>=1e3?5:7;var a=w.domain()[1]>e?e:w.domain()[1];T=d3.svg.axis().scale(w).tickFormat(d3.format(",d")).orient("top").tickSize(-t).ticks(a),E=d3.svg.axis().scale(k).orient("left").tickSize(0)}function u(t,e){x=d3.select(D).append("svg").attr("class","horizontal-barchart-cls").attr("width",t).attr("height",e).append("g").attr("transform","translate("+L.left+","+L.top+")"),x.call(F)}function p(){x.append("g").attr("class","grid").call(T).selectAll(".tick text").style("text-anchor","middle")}function m(){x.append("g").attr("class","primaryBar"),x.append("g").attr("class","secondaryBar")}function f(t){return t>0&&I>t?I:t}function g(t,e,a,n){var i=x.select("."+t).selectAll("."+n).data(e,r);i.enter().append("rect").attr("class",n).attr("transform",function(t){return"translate(0,"+k(r(t))+")"}).attr("height",k.rangeBand()).attr("width",w(0)).transition().delay(function(t,e){return 30*e}).attr("width",function(t){var e=w(a(t));return f(e)}),i.transition().ease("exp").delay(function(t,e){return 30*e}).attr("width",function(t){var e=w(a(t));return f(e)})}function v(t,e){x.append("g").attr("class","labels").selectAll("label").data(t).enter().append("foreignObject").attr("width",e).attr("height",k.rangeBand()).attr("transform",function(t){return"translate(0,"+k(r(t))+")"}).append("xhtml:div").attr("class","label "+s()).html(function(t){return r(t)||"(EMPTY)"})}function h(e,a){x.selectAll("g.bg-rect").data(e).enter().append("g").attr("class","hover").attr("transform",function(t){return"translate(0, "+(k(r(t))-2)+")"}).append("rect").attr("width",a).attr("height",k.rangeBand()+4).attr("class","bg-rect").style("opacity",0).on("mouseenter",function(t,e){d3.select(this).style("opacity",.4),F.show(t,e)}).on("mouseleave",function(t){d3.select(this).style("opacity",0),F.hide(t)}).on("click",function(e){t.onClick({item:_.extend({},e)})})}function y(t,e){var r=Math.ceil(+a.height/15*(t.length+1)),i=A-L.left-L.right,s=r-L.top-L.bottom;l(i,s),c(t),d(s),u(A,r),p(),m(),g("primaryBar",t,n,o()),C(e),v(t,i),h(t,i)}function C(t){t&&g("secondaryBar",t,i,s())}var b,S,w,k,T,E,x,P,I=3,D="#"+a.id,L={top:15,right:20,bottom:10,left:10},A=+a.width,F=d3.tip().attr("class","horizontal-barchart-cls d3-tip").offset([-10,0]).html(function(e,a){var o=t.secondaryData?t.secondaryData[a]:void 0;return t.tooltipContent({keyLabel:t.keyLabel,key:r(e),primaryValue:n(e),secondaryValue:o&&i(o)})});t.$watchGroup(["primaryData","secondaryData"],function(t){var a=t[0],r=t[1],n=a!==P;n?(P=a,e.empty(),d3.selectAll(".horizontal-barchart-cls.d3-tip").remove(),a&&(clearTimeout(b),b=setTimeout(y.bind(this,a,r),100))):(clearTimeout(S),S=setTimeout(C.bind(this,r),100))}),t.$on("$destroy",function(){d3.selectAll(".horizontal-barchart-cls.d3-tip").remove()})}}}angular.module("talend.widget").directive("horizontalBarchart",t)}(),function(){"use strict";function t(){return{restrict:"E",scope:{boxplotData:"="},link:function(t,e,a){function r(t){var e={top:30,right:80,bottom:70,left:80},a=o-e.left-e.right,r=s-e.top-e.bottom,n=1e3,l=d3.select("#"+i).append("svg").attr("width",a+e.left+e.right).attr("height",r+e.top+e.bottom).attr("class","box").append("g").attr("transform","translate("+e.left+","+e.top+")"),c=[t.q1,t.median,t.q2],d=d3.scale.linear().domain([t.min,t.max]).range([r,0]),u=l.append("g");u.append("line").attr("class","center").attr("x1",a/2).attr("y1",function(){return d(t.min)}).attr("x2",a/2).attr("y2",function(){return d(t.max)}).style("opacity",1e-6).transition().duration(n).style("opacity",1);var p=l.append("g"),m=p.append("g").selectAll("rect").data([c]);m.enter().append("rect").attr("x",0).attr("y",function(t){return d(t[2])}).attr("width",a).attr("height",function(){return d(t.q2)}),m.transition().duration(n).attr("height",function(t){return d(t[1])-d(t[2])});var f=p.append("g").selectAll("rect").data([c]);f.enter().append("rect").attr("x",0).attr("y",function(){return d(t.q2)}).attr("width",a).attr("height",function(t){return d(t[0])-d(t[2])}),f.transition().duration(1.5*n).ease("bounce").attr("y",function(t){return d(t[1])}).attr("height",function(t){return d(t[0])-d(t[1])});var g=function(t){return"0,"+d(t)+" "+a+","+d(t)+" "+(a-20)+","+(d(t)-20)+" "+(d(t)+20)+","+(d(t)-20)},v=function(t){return"0,"+d(t)+" "+a+","+d(t)+" "+(a-20)+","+(d(t)+20)+" 20,"+(d(t)+20)},h=l.append("g"),y=h.append("g");y.append("polygon").attr("class","whiskerPolyg").attr("points",g(t.max)),y.append("text").attr("class","max-min-labels").attr("x",a/2).attr("y",d(t.max)/2).text("Maximum").style("opacity",1).attr("text-anchor","middle").transition().duration(n).attr("y",-22).style("opacity",1);var C=h.append("g");C.append("polygon").attr("class","whiskerPolyg").attr("points",v(t.min)),C.append("text").attr("class","max-min-labels").attr("x",a/2).attr("y",d(t.min)/2).text("Minimum").style("opacity",1).attr("text-anchor","middle").transition().duration(n).attr("y",d(t.min)+30);var b=l.insert("g");b.append("circle").attr("class","mean").attr("r",17).attr("cx",a/2).attr("cy",function(){return d(t.mean)}).style("opacity",1).transition().duration(2*n).attr("r",7).style("opacity",1),b.append("circle").attr("r",1.5).attr("cx",a/2).attr("cy",function(){return d(t.mean)}).style("opacity",1e-6).style("shape-rendering","geometricPrecision").transition().duration(2*n).style("opacity",1);var S=l.append("g");S.append("text").attr("class","max-min-labels").attr("x",a/2).attr("y",d(t.min)/2).text(d3.format(",")(t.max)).style("opacity",1).attr("text-anchor","middle").transition().duration(n).attr("y",d(t.max)-10),S.append("text").attr("class","max-min-labels").attr("x",a/2).attr("y",d(t.min)/2).text(d3.format(",")(t.min)).style("opacity",1).attr("text-anchor","middle").transition().duration(n).attr("y",d(t.min)+17),S.append("text").attr("class","mean-labels").attr("x",a/2).attr("y",function(){return r-d(t.mean-t.min)<15?d(t.mean)-10:r-d(t.max-t.mean)<15?d(t.mean)+15:d(t.mean)-10}).text("Mean : "+d3.format(",")(t.mean)).style("opacity",1e-6).attr("text-anchor","middle").transition().duration(2*n).style("opacity",1),S.append("text").attr("class","low-quantile-labels").attr("x",a+5).attr("y",d(t.min)/2).text(d3.format(",")(t.q1)).style("opacity",1).attr("text-anchor","start").transition().duration(n).attr("y",d(t.q1)+10),S.append("text").attr("class","low-quantile-labels").attr("x",-5).attr("y",d(t.min)/2).text("Lower Quantile").style("opacity",1).attr("text-anchor","end").transition().duration(n).attr("y",d(t.q1)+10),S.append("text").attr("class","up-quantile-labels").attr("x",-5).attr("y",d(t.min)/2).text("Upper Quantile").style("opacity",1).attr("text-anchor","end").transition().duration(n).attr("y",d(t.q2)),S.append("text").attr("class","up-quantile-labels").attr("x",a+5).attr("y",d(t.min)/2).text(d3.format(",")(t.q2)).style("opacity",1).attr("text-anchor","start").transition().duration(n).attr("y",d(t.q2)),
S.append("text").attr("x",a-5).text(d3.format(",")(t.median)).style("opacity",1e-6).attr("text-anchor","end").attr("y",function(){return t.median>=t.mean?d(t.median)+15:d(t.median)-5}).transition().duration(3*n).style("opacity",1),S.append("text").attr("x",5).text("Median").style("opacity",1e-6).attr("text-anchor","start").attr("y",function(){return t.median>=t.mean?d(t.median)+15:d(t.median)-5}).transition().duration(3*n).style("opacity",1)}var n,i=a.id,o=+a.width,s=+a.height;t.$watch("boxplotData",function(t){e.empty(),t&&(clearTimeout(n),n=setTimeout(r.bind(this,t),100))})}}}angular.module("talend.widget").directive("boxplotChart",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/widgets/button-switch/button-switch.html",scope:{currentValue:"=",displayKey:"@",values:"=",changeAction:"&"},bindToController:!0,controller:function(){},controllerAs:"buttonSwitchCtrl",link:function(t,e,a,r){function n(){var t=r.values.indexOf(r.currentValue);return-1===t||t>=r.values.length-1?r.values[0]:r.values[t+1]}e.on("click",function(){r.changeAction({selected:n()})})}}}angular.module("talend.widget").directive("talendButtonSwitch",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/widgets/button-loader/button-loader.html",transclude:!0,scope:{buttonClass:"@",disableCondition:"=",loading:"=",loadingClass:"@"},bindToController:!0,controller:function(){},controllerAs:"buttonLoaderCtrl"}}angular.module("talend.widget").directive("talendButtonLoader",t)}(),function(){"use strict";function t(t){return{restrict:"E",transclude:!0,template:'<talend-dropdown class="button-dropdown" close-on-select="true"><div class="dropdown-container"><button class="button-dropdown-main" ng-click="buttonDropdownCtrl.buttonAction()"><i data-icon="{{buttonDropdownCtrl.buttonIcon}}" class="button-dropdown-main-icon" ng-if="buttonDropdownCtrl.buttonIcon"></i><div class="button-dropdown-main-text">{{buttonDropdownCtrl.buttonText}}<div></button><div class="line-separator"></div><button class="button-dropdown-side dropdown-action"></button><ng-transclude class="dropdown-menu"></ng-transclude></div></talend-dropdown>',scope:{buttonIcon:"@",buttonText:"@",buttonAction:"&"},bindToController:!0,controller:function(){},controllerAs:"buttonDropdownCtrl",link:function(e,a,r){r.buttonAction||t(function(){var t=a.find(".dropdown-action").eq(0);a.find(".button-dropdown-main").on("click",function(){t.click()})})}}}t.$inject=["$timeout"],angular.module("talend.widget").directive("talendButtonDropdown",t)}(),function(){"use strict";function t(t){return{restrict:"E",replace:!0,templateUrl:"components/widgets/badge/badge.html",scope:{onClose:"&",onChange:"&",text:"@",obj:"=",editable:"=",type:"="},bindToController:!0,controllerAs:"badgeCtrl",controller:"BadgeCtrl",link:function(e,a,r,n){var i=function(t){var e=7*(n.value.length+1)+"px";t.css("width",e)},o=function(t){t.keydown(function(e){13===e.keyCode&&t.blur(),27===e.keyCode&&(e.stopPropagation(),n.value=n.obj.value,t.val(n.obj.value),t.blur()),i(t)})};t(function(){var t=a.find("input.editable-input").eq(0);i(t),o(t),n.obj&&e.$watch(function(){return n.obj.value},function(){i(t)})},0,!1)}}}t.$inject=["$timeout"],angular.module("talend.widget").directive("talendBadge",t)}(),function(){"use strict";function t(t,e){var a=this;switch(a.value="",a.type){case"contains":a.sign=" â‰… ";break;case"exact":a.sign=" = ";break;case"inside_range":a.sign=" in ";break;default:a.sign=e.instant("COLON")}a.manageChange=function(){a.obj.value!==a.value&&a.onChange({obj:a.obj,newValue:a.value})},a.close=function(){a.onClose({obj:a.obj})},a.obj&&t.$watch(function(){return a.obj.value},function(){a.value=a.obj.value})}t.$inject=["$scope","$translate"],angular.module("talend.widget").controller("BadgeCtrl",t)}(),function(){"use strict";function t(t){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"components/widgets/accordions/accordions-item.html",require:"^^talendAccordions",scope:{"default":"=",onOpen:"&",action:"="},bindToController:!0,controller:function(){},controllerAs:"accordionsItemCtrl",link:function(e,a,r,n){var i,o,s=e.accordionsItemCtrl,l=a.find(">.trigger-container"),c=a.find(">.content-container"),d=function(){if(i)return i;var t=c.find(">.content").eq(0);return t.length&&(i=t),t},u=function(){n.register(o),s["default"]&&n.toggle(o)},p=function(){var t=c.find(">.trigger").eq(0);l.append(t)},m=function(){e.$on("$destroy",function(){n.unregister(o)})},f=function(){this.active=!0,d().slideDown("fast"),a.addClass("open"),s.onOpen(),s.action&&s.action(a)},g=function(){this.active=!1,d().slideUp("fast"),a.removeClass("open")},v=function(){o={active:!1,open:f,close:g}};v(),t(u,0,!1),t(p,0,!1),m(),s.toggle=function(){n.toggle(o)}}}}t.$inject=["$timeout"],angular.module("talend.widget").directive("talendAccordionsItem",t)}(),function(){"use strict";function t(){return{restrict:"E",replace:!0,transclude:!0,template:"<ul><ng-transclude></ng-transclude></ul>",controller:"TalendAccordionsCtrl",controllerAs:"accordionsCtrl"}}angular.module("talend.widget").directive("talendAccordions",t)}(),function(){"use strict";function t(){var t=this;t.accordions=[],t.register=function(e){t.accordions.push(e)},t.toggle=function(e){var a=e.active;_.forEach(t.accordions,function(t){t.close()}),a||e.open()},t.unregister=function(e){var a=t.accordions.indexOf(e);t.accordions.splice(a,1)}}angular.module("talend.widget").controller("TalendAccordionsCtrl",t)}(),function(){"use strict";angular.module("data-prep.validation",[])}(),function(){"use strict";function t(){return{restrict:"A",require:"ngModel",scope:{uniqueFolder:"="},link:function(t,e,a,r){r.$validators.uniqueFolderValidation=function(e){return""===e?!1:!_.find(t.uniqueFolder,function(t){return t.name.toLowerCase()===e.toLowerCase()})}}}}angular.module("data-prep.validation").directive("uniqueFolder",t)}(),function(){"use strict";function t(){return{require:"ngModel",link:function(t,r,n,i){var o=n.isType;i.$validators.isTypeValidation=function(t,r){if(i.$isEmpty(t))return!0;switch(o){case"integer":if(!e.test(r))return!1;break;case"numeric":case"double":case"float":if(!a.test(r))return!1}return!0}}}}var e=/^\-?\d+$/,a=/^\-?\d+(\.\d+)?$/;angular.module("data-prep.validation").directive("isType",t)}(),function(){"use strict";function t(){return{require:"ngModel",link:function(t,e,a,r){r.$validators.isDateTimeValidation=function(t){if(r.$isEmpty(t))return!1;var e=a.format?a.format:"DD/MM/YYYY hh:mm:ss";return moment(t,e,!0).isValid()}}}}angular.module("data-prep.validation").directive("isDateTime",t)}(),function(){"use strict";function t(){return{require:"ngModel",link:function(t,e,a,r){r.$validators.canBeBlankValidation=function(t){var e="false"===a.canBeBlank;return!e||null!==t&&!!(""+t).trim()}}}}angular.module("data-prep.validation").directive("canBeBlank",t)}(),function(){"use strict";angular.module("data-prep.type-transformation-menu",["data-prep.services.dataset","data-prep.services.playground","data-prep.services.utils"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/transformation/menu/type/type-transformation-menu.html",scope:{column:"="},bindToController:!0,controllerAs:"typeMenuCtrl",controller:"TypeTransformMenuCtrl",link:function(t,e,a,r){t.$watch(function(){return r.column},r.adaptDomains)}}}angular.module("data-prep.type-transformation-menu").directive("typeTransformMenu",t)}(),function(){"use strict";function t(t,e,a){function r(){o.currentDomain=o.column.domain?o.column.domain:o.column.type.toUpperCase(),o.currentSimplifiedDomain=o.column.domain?o.column.domain:a.simplifyType(o.column.type)}function n(t,e){o.column.domain=t.id,o.column.domainLabel=t.label,o.column.domainFrequency=t.frequency,e&&(o.column.type=e),r()}function i(){return{id:o.column.domain,label:o.column.domainLabel,frequency:o.column.domainFrequency}}var o=this;o.types=[],e.getTypes().then(function(t){var e=["double","numeric","any"];o.types=_.filter(t,function(t){return-1===e.indexOf(t.id.toLowerCase())})}),o.shouldBeChecked=function(t){return a.simplifyType(t.id)===a.simplifyType(o.currentDomain)},o.changeDomain=function(e){var a=i();n(e,null);var r={scope:"column",column_id:o.column.id,column_name:o.column.name,new_domain_id:e.id,new_domain_label:e.label,new_domain_frequency:e.frequency};t.appendStep("domain_change",r)["catch"](n.bind(o,a))},o.changeType=function(e){var a=o.column.type,r=i();n({id:"",label:"",frequency:0},e.id);var s={scope:"column",column_id:o.column.id,column_name:o.column.name,new_type:e.id};t.appendStep("type_change",s)["catch"](n.bind(o,r,a))},o.adaptDomains=function(){o.domains=_.chain(o.column.semanticDomains).filter("id").sortBy("frequency").reverse().value(),r()}}t.$inject=["PlaygroundService","ColumnTypesService","ConverterService"],angular.module("data-prep.type-transformation-menu").controller("TypeTransformMenuCtrl",t)}(),function(){"use strict";angular.module("data-prep.transformation-menu",["talend.widget","data-prep.transformation-form","data-prep.type-transformation-menu","data-prep.services.playground","data-prep.services.transformation","data-prep.services.state"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/transformation/menu/transformation-menu.html",scope:{column:"=",menuItems:"="},bindToController:!0,controllerAs:"menuCtrl",controller:"TransformMenuCtrl"}}angular.module("data-prep.transformation-menu").directive("transformMenu",t)}(),function(){"use strict";function t(t,e,a){function r(t,a){e.appendStep(t.name,a).then(function(){n.showModal=!1})}var n=this,i=function(e){var r={columnId:n.column.id,datasetId:t.playground.dataset.id,preparationId:t.playground.preparation?t.playground.preparation.id:null};return a.initDynamicParameters(e,r)};n.select=function(t,e){t.dynamic?(n.dynamicFetchInProgress=!0,n.showModal=!0,n.selectedMenu=t,n.selectedScope=e,i(t)["finally"](function(){n.dynamicFetchInProgress=!1})):t.parameters||t.items?(a.resetParamValue(t.parameters),a.resetParamValue(t.items,"CHOICE"),n.showModal=!0,n.selectedMenu=t,n.selectedScope=e):n.appendClosure(t,e)()},n.appendClosure=function(t,e){return function(a){a=a||{},a.scope=e,a.column_id=n.column.id,a.column_name=n.column.name,r(t,a)}}}t.$inject=["state","PlaygroundService","TransformationService"],angular.module("data-prep.transformation-menu").controller("TransformMenuCtrl",t)}(),function(){"use strict";angular.module("data-prep.transformation-form",["data-prep.services.state","data-prep.services.utils","data-prep.validation","talend.widget"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/transformation/form/transformation-form.html",scope:{transformation:"=",onSubmit:"&",onSubmitHoverOn:"&",onSubmitHoverOff:"&"},bindToController:!0,controllerAs:"formCtrl",controller:"TransformFormCtrl"}}angular.module("data-prep.transformation-form").directive("transformForm",t)}(),function(){"use strict";function t(){function t(e,a){return a&&_.forEach(a,function(a){if(e[a.name]="undefined"!=typeof a.value?a.value:a["default"],"select"===a.type){var r=_.find(a.configuration.values,{value:a.value});t(e,r.parameters)}}),e}var e=this,a=function(){return t({},e.transformation.parameters)},r=function(){var t={};return e.transformation.cluster&&_.chain(e.transformation.cluster.clusters).filter("active").forEach(function(e){var a=e.replace.value;_.forEach(e.parameters,function(e){e.value&&(t[e.name]=a)})}).value(),t},n=function(){var t=a(),e=r();return _.merge(t,e)};e.transformWithParam=function(){var t=n();e.onSubmit({params:t})},e.submitHoverOn=function(){var t=n();e.onSubmitHoverOn({params:t})},e.submitHoverOff=function(){var t=n();e.onSubmitHoverOff({params:t})}}angular.module("data-prep.transformation-form").controller("TransformFormCtrl",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/transformation/form/simple/transformation-simple-param.html",scope:{editableSelect:"=",parameter:"=",label:"@"},bindToController:!0,controllerAs:"simpleParamCtrl",controller:"TransformSimpleParamCtrl"}}angular.module("data-prep.transformation-form").directive("transformSimpleParam",t)}(),function(){"use strict";function t(t){var e=this,a=function(){"undefined"!=typeof e.parameter.initialValue&&null!==e.parameter.initialValue&&(e.parameter.initialValue=t.adaptValue(e.parameter.type,e.parameter.initialValue)),"undefined"!=typeof e.parameter.value&&null!==e.parameter.value?e.parameter.value=t.adaptValue(e.parameter.type,e.parameter.value):"undefined"!=typeof e.parameter["default"]&&null!==e.parameter["default"]&&(e.parameter["default"]=t.adaptValue(e.parameter.type,e.parameter["default"]),e.parameter.value=e.parameter["default"])},r=function(){e.parameter.inputType=t.toInputType(e.parameter.type)};a(),r()}t.$inject=["ConverterService"],angular.module("data-prep.transformation-form").controller("TransformSimpleParamCtrl",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/transformation/form/regex/transformation-regex-param.html",scope:{parameter:"="},bindToController:!0,controllerAs:"regexParamCtrl",controller:"TransformRegexParamCtrl"}}angular.module("data-prep.transformation-form").directive("transformRegexParam",t)}(),function(){"use strict";function t(){var t=this,e=function(){!angular.isDefined(t.parameter.value)&&angular.isDefined(t.parameter["default"])&&(t.parameter.value=t.parameter["default"])};e()}angular.module("data-prep.transformation-form").controller("TransformRegexParamCtrl",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/transformation/form/params/transformation-params.html",scope:{parameters:"="},bindToController:!0,controllerAs:"paramsCtrl",controller:"TransformParamsCtrl"}}angular.module("data-prep.transformation-form").directive("transformParams",t)}(),function(){"use strict";function t(){var t=this;t.getParameterType=function(t){var e=t.type.toLowerCase();switch(e){case"select":case"cluster":case"date":case"column":case"regex":return e;default:return"simple"}}}angular.module("data-prep.transformation-form").controller("TransformParamsCtrl",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/transformation/form/date/transformation-date-param.html",scope:{parameter:"=",label:"@"},bindToController:!0,controllerAs:"dateParamCtrl",controller:"TransformDateParamCtrl"}}angular.module("data-prep.transformation-form").directive("transformDateParam",t)}(),function(){"use strict";function t(){var t=this,e=function(){var e=t.parameter;e.value||(e.value=e["default"])};e()}angular.module("data-prep.transformation-form").controller("TransformDateParamCtrl",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/transformation/form/column/transformation-column-param.html",scope:{parameter:"="},bindToController:!0,controllerAs:"columnParamCtrl",controller:"TransformColumnParamCtrl"}}angular.module("data-prep.transformation-form").directive("transformColumnParam",t)}(),function(){"use strict";function t(t){var e=this;e.columns=[];var a=function(){var a=t.playground.grid.selectedColumn;e.columns=_.filter(t.playground.data.metadata.columns,function(t){return a!==t})},r=function(){e.parameter.value||e.columns.length&&(e.parameter.value=e.columns[0].id)};a(),r()}t.$inject=["state"],angular.module("data-prep.transformation-form").controller("TransformColumnParamCtrl",t)}(),function(){"use strict";function t(t){return{restrict:"E",templateUrl:"components/transformation/form/cluster/transformation-cluster-params.html",scope:{details:"="},bindToController:!0,controllerAs:"clusterParamsCtrl",controller:"TransformClusterParamsCtrl",link:function(e,a,r,n){function i(t){_.chain(o).zip(t).forEach(function(t){var e=t[0],a=t[1];e.lastState!==a&&(a?e.row.removeClass("disabled"):e.row.addClass("disabled"),e.inputs.prop("disabled",!a),e.selects.prop("disabled",!a),e.lastState=a)}).value()}var o=[];t(function(){var t=a.find(".cluster-body >.cluster-line");t.each(function(e){var a=t.eq(e),r=a.find("input:not(.cluster-activation)"),n=a.find("select"),i=a.find(">div:first >input.cluster-activation");o[e]={checkbox:i,row:a,inputs:r,selects:n}}),e.$watchCollection(function(){return _.map(n.details.clusters,"active")},function(t){n.refreshToggleCheckbox(),i(t)})},0,!1)}}}t.$inject=["$timeout"],angular.module("data-prep.transformation-form").directive("transformClusterParams",t)}(),function(){"use strict";function t(){var t=this;t.allCheckboxState=!0,t.refreshClusterState=function(){_.forEach(t.details.clusters,function(e){e.active=t.allCheckboxState})},t.initClusterState=function(){_.forEach(t.details.clusters,function(t){t.active=t.initialActive})},t.refreshToggleCheckbox=function(){var e=_.find(t.details.clusters,function(t){return!t.active});t.allCheckboxState=!e};var e=function(){_.forEach(t.details.clusters,function(t){_.forEach(t.parameters,function(t){t["default"]=!0})})},a=function(){var e=_.find(t.details.clusters,function(t){return"undefined"!=typeof t.initialActive});e?t.initClusterState():t.refreshClusterState()},r=function(){_.forEach(t.details.clusters,function(t){t.replace.list=_.map(t.parameters,"name")})};e(),r(),a()}angular.module("data-prep.transformation-form").controller("TransformClusterParamsCtrl",t)}(),function(){"use strict";function t(t,e){return{restrict:"E",templateUrl:"components/transformation/form/choice/transformation-choice-param.html",scope:{parameter:"="},bindToController:!0,controllerAs:"choiceParamCtrl",controller:"TransformChoiceParamCtrl",link:function(a,r,n,i){_.chain(i.parameter.configuration.values).filter(function(t){return t.parameters&&t.parameters.length}).forEach(function(a){var n=t.$new(!0);n.parameter=i.parameter,n.optionValue=a;var o='<transform-params parameters="optionValue.parameters" ng-if="parameter.value === optionValue.value" ></transform-params>';e(o)(n,function(t){r.append(t)})}).value()}}}t.$inject=["$rootScope","$compile"],angular.module("data-prep.transformation-form").directive("transformChoiceParam",t)}(),function(){"use strict";function t(){var t=this,e=function(){if(!t.parameter.value)if(t.parameter["default"]){var e=_.find(t.parameter.configuration.values,{value:t.parameter["default"]});t.parameter.value=e.value}else t.parameter.value=t.parameter.configuration.values[0].value};e()}angular.module("data-prep.transformation-form").controller("TransformChoiceParamCtrl",t)}(),function(){"use strict";angular.module("data-prep.suggestions-stats",["talend.widget","data-prep.actions-list","data-prep.actions-suggestions","data-prep.stats-details","data-prep.column-profile"])}(),function(){"use strict";function t(t){return{restrict:"E",templateUrl:"components/suggestions-stats/suggestions-stats.html",scope:{metadata:"="},bindToController:!0,controllerAs:"suggestionsStatsCtrl",controller:"SuggestionsStatsCtrl",link:function(e,a){t(function(){var t=a.find(".split-handler").eq(0),e=a.find(".split-pane1").eq(0),r=a.find(".split-pane2").eq(0);e.css("height","310px"),t.css("top","310px"),r.css("top","310px")},0,!1)}}}t.$inject=["$timeout"],angular.module("data-prep.suggestions-stats").directive("suggestionsStats",t)}(),function(){"use strict";function t(t){this.state=t}t.$inject=["state"],angular.module("data-prep.suggestions-stats").controller("SuggestionsStatsCtrl",t)}(),function(){"use strict";angular.module("data-prep.stats-details",["talend.widget","data-prep.services.state","data-prep.services.filter"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/suggestions-stats/stats-details/stats-details.html",bindToController:!0,controllerAs:"statsDetailsCtrl",controller:"StatsDetailsCtrl"}}angular.module("data-prep.stats-details").directive("statsDetails",t)}(),function(){"use strict";function t(t,e,a,r){var n=this;n.state=t,n.statisticsService=a,n.statisticsTooltipService=r,n.addPatternFilter=function(a){var r=t.playground.grid.selectedColumn;return a.pattern?e.addFilterAndDigest("matches",r.id,r.name,{pattern:a.pattern}):e.addFilterAndDigest("empty_records",r.id,r.name)}}t.$inject=["state","FilterService","StatisticsService","StatisticsTooltipService"],angular.module("data-prep.stats-details").controller("StatsDetailsCtrl",t)}(),function(){"use strict";angular.module("data-prep.column-profile",["talend.widget","data-prep.services.dataset","data-prep.services.filter","data-prep.services.playground","data-prep.services.statistics","data-prep.services.state"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/suggestions-stats/column-profile/column-profile.html",bindToController:!0,controllerAs:"columnProfileCtrl",controller:"ColumnProfileCtrl"}}angular.module("data-prep.column-profile").directive("columnProfile",t)}(),function(){"use strict";function t(t,e,a,r,n,i){function o(t){var a=e.playground.grid.selectedColumn;return t.length?n.addFilterAndDigest("exact",a.id,a.name,{phrase:t,caseSensitive:!0}):n.addFilterAndDigest("empty_records",a.id,a.name)}function s(){return!e.playground.statistics.histogram&&!c.stateDistribution}function l(){i.updateStatistics()["catch"](function(){t(l,1500,!1)})}var c=this;c.statisticsService=a,c.state=e,c.chartConfig={},c.statisticsTooltipService=r,c.addBarchartFilter=function(t){return o(t.data)},c.addRangeFilter=function(t){var r=e.playground.grid.selectedColumn;if(!t.label){var i=d3.format(",")(t.min),o=d3.format(",")(t.max);t.label=i===o?"["+i+"]":"["+i+" .. "+o+"["}var s=a.getRangeFilterRemoveFn();n.addFilterAndDigest("inside_range",r.id,r.name,{interval:[t.min,t.max],label:t.label,type:r.type},s)},c.aggregations=["SUM","MAX","MIN","AVERAGE"],c.getCurrentAggregation=function(){return e.playground.statistics.histogram&&e.playground.statistics.histogram.aggregation?e.playground.statistics.histogram.aggregation:"LINE_COUNT"},c.changeAggregation=function(t,r){e.playground.statistics.histogram&&e.playground.statistics.histogram.aggregationColumn===t&&e.playground.statistics.histogram.aggregation===r||(r?a.processAggregation(t,r):a.processClassicChart())},s()&&l()}t.$inject=["$timeout","state","StatisticsService","StatisticsTooltipService","FilterService","PlaygroundService"],Object.defineProperty(t.prototype,"aggregationColumns",{enumerable:!0,configurable:!0,get:function(){return this.statisticsService.getAggregationColumns()}}),angular.module("data-prep.column-profile").controller("ColumnProfileCtrl",t)}(),function(){"use strict";angular.module("data-prep.actions-suggestions",["talend.widget","data-prep.services.transformation","data-prep.services.state"])}(),function(){"use strict";function t(t){return{restrict:"E",templateUrl:"components/suggestions-stats/actions-suggestions/actions-suggestions.html",bindToController:!0,controllerAs:"actionsSuggestionsCtrl",controller:"ActionsSuggestionsCtrl",link:function(e,a,r,n){n.scrollToBottom=function(e){t(function(){var t,r=angular.element(".split-handler").eq(0),n=a.find(".action-suggestion-tab-items").eq(0),i=e.find(">.content-container"),o=n.offset(),s=i.offset(),l=i.context.clientHeight,c=s.top-o.top;c>=l?s.top>r.offset().top-l&&(t=n[0].scrollTop+l,n.animate({scrollTop:t},500)):(t=n[0].scrollTop+c-angular.element(".accordion").height(),n.animate({scrollTop:t},500))},200,!1)}}}}t.$inject=["$timeout"],angular.module("data-prep.actions-suggestions").directive("actionsSuggestions",t)}(),function(){"use strict";function t(t,e,a){var r=this;r.columnSuggestionService=a,r.suggestionService=e,r.state=t,r.shouldRenderAction=function(e){return t.playground.filter.applyTransformationOnFilters||"filtered"!==e.category},r.shouldRenderCategory=function(e){return t.playground.filter.applyTransformationOnFilters||"suggestion"!==e.category||_.find(e.transformations,function(t){return"filtered"!==t.category})}}t.$inject=["state","SuggestionService","ColumnSuggestionService"],angular.module("data-prep.actions-suggestions").controller("ActionsSuggestionsCtrl",t)}(),function(){"use strict";angular.module("data-prep.actions-list",["talend.widget","data-prep.services.transformation","data-prep.services.state"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/suggestions-stats/actions-list/actions-list.html",bindToController:!0,controllerAs:"actionsListCtrl",controller:"ActionsListCtrl",scope:{actions:"=",shouldRenderCategory:"=",shouldRenderAction:"=",scrollToBottom:"=",scope:"@"}}}angular.module("data-prep.actions-list").directive("actionsList",t)}(),function(){"use strict";function t(t,e,a,r){function n(){i.dynamicTransformation.cluster?i.dynamicTransformation.cluster.clusters.length?i.showModalContent=!0:(i.showModalContent=!1,i.emptyParamsMsg="NO_CLUSTERS_ACTION_MSG"):i.dynamicTransformation.parameters&&(i.dynamicTransformation.parameters.length?i.showModalContent=!0:(i.showModalContent=!1,i.emptyParamsMsg="NO_PARAMETERS_ACTION_MSG"))}var i=this;i.state=t,i.cancelEarlyPreview=r.cancelEarlyPreview,i.earlyPreview=function(t){return r.earlyPreview(t,i.scope)},i.dynamicTransformation=null,i.dynamicFetchInProgress=!1,i.showDynamicModal=!1,i.showModalContent=null;var o=function(a){var r={columnId:t.playground.grid.selectedColumn.id,datasetId:t.playground.dataset.id,preparationId:t.playground.preparation?t.playground.preparation.id:null};return e.initDynamicParameters(a,r)};i.select=function(t){t.dynamic?(i.dynamicTransformation=t,i.dynamicFetchInProgress=!0,i.showDynamicModal=!0,o(t)["finally"](function(){n(),i.dynamicFetchInProgress=!1})):i.transform(t,i.scope)()},i.transform=function(t){return function(e){r.deactivatePreview(),r.cancelPendingPreview(),a.append(t,i.scope,e).then(function(){i.showDynamicModal=!1})["finally"](function(){setTimeout(r.activatePreview,500)})}}}t.$inject=["state","TransformationService","TransformationApplicationService","EarlyPreviewService"],angular.module("data-prep.actions-list").controller("ActionsListCtrl",t)}(),function(){"use strict";angular.module("data-prep.recipe",["pascalprecht.translate","talend.widget","data-prep.services.playground","data-prep.services.recipe","data-prep.services.preparation","data-prep.services.state","data-prep.recipe-bullet","data-prep.transformation-form","data-prep.services.filter","data-prep.services.utils"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/recipe/recipe.html",controllerAs:"recipeCtrl",controller:"RecipeCtrl",link:function(t,e,a,r){function n(t){_.forEach(t,function(a){function r(t){return t.transformation.stepId===n||i&&t.actionParameters&&a.diff.createdColumns.indexOf(t.actionParameters.parameters.column_id)>-1}var n=a.transformation.stepId,i=a.diff&&a.diff.createdColumns&&a.diff.createdColumns.length,o=_.chain(t).filter(r).map(function(t){return e.find("#step-"+t.transformation.stepId)}).value(),s=e.find("#step-"+n).find("#step-remove-"+n);s.on("mouseover",function(){_.forEach(o,function(t){t.addClass("remove")})}),s.on("mouseout",function(){_.forEach(o,function(t){t.removeClass("remove")})})})}t.$watch(function(){return r.recipe},function(t){setTimeout(n.bind(null,t),0)})}}}angular.module("data-prep.recipe").directive("recipe",t)}(),function(){"use strict";function t(t,e,a,r,n,i,o,s,l){function c(t){p.showModal[t.transformation.stepId]=!!p.hasDynamicParams(t)}function d(e){t.playground.lookup.visibility&&t.playground.lookup.step===e?s.setLookupVisibility(!1):"lookup"===e.transformation.name&&l.loadFromStep(e).then(s.setLookupVisibility.bind(null,!0))}function u(t){return"lookup"===t.transformation.name}var p=this;p.recipeService=e,p.showModal={},p.resetParams=e.resetParams,p.stepUpdateClosure=function(t){return function(e){p.updateStep(t,e)}},p.updateStep=function(t,e){return a.updateStep(t,e).then(function(){p.showModal={}})},p.removeStepFilter=function(t,e){if("delete_lines"===t.actionParameters.action&&1===t.filters.length)i.warning("REMOVE_LAST_STEP_FILTER_TITLE","REMOVE_LAST_STEP_FILTER_CONTENT",null);else{var a=t.filters.indexOf(e),r=t.filters.splice(a,1),n=o.toTree(t.filters),s=_.extend({},_.omit(t.actionParameters.parameters,"filter"),n);p.updateStep(t,s)["catch"](function(){t.filters.push(r[0])})}},p.select=function(t){c(t),d(t)},p.remove=function(e,r){r.stopPropagation(),a.removeStep(e).then(function(){t.playground.lookup.visibility&&t.playground.lookup.step&&s.setLookupVisibility(!1)})},p.getAddedColumnsInLookup=function(t){var e=_.pluck(t.actionParameters.parameters.lookup_selected_cols,"name"),a={};return a.initialColsNbr=e.length,a.firstCol=e.splice(0,1).join(),a.secondCol=e.splice(0,1).join(),a.restOfColsNbr=e.length,a.restOfCols=e.join(", "),a},p.hasParameters=function(t){return!u(t)&&(p.hasStaticParams(t)||p.hasDynamicParams(t))},p.hasStaticParams=function(t){return t.transformation.parameters&&t.transformation.parameters.length||t.transformation.items&&t.transformation.items.length},p.hasDynamicParams=function(t){return t.transformation.cluster},p.previewUpdateClosure=function(t){return function(e){a.updatePreview(t,e)}},p.getAllFiltersNames=function(t){return"("+_.pluck(t,"colName").join(", ").toUpperCase()+")"},p.cancelPreview=n.cancelPreview}t.$inject=["state","RecipeService","PlaygroundService","PreparationService","PreviewService","MessageService","FilterAdapterService","StateService","LookupService"],Object.defineProperty(t.prototype,"recipe",{enumerable:!0,configurable:!1,get:function(){return this.recipeService.getRecipe()}}),angular.module("data-prep.recipe").controller("RecipeCtrl",t)}(),function(){"use strict";angular.module("data-prep.recipe-bullet",["data-prep.services.recipe","data-prep.services.playground"])}(),function(){"use strict";function t(t){return{restrict:"E",scope:{step:"="},templateNamespace:"svg",controller:"RecipeBulletCtrl",controllerAs:"recipeBulletCtrl",bindToController:!0,templateUrl:"components/recipe/bullet/recipe-bullet.html",link:function(e,a,r,n){function i(t){var e=t===n.stepIndex?a.find(".all-svg-cls"):p(t),r=e.find(">path").eq(1)[0];r.setAttribute("class","single-maillon-cables-disabled")}var o=angular.element(".recipe").eq(0),s=a.find("path").eq(0)[0],l=a.find("circle")[0],c=a.find("path").eq(1)[0],d=[],u=function(){return o.find("recipe-bullet").find("circle").toArray()},p=function(t){return o.find(".all-svg-cls").eq(t)},m=function(t){return function(e){e.setAttribute("class",t)}},f=function(){var t=o.find(".single-maillon-cables-disabled").toArray();_.each(t,function(t){t.setAttribute("class","")})},g=function(){n.height=a.height()+5;var t="M 15 0 L 15 11 Z",e=21,r="M 15 31 L 15 "+n.height+" Z";s.setAttribute("d",t),l.setAttribute("cy",e),c.setAttribute("d",r)},v=function(){n.stepHoverStart();var t=u();d=n.getBulletsToChange(t);var e=n.step.inactive?"maillon-circle-disabled-hovered":"maillon-circle-enabled-hovered";_.each(d,m(e))},h=function(){n.stepHoverEnd(),_.each(d,m(""))},y=function(t){t.stopPropagation(),n.toggleStep(),f(),n.step.inactive||n.isStartChain()?n.isEndChain()||i(n.stepIndex):i(n.stepIndex-1)},C=function(){t(function(){$(".accordion").each(function(){$(this).trigger("mouseover")})},200)};n.isEndChain()?(l.addEventListener("mouseenter",v),l.addEventListener("mouseleave",h)):(a.mouseenter(v),a.mouseleave(h)),l.addEventListener("click",y),a.closest(".accordion").mouseover(function(){t(g,0,!1)}),a.closest(".accordion").click(function(){C()}),e.$watch(n.height,function(){C()}),t(g,0,!1)}}}t.$inject=["$timeout"],angular.module("data-prep.recipe-bullet").directive("recipeBullet",t)}(),function(){"use strict";function t(t,e){var a=this;a.height=36,a.stepIndex=t.getStepIndex(a.step),a.getBulletsToChange=function(e){if(a.step.inactive){var r=t.getActiveThresholdStepIndex();return e.slice(r+1,a.stepIndex+1)}return e.slice(a.stepIndex)},a.isStartChain=function(){return t.isFirstStep(a.step)},a.isEndChain=function(){return t.isLastStep(a.step)},a.stepHoverStart=function(){e.stepHoverStart(a.step)},a.stepHoverEnd=function(){e.stepHoverEnd(a.step)},a.toggleStep=function(){e.toggleStep(a.step);
}}t.$inject=["RecipeService","RecipeBulletService"],angular.module("data-prep.recipe-bullet").controller("RecipeBulletCtrl",t)}(),function(){"use strict";angular.module("data-prep.preparation-list",["ui.router","talend.widget","data-prep.services.preparation","data-prep.services.playground","data-prep.services.state"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/preparation-list/preparation-list.html",bindToController:!0,controllerAs:"preparationListCtrl",controller:"PreparationListCtrl"}}angular.module("data-prep.preparation-list").directive("preparationList",t)}(),function(){"use strict";function t(t,e,a,r,n,i,o,s,l){var c=this;c.preparationService=o,c.state=r,c.load=function(t){i.load(t).then(function(){a(n.showPlayground)})},c.remove=function(t){s.confirm({disableEnter:!0},["DELETE_PERMANENTLY","NO_UNDONE_CONFIRM"],{type:"preparation",name:t.name}).then(function(){return o["delete"](t)}).then(function(){l.success("REMOVE_SUCCESS_TITLE","REMOVE_SUCCESS",{type:"preparation",name:t.name})})},c.rename=function(e,a){var r=a?a.trim():"";return r?(t.$emit("talend.loading.start"),o.setName(e.id,a).then(function(){l.success("PREPARATION_RENAME_SUCCESS_TITLE","PREPARATION_RENAME_SUCCESS")})["finally"](function(){t.$emit("talend.loading.stop")})):void 0},c.clone=function(e){return t.$emit("talend.loading.start"),o.clone(e.id).then(function(){l.success("PREPARATION_COPYING_SUCCESS_TITLE","PREPARATION_COPYING_SUCCESS")})["finally"](function(){t.$emit("talend.loading.stop")})};var d=function(t){if(e.prepid){var a=_.find(t,function(t){return t.id===e.prepid});a?c.load(a):l.error("PLAYGROUND_FILE_NOT_FOUND_TITLE","PLAYGROUND_FILE_NOT_FOUND",{type:"preparation"})}};o.getPreparations().then(d)}t.$inject=["$rootScope","$stateParams","$timeout","state","StateService","PlaygroundService","PreparationService","TalendConfirmService","MessageService"],angular.module("data-prep.preparation-list").controller("PreparationListCtrl",t)}(),function(){"use strict";angular.module("data-prep.playground",["ui.router","pascalprecht.translate","talend.widget","data-prep.dataset-parameters","data-prep.datagrid","data-prep.export","data-prep.filter-bar","data-prep.history-control","data-prep.lookup","data-prep.recipe","data-prep.suggestions-stats","data-prep.services.onboarding","data-prep.services.preparation","data-prep.services.playground","data-prep.services.recipe","data-prep.services.state"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/playground/playground.html",bindToController:!0,controllerAs:"playgroundCtrl",controller:"PlaygroundCtrl"}}angular.module("data-prep.playground").directive("playground",t)}(),function(){"use strict";function t(t,e,a,r,n,i,o,s,l,c,d,u){function p(t){return f.changeNameInProgress=!0,n.createOrUpdatePreparation(t)["finally"](function(){f.changeNameInProgress=!1})}function m(){f.showNameValidation=!1,r.hidePlayground()}var f=this;f.playgroundService=n,f.previewService=o,f.recipeService=s,f.onboardingService=c,f.state=a,f.showNameValidation=!1,f.toggleRecipe=l.toggleRecipe,f.confirmPrepNameEdition=function(e){var r=e.trim();!f.changeNameInProgress&&r&&p(r).then(function(){return t.go("nav.home.preparations",{prepid:a.playground.preparation.id},{location:"replace",inherit:!1})})},f.toggleLookup=function(){a.playground.lookup.visibility?r.setLookupVisibility(!1):d.initLookups().then(r.setLookupVisibility.bind(null,!0))},f.beforeClose=function(){var t=a.playground.preparation&&a.playground.preparation.draft;return t?(f.showNameValidation=!0,!1):!0},f.discardSaveOnClose=function(){i["delete"](a.playground.preparation).then(m)},f.confirmSaveOnClose=function(){f.saveInProgress=!0;var t=f.preparationName.trim();p(t).then(m)["finally"](function(){f.saveInProgress=!1,u.getContent(a.folder.currentFolder)})},f.close=function(){i.refreshPreparations(),e.prepid?t.go("nav.home.preparations",{prepid:null}):e.datasetid&&t.go("nav.home.datasets",{datasetid:null})},f.openFeedbackForm=r.showFeedback,f.toggleParameters=r.toggleDatasetParameters,f.changeDatasetParameters=function(t){r.setIsSendingDatasetParameters(!0),n.changeDatasetParameters(t).then(r.hideDatasetParameters)["finally"](r.setIsSendingDatasetParameters.bind(null,!1))}}t.$inject=["$state","$stateParams","state","StateService","PlaygroundService","PreparationService","PreviewService","RecipeService","RecipeBulletService","OnboardingService","LookupService","FolderService"],Object.defineProperty(t.prototype,"preparationName",{enumerable:!0,configurable:!1,get:function(){return this.playgroundService.preparationName},set:function(t){this.playgroundService.preparationName=t}}),Object.defineProperty(t.prototype,"previewInProgress",{enumerable:!0,configurable:!1,get:function(){return this.previewService.previewInProgress()}}),Object.defineProperty(t.prototype,"hasRecipe",{enumerable:!0,configurable:!1,get:function(){return this.recipeService.getRecipe().length}}),Object.defineProperty(t.prototype,"hasActiveStep",{enumerable:!0,configurable:!1,get:function(){var t=this.recipeService.getRecipe()[0];return t&&!t.inactive},set:function(){}}),angular.module("data-prep.playground").controller("PlaygroundCtrl",t)}(),function(){"use strict";angular.module("data-prep.navbar",["ui.router","data-prep.services.dataset","data-prep.services.easter-eggs","data-prep.services.feedback","data-prep.services.onboarding","data-prep.services.utils"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/navbar/navbar.html",scope:{},bindToController:!0,controller:"NavbarCtrl",controllerAs:"navbarCtrl"}}angular.module("data-prep.navbar").directive("navbar",t)}(),function(){"use strict";function t(t,e,a,r,n,i,o){var s=this,l="dataset";this.startTour=r.startTour,this.version=e,this.copyRights=a,"nav.home.datasets"===t.current.name&&!t.params.datasetid&&r.shouldStartTour(l)&&n.getDatasets().then(function(){setTimeout(r.startTour.bind(null,l),100)}),s.openFeedbackForm=i.showFeedback,s.searchInput="",s.search=function(){o.enableEasterEgg(s.searchInput)}}t.$inject=["$state","version","copyRights","OnboardingService","DatasetService","StateService","EasterEggsService"],angular.module("data-prep.navbar").controller("NavbarCtrl",t)}(),function(){"use strict";angular.module("data-prep.lookup",["talend.widget","data-prep.services.state","data-prep.services.dataset","data-prep.services.transformation","data-prep.lookup-datagrid-header","data-prep.services.statistics","data-prep.services.utils","data-prep.services.lookup"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/lookup/lookup.html",scope:{visible:"="},bindToController:!0,controllerAs:"lookupCtrl",controller:"LookupCtrl"}}angular.module("data-prep.lookup").directive("lookup",t)}(),function(){"use strict";function t(t,e,a,r,n,i,o,s){function l(){var t=s.getLookupDatasetsSort();t&&a.setLookupDatasetsSort(_.find(e.playground.lookup.sortList,{id:t}))}function c(){var t=s.getLookupDatasetsOrder();t&&a.setLookupDatasetsOrder(_.find(e.playground.lookup.orderList,{id:t}))}function d(t){return _.reduce(t.parameters,function(t,e){return t[e.name]=e["default"],t},{})}function u(){var t=d(e.playground.lookup.dataset);return t.column_id=e.playground.grid.selectedColumn.id,t.column_name=e.playground.grid.selectedColumn.name,t.lookup_join_on=e.playground.lookup.selectedColumn.id,t.lookup_join_on_name=e.playground.lookup.selectedColumn.name,t.lookup_selected_cols=e.playground.lookup.columnsToAdd,t}var p=this;p.state=e,p.cancelEarlyPreview=n.cancelEarlyPreview,p.loadFromAction=r.loadFromAction,p.addLookupDatasetModal=!1,p.hoverSubmitBtn=function(){if(e.playground.lookup.step)o.updatePreview(e.playground.lookup.step,u());else{var t=n.earlyPreview(e.playground.lookup.dataset,"dataset");t(u())}},p.getDsName=function(t){return _.find(t.parameters,{name:"lookup_ds_name"})["default"]},p.submit=function(){n.deactivatePreview(),n.cancelPendingPreview();var t,r=p.state.playground.lookup.step;t=r?o.updateStep(r,u()):i.append(e.playground.lookup.dataset,"dataset",u()),t.then(a.setLookupVisibility.bind(null,!1))["finally"](function(){setTimeout(n.activatePreview,500)})},p.openAddLookupDatasetModal=function(){r.disableDatasetsUsedInRecipe(),p.addLookupDatasetModal=!0},p.addLookupDatasets=function(){r.updateLookupDatasets(),p.addLookupDatasetModal=!1,e.playground.lookup.addedActions.length>0&&r.loadFromAction(e.playground.lookup.addedActions[0])},p.toogleSelect=function(t){t.enableToAddToLookup&&(t.addedToLookup=!t.addedToLookup)},p.updateSortBy=function(e){t(function(){a.setLookupDatasetsSort(e),s.setLookupDatasetsSort(e.id)})},p.updateSortOrder=function(e){t(function(){a.setLookupDatasetsOrder(e),s.setLookupDatasetsOrder(e.id)})},l(),c()}t.$inject=["$timeout","state","StateService","LookupService","EarlyPreviewService","TransformationApplicationService","PlaygroundService","StorageService"],angular.module("data-prep.lookup").controller("LookupCtrl",t)}(),function(){"use strict";function t(t,e,a){function r(){u&&(clearTimeout(u),u=null),p&&(t.cancel(p),p=null)}function n(r){u=setTimeout(function(){var n=d.getCellFromEvent(r);if(n){var i=n.row,o=e.playground.lookup.dataView.getItem(i),l=d.getColumns()[n.cell],c=o[l.id]+"";s(c,n)&&(p=t(function(){f.tooltip={position:{x:r.clientX,y:r.clientY},htmlStr:a.adaptToGridConstraints(c)},f.showTooltip=!0}))}},m)}function i(t){r(),n(t)}function o(){r(),f.showTooltip&&t(function(){f.showTooltip=!1})}function s(t,e){if(""===t)return!1;var a=t+"";if(a.indexOf("\n")>-1)return!0;var r=d.getCellNodeBox(e.row,e.cell),n=f.tooltipRuler;return n.text(a),r.right-r.left-12<=n.width()||r.bottom-r.top<n.height()}function l(){d.onMouseEnter.subscribe(i),d.onMouseLeave.subscribe(o)}function c(t){d=t,l()}var d,u,p,m=300,f={showTooltip:!1,tooltip:{},tooltipRuler:null,init:c};return f}t.$inject=["$timeout","state","TextFormatService"],angular.module("data-prep.lookup").service("LookupDatagridTooltipService",t)}(),function(){"use strict";function t(t,e){function a(){m.resetActiveCell()}function r(t,e){t.cssClass=(t.cssClass||"")+" "+e}function n(t,e){t===e&&r(t,"selected")}function i(e){var a=t.simplifyType(e.tdpColMetadata.type);"integer"!==a&&"decimal"!==a||r(e,"numbers")}function o(t,e){_.forEach(t,function(t){"tdpId"===t.id?t.cssClass="index-column":(t.cssClass=null,n(t,e),i(t))})}function s(t){var a=t.quality.invalidValues,r=function(t){return a.indexOf(t)>=0};return function(t,a,n){var i=e.adaptToGridConstraints(n);return i+(r(n)?'<div title="Invalid Value" class="red-rect"></div>':'<div class="invisible-rect"></div>')}}function l(t,e){a(),o(m.getColumns(),e.column),m.invalidate()}function c(){m.onHeaderContextMenu.subscribe(l),m.onHeaderClick.subscribe(l)}function d(t){var e=m.getColumns(),a=e[t];clearTimeout(f),f=setTimeout(function(){o(e,a),m.invalidate()},100)}function u(){m.onActiveCellChanged.subscribe(function(t,e){angular.isDefined(e.cell)&&d(e.cell)})}function p(t){m=t,c(),u()}var m,f;return{init:p,updateColumnClass:o,columnFormatter:s}}t.$inject=["ConverterService","TextFormatService"],angular.module("data-prep.lookup").service("LookupDatagridStyleService",t)}(),function(){"use strict";function t(t,e,a,r,n,i,o){function s(){a.playground.lookup.dataView.onRowCountChanged.subscribe(function(){g.updateRowCount(),g.render()}),a.playground.lookup.dataView.onRowsChanged.subscribe(function(t,e){g.invalidateRows(e.rows),g.render()})}function l(e){var a=e.tdpColMetadata!==f;a&&(f=e.tdpColMetadata,t(function(){r.setLookupSelectedColumn(e.tdpColMetadata)}))}function c(){g.onActiveCellChanged.subscribe(function(t,e){if(angular.isDefined(e.cell)){var a=g.getColumns()[e.cell];l(a)}})}function d(){function t(t){var e=t.column.id,a=_.find(g.getColumns(),{id:e});l(a)}g.onHeaderContextMenu.subscribe(function(e,a){t(a)}),g.onHeaderClick.subscribe(function(e,a){t(a)})}function u(){_.forEach(v,function(t){t.init(g)})}function p(){e.addEventListener("resize",function(){g.resizeCanvas()},!0)}function m(t){var e={autoEdit:!1,editable:!1,enableAddRow:!1,enableCellNavigation:!0,enableTextSelectionOnCells:!1,syncColumnCellResize:!1,frozenColumn:0,forceFitColumns:!0};return g=new Slick.Grid(t,a.playground.lookup.dataView,[{id:"tdpId"}],e),s(),c(),d(),p(),u(),g}var f,g=null,v=[i,n,o];return{initGrid:m}}t.$inject=["$timeout","$window","state","StateService","LookupDatagridStyleService","LookupDatagridColumnService","LookupDatagridTooltipService"],angular.module("data-prep.lookup").service("LookupDatagridGridService",t)}(),function(){"use strict";function t(t,e,a,r){function n(t){return{id:t.id,field:t.id,name:"",formatter:r.columnFormatter(t),minWidth:120,tdpColMetadata:t}}function i(t){var e=[],a='<div class="lookup-slick-header-column-index">#</div>';return e.push({id:u,name:a,field:u,maxWidth:45,formatter:function(t,e,a){return'<div class="index-cell">'+a+"</div>"},resizable:!1,selectable:!1}),_.union(e,_.map(t,function(t){return n(t)}))}function o(r){var n=e.$new(!0);n.column=r,n.added=_.find(t.playground.lookup.columnCheckboxes,{id:r.id});var i=angular.element('<lookup-datagrid-header column="column" added="added"></lookup-datagrid-header>');return a(i)(n),{id:r.id,scope:n,header:i}}function s(t,e){var a=e.column;if(a.id!==u){var r=o(a.tdpColMetadata),n=angular.element(e.node);n.append(r.header)}}function l(){d.onHeaderCellRendered.subscribe(s)}function c(t){d=t,l()}var d,u="tdpId";return{init:c,createColumns:i}}t.$inject=["state","$rootScope","$compile","LookupDatagridStyleService"],angular.module("data-prep.lookup").service("LookupDatagridColumnService",t)}(),function(){"use strict";function t(t,e,a,r,n){return{restrict:"E",templateUrl:"components/lookup/grid/lookup-datagrid.html",bindToController:!0,controllerAs:"lookupDatagridCtrl",controller:"LookupDatagridCtrl",link:function(i,o,s,l){var c,d,u=function(){return t.playground.lookup.data},p=function(t){if(t){c&&c.scrollRowToTop(0),m();var e,n,i=l.state.playground.lookup.selectedColumn;clearTimeout(d),d=setTimeout(function(){e=a.createColumns(t.metadata.columns),n=i?_.find(e,{id:i.id}):null,r.updateColumnClass(e,n),c.setColumns(e)},0)}},m=function(){c||(c=e.initGrid("#lookup-datagrid"),n.tooltipRuler=o.find("#lookup-tooltip-ruler").eq(0))};i.$watch(u,p)}}}t.$inject=["state","LookupDatagridGridService","LookupDatagridColumnService","LookupDatagridStyleService","LookupDatagridTooltipService"],angular.module("data-prep.lookup").directive("lookupDatagrid",t)}(),function(){"use strict";function t(t,e){this.datagridTooltipService=e,this.state=t}t.$inject=["state","LookupDatagridTooltipService"],Object.defineProperty(t.prototype,"tooltip",{enumerable:!0,configurable:!1,get:function(){return this.datagridTooltipService.tooltip}}),Object.defineProperty(t.prototype,"showTooltip",{enumerable:!0,configurable:!1,get:function(){return this.datagridTooltipService.showTooltip}}),angular.module("data-prep.lookup").controller("LookupDatagridCtrl",t)}(),function(){"use strict";angular.module("data-prep.lookup-datagrid-header",["talend.widget","data-prep.transformation-menu","data-prep.services.utils","data-prep.services.playground","data-prep.services.transformation"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/lookup/grid/header/lookup-datagrid-header.html",scope:{column:"=",added:"="},bindToController:!0,controllerAs:"lookupDatagridHeaderCtrl",controller:"LookupDatagridHeaderCtrl",link:function(t,e){var a,r;setTimeout(function(){a=e.find(".add-to-lookup"),a.on("click",function(t){t.stopPropagation(),r=a.find("input[type=checkbox]"),r&&r.click()})},250)}}}angular.module("data-prep.lookup-datagrid-header").directive("lookupDatagridHeader",t)}(),function(){"use strict";function t(t,e,a){var r=this;r.converterService=t,r.state=e,r.showCheckbox=function(){return r.state.playground.lookup.selectedColumn?r.column.id!==r.state.playground.lookup.selectedColumn.id:!1},r.updateColsToAdd=function(t){t.stopPropagation(),a.updateLookupColumnsToAdd()}}t.$inject=["ConverterService","state","StateService"],angular.module("data-prep.lookup-datagrid-header").controller("LookupDatagridHeaderCtrl",t)}(),function(){"use strict";angular.module("data-prep.inventory-item",["ui.router","pascalprecht.translate","talend.widget","data-prep.services.utils"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/inventory-item/inventory-item.html",replace:!0,bindToController:!0,controllerAs:"inventoryItemCtrl",controller:"InventoryItemCtrl",scope:{copy:"=",details:"@",fileModel:"=",item:"=",open:"=",openRelatedInv:"=",processCertification:"=",remove:"=",rename:"=",relatedInventories:"=",relatedInventoriesType:"@",toggleFavorite:"=",type:"@",update:"="}}}angular.module("data-prep.inventory-item").directive("inventoryItem",t)}(),function(){"use strict";function t(){var t=this;t.openRelatedInventoryItem=function(e){t.openRelatedInv&&t.openRelatedInv(e)},t.getTooltipContent=function(){return t.relatedInventories&&t.relatedInventories.length?{type:t.relatedInventoriesType,name:t.relatedInventories[0].name}:{type:t.type,name:t.item.name}},t.openInventoryItem=function(){t.relatedInventories&&t.relatedInventories.length?t.openRelatedInventoryItem(t.relatedInventories[0]):t.open&&t.open(t.item)}}angular.module("data-prep.inventory-item").controller("InventoryItemCtrl",t)}(),function(){"use strict";angular.module("data-prep.home",["talend.widget","data-prep.dataset-upload-list","data-prep.dataset-list","data-prep.playground","data-prep.preparation-list","data-prep.services.dataset","data-prep.services.utils","data-prep.services.datasetWorkflowService","data-prep.services.state","data-prep.services.folder","data-prep.folder"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/home/home.html",scope:{},bindToController:!0,controller:"HomeCtrl",controllerAs:"homeCtrl"}}angular.module("data-prep.home").directive("home",t)}(),function(){"use strict";function t(t,e,a,r,n,i,o,s,l){function c(){p.showRightPanelIcon=p.showRightPanel?"t":"u"}function d(){var e=t.localStorage.getItem(m);return e?JSON.parse(e):!1}function u(){t.localStorage.setItem(m,JSON.stringify(p.showRightPanel))}var p=this,m="org.talend.dataprep.data_inventory_panel_display";p.$state=l,p.importTypes=[{id:"local",name:"Local file"},{id:"http",name:"from HTTP"},{id:"hdfs",name:"from HDFS"}],p.showRightPanel=d(),p.showRightPanelIcon="u",c(),p.uploadingDatasets=o.dataset.uploadingDatasets,p.toggleRightPanel=function(){p.showRightPanel=!p.showRightPanel,u(),c()},p.startDefaultImport=function(){var t=_.find(p.importTypes,"id","local");p.startImport(t)},p.startImport=function(t){switch(t.id){case"local":document.getElementById("datasetFile").click();break;case"http":p.datasetHttpModal=!0;break;case"hdfs":p.datasetHdfsModal=!0}},p.importHttpDataSet=function(){var t={type:"http",name:p.datasetName,url:p.datasetUrl},a=r.createDatasetInfo(null,t.name);i.startUploadingDataset(a),r["import"](t,o.folder.currentFolder).then(function(t){r.getDatasetById(t.data).then(e.openDataset),s.getContent(o.folder.currentFolder)})["catch"](function(){a.error=!0})["finally"](function(){i.finishUploadingDataset(a)})},p.importHdfsDataSet=function(){var t={type:"hdfs",name:p.datasetName,url:p.datasetUrl},a=r.createDatasetInfo(null,t.name);i.startUploadingDataset(a),r["import"](t,o.folder.currentFolder).then(function(t){r.getDatasetById(t.data).then(e.openDataset),s.getContent(o.folder.currentFolder)})["catch"](function(){a.error=!0})["finally"](function(){i.finishUploadingDataset(a)})},p.uploadDatasetFile=function(){var t=p.datasetFile[0],e=t.name.replace(/\.[^/.]+$/,"");p.datasetName=e,r.getDatasetByName(e)?p.datasetNameModal=!0:p.uploadDatasetName()},p.uploadDatasetName=function(){var t=p.datasetFile[0],e=p.datasetName;p.existingDatasetFromName=r.getDatasetByName(e),p.existingDatasetFromName?n.confirm(null,["UPDATE_EXISTING_DATASET"],{dataset:p.datasetName}).then(p.updateExistingDataset)["catch"](function(t){"dismiss"!==t&&p.createDatasetFromExistingName()}):f(t,e)},p.createDatasetFromExistingName=function(){var t=p.datasetFile[0],e=p.datasetName;e=r.getUniqueName(e),f(t,e)},p.updateExistingDataset=function(){var t=p.datasetFile[0],e=p.existingDatasetFromName;a.updateDataset(t,e)};var f=function(t,a){var n=r.createDatasetInfo(t,a);i.startUploadingDataset(n),r.create(n,o.folder.currentFolder).progress(function(t){n.progress=parseInt(100*t.loaded/t.total)}).then(function(t){r.getDatasetById(t.data).then(e.openDataset),s.getContent(o.folder.currentFolder)})["catch"](function(){n.error=!0})["finally"](function(){i.finishUploadingDataset(n)})}}t.$inject=["$window","UploadWorkflowService","UpdateWorkflowService","DatasetService","TalendConfirmService","StateService","state","FolderService","$state"],angular.module("data-prep.home").controller("HomeCtrl",t)}(),function(){"use strict";angular.module("data-prep.history-control",["data-prep.services.history"])}(),function(){"use strict";function t(t,e){return{restrict:"E",templateUrl:"components/history-control/history-control.html",controller:function(){this.service=e},controllerAs:"historyCtrl",link:function(){t.on("keydown",function(t){90===t.keyCode&&t.ctrlKey?e.undo():89===t.keyCode&&t.ctrlKey&&e.redo()})}}}t.$inject=["$document","HistoryService"],angular.module("data-prep.history-control").directive("historyControl",t)}(),function(){"use strict";angular.module("data-prep.folder",["data-prep.services.state","data-prep.services.folder"])}(),function(){"use strict";function t(){return{templateUrl:"components/folder/folder.html",restrict:"E",bindToController:!0,controllerAs:"folderCtrl",controller:"FolderCtrl"}}angular.module("data-prep.folder").directive("folder",t)}(),function(){"use strict";function t(t,e,a,r){function n(){var t=r.getDatasetsSort();t&&a.setDatasetsSort(_.find(e.inventory.sortList,{id:t}))}function i(){var t=r.getDatasetsOrder();t&&a.setDatasetsOrder(_.find(e.inventory.orderList,{id:t}))}var o=this;o.state=e,o.goToFolder=function(e){t.getContent(e)},o.initMenuChildren=function(e){a.setMenuChildren([]),t.populateMenuChildren(e)},n(),i(),t.getContent()}t.$inject=["FolderService","state","StateService","StorageService"],angular.module("data-prep.folder").controller("FolderCtrl",t)}(),function(){"use strict";angular.module("data-prep.filter-search",["MassAutoComplete","pascalprecht.translate","data-prep.services.filter"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/filter/search/filter-search.html",scope:{},bindToController:!0,controllerAs:"filterCtrl",controller:"FilterSearchCtrl",link:function(t,e,a,r){e.bind("keydown",function(t){27===t.keyCode&&t.stopPropagation()});var n=e.find("input");n[0].onblur=function(){r.filterSearch=""}}}}angular.module("data-prep.filter-search").directive("filterSearch",t)}(),function(){"use strict";function t(t){var e=this,a=function(t){return function(e){return{label:t+" in <b>"+e.name+"</b>",value:t,columnId:e.id,columnName:e.name}}},r=function(e){var r=e.toLowerCase().trim(),n=t.getColumnsContaining(r);return _.chain(n).sortBy(function(t){return t.name.toLowerCase()}).map(a(r)).value()},n=function(a){t.addFilter("contains",a.columnId,a.columnName,{phrase:a.value}),e.filterSearch=""};e.filterSuggestOptions={suggest:r,on_select:n}}t.$inject=["FilterService"],angular.module("data-prep.filter-search").controller("FilterSearchCtrl",t)}(),function(){"use strict";angular.module("data-prep.filter-monitor",["data-prep.services.filter","data-prep.services.state"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/filter/monitor/filter-monitor.html",scope:{filters:"=",onReset:"&",nbLines:"=",nbTotalLines:"=",percentage:"="},bindToController:!0,controller:function(){},controllerAs:"filterMonitorCtrl"}}angular.module("data-prep.filter-monitor").directive("filterMonitor",t)}(),function(){"use strict";angular.module("data-prep.filter-list",["talend.widget"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/filter/list/filter-list.html",scope:{filters:"=",onFilterChange:"&",onFilterRemove:"&"},bindToController:!0,controllerAs:"filterCtrl",controller:"FilterListCtrl"}}angular.module("data-prep.filter-list").directive("filterList",t)}(),function(){"use strict";function t(){var t=this;t.changeFilter=function(e,a){t.onFilterChange({filter:e,value:a})},t.removeFilter=function(e){t.onFilterRemove({filter:e})}}angular.module("data-prep.filter-list").controller("FilterListCtrl",t)}(),function(){"use strict";angular.module("data-prep.filter-bar",["data-prep.filter-search","data-prep.filter-list","data-prep.filter-monitor"])}(),function(){"use strict";function t(t,e){return{restrict:"E",templateUrl:"components/filter/bar/filter-bar.html",scope:{},bindToController:!0,controller:function(){this.filterService=e,this.state=t},controllerAs:"filterBarCtrl"}}t.$inject=["state","FilterService"],angular.module("data-prep.filter-bar").directive("filterBar",t)}(),function(){"use strict";angular.module("data-prep.feedback",["talend.widget","data-prep.services.utils","data-prep.services.feedback","data-prep.services.state"])}(),function(){"use strict";function t(){return{templateUrl:"components/feedback/feedback.html",restrict:"E",bindToController:!0,controllerAs:"feedbackCtrl",controller:"FeedbackCtrl"}}angular.module("data-prep.feedback").directive("feedback",t)}(),function(){"use strict";function t(t,e,a,r,n,i){function o(){s.feedback={title:"",mail:i.getFeedbackUserMail(),severity:"MINOR",type:"BUG",description:""}}var s=this;s.isSendingFeedback=!1,s.state=t,e(["FEEDBACK_TYPE_BUG","FEEDBACK_TYPE_IMPROVEMENT","FEEDBACK_SEVERITY_CRITICAL","FEEDBACK_SEVERITY_MAJOR","FEEDBACK_SEVERITY_MINOR","FEEDBACK_SEVERITY_TRIVIAL"]).then(function(t){s.feedbackTypes=[{name:t.FEEDBACK_TYPE_BUG,value:"BUG"},{name:t.FEEDBACK_TYPE_IMPROVEMENT,value:"IMPROVEMENT"}],s.feedbackSeverities=[{name:t.FEEDBACK_SEVERITY_CRITICAL,value:"CRITICAL"},{name:t.FEEDBACK_SEVERITY_MAJOR,value:"MAJOR"},{name:t.FEEDBACK_SEVERITY_MINOR,value:"MINOR"},{name:t.FEEDBACK_SEVERITY_TRIVIAL,value:"TRIVIAL"}]}),o(),s.sendFeedback=function(){s.feedbackForm.$commitViewValue(),s.isSendingFeedback=!0,a.sendFeedback(s.feedback).then(function(){i.saveFeedbackUserMail(s.feedback.mail),o(),n.hideFeedback(),r.success("FEEDBACK_SENT_TITLE","FEEDBACK_SENT_CONTENT")})["finally"](function(){s.isSendingFeedback=!1})}}t.$inject=["state","$translate","FeedbackRestService","MessageService","StateService","StorageService"],angular.module("data-prep.feedback").controller("FeedbackCtrl",t)}(),function(){"use strict";angular.module("data-prep.export",["talend.widget","data-prep.services.utils","data-prep.services.playground","data-prep.services.export","data-prep.services.state"])}(),function(){"use strict";function t(){return{templateUrl:"components/export/export.html",restrict:"E",bindToController:!0,controllerAs:"exportCtrl",controller:"ExportCtrl",link:function(t,e,a,r){r.form=e.find("#exportForm").eq(0)[0]}}}angular.module("data-prep.export").directive("export",t)}(),function(){"use strict";function t(t,e,a,r,n,i){function o(){s.exportService.currentExportParameters={exportType:s.exportService.currentExportType.id},_.forEach(s.exportService.currentExportType.parameters,function(t){s.exportService.currentExportParameters["exportParameters."+t.name]=t.defaultValue.value,"fileName"===t.name&&(s.state.playground.preparation&&s.state.playground.preparation.name?s.exportService.currentExportParameters["exportParameters."+t.name]=s.state.playground.preparation.name:s.exportService.currentExportParameters["exportParameters."+t.name]=s.state.playground.dataset.name)})}var s=this;s.state=e,s.preparationService=a,s.recipeService=r,s.exportService=i,s.cancelCurrentParameters=function(){s.exportService.currentExportType=s.exportService.getType(s.exportService.getParameters().id),s.exportService.currentExportParameters=_.extend({},s.state.playground.exportParameters)},s.changeTypeAndExport=function(t){t.enabled&&(s.exportService.currentExportType=t,s.exportService.currentExportType.parameters?(s.state.playground.exportParameters?(s.exportService.currentExportParameters=_.extend({},s.state.playground.exportParameters),s.exportService.currentExportParameters.exportType=s.exportService.currentExportType.id):o(),s.showModal=!0):s["export"]())},s.saveEditionAndExport=function(){s.exportService.setParameters(s.exportService.currentExportType),s["export"]()},s["export"]=function(){s.exportService.currentExportParameters||o(),s.state.playground.exportParameters=_.extend({},s.exportService.currentExportParameters),t(function(){s.form.action=n.exportUrl,s.form.submit()})}}t.$inject=["$timeout","state","PreparationService","RecipeService","RestURLs","ExportService"],Object.defineProperty(t.prototype,"stepId",{enumerable:!0,configurable:!1,get:function(){var t=this.recipeService.getLastActiveStep();return t?t.transformation.stepId:""}}),Object.defineProperty(t.prototype,"datasetId",{enumerable:!0,configurable:!1,get:function(){var t=this.state.playground.dataset;return t?t.id:""}}),Object.defineProperty(t.prototype,"exportTypes",{enumerable:!0,configurable:!1,get:function(){return this.exportService.exportTypes}}),angular.module("data-prep.export").controller("ExportCtrl",t)}(),function(){"use strict";angular.module("data-prep.easter-eggs",["data-prep.services.state","data-prep.services.easter-eggs","data-prep.services.utils"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/easter-eggs/star-wars/star-wars.html"}}angular.module("data-prep.easter-eggs").directive("starWars",t)}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/easter-eggs/easter-eggs.html",bindToController:!0,controllerAs:"easterEggsCtrl",controller:"EasterEggsCtrl"}}angular.module("data-prep.easter-eggs").directive("easterEggs",t)}(),function(){"use strict";function t(t,e){var a=this;a.state=t,a.disableEasterEgg=e.disableEasterEgg}t.$inject=["state","StateService"],angular.module("data-prep.easter-eggs").controller("EasterEggsCtrl",t)}(),function(){"use strict";angular.module("data-prep.dataset-upload-list",["pascalprecht.translate"])}(),function(){"use strict";function t(){return{templateUrl:"components/dataset/upload-list/dataset-upload-list.html",restrict:"E",scope:{datasets:"="},bindToController:!0,controllerAs:"uploadListCtrl",controller:function(){}}}angular.module("data-prep.dataset-upload-list").directive("datasetUploadList",t)}(),function(){"use strict";angular.module("data-prep.dataset-xls-preview",["ui.router","pascalprecht.translate","talend.widget","data-prep.services.dataset","data-prep.services.playground","data-prep.services.utils","data-prep.services.state"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/dataset/preview/dataset-xls-preview.html",bindToController:!0,controllerAs:"previewCtrl",controller:"DatasetXlsPreviewCtrl"}}angular.module("data-prep.dataset-xls-preview").directive("datasetXlsPreview",t)}(),function(){"use strict";function t(t,e,a,r,n,i,o){var s=this;s.datasetSheetPreviewService=a;var l=function(){var t={enableColumnReorder:!1,editable:!1,enableAddRow:!1,enableCellNavigation:!0,enableTextSelectionOnCells:!1},e=new Slick.Grid("#datasetSheetPreviewGrid",[],[],t);a.grid=e};s.selectSheet=function(){return a.loadSheet(s.selectedSheetName)},s.setDatasetSheet=function(){a.setDatasetSheet(s.selectedSheetName).then(function(){r.refreshDatasets(),o.getContent(t.folder.currentFolder)}).then(function(){s.state=!1}).then(n.initPlayground.bind(null,s.metadata)).then(i.showPlayground)},e(l)}t.$inject=["state","$timeout","DatasetSheetPreviewService","DatasetService","PlaygroundService","StateService","FolderService"],Object.defineProperty(t.prototype,"state",{enumerable:!0,configurable:!1,get:function(){return this.datasetSheetPreviewService.showModal},set:function(t){this.datasetSheetPreviewService.showModal=t;
}}),Object.defineProperty(t.prototype,"metadata",{enumerable:!0,configurable:!1,get:function(){return this.datasetSheetPreviewService.currentMetadata}}),Object.defineProperty(t.prototype,"selectedSheetName",{enumerable:!0,configurable:!1,get:function(){return this.datasetSheetPreviewService.selectedSheetName},set:function(t){this.datasetSheetPreviewService.selectedSheetName=t}}),angular.module("data-prep.dataset-xls-preview").controller("DatasetXlsPreviewCtrl",t)}(),function(){"use strict";angular.module("data-prep.dataset-parameters",["pascalprecht.translate","talend.widget","data-prep.services.dataset","data-prep.services.playground"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/dataset/parameters/dataset-parameters.html",scope:{processing:"=",dataset:"=",onParametersChange:"&",configuration:"=",parameters:"="},bindToController:!0,controller:"DatasetParametersCtrl",controllerAs:"datasetParametersCtrl"}}angular.module("data-prep.dataset-parameters").directive("datasetParameters",t)}(),function(){"use strict";function t(){var t=this;t.separatorIsInList=function(){return t.parameters.separator&&_.find(t.configuration.separators,{value:t.parameters.separator})},t.validate=function(){t.onParametersChange({dataset:t.dataset,parameters:t.parameters})}}angular.module("data-prep.dataset-parameters").controller("DatasetParametersCtrl",t)}(),function(){"use strict";angular.module("data-prep.dataset-list",["ui.router","pascalprecht.translate","talend.widget","data-prep.dataset-xls-preview","data-prep.services.dataset","data-prep.services.playground","data-prep.services.datasetWorkflowService","data-prep.services.utils","data-prep.services.state","data-prep.services.folder","data-prep.inventory-item"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/dataset/list/dataset-list.html",replace:!0,bindToController:!0,controllerAs:"datasetListCtrl",controller:"DatasetListCtrl",link:function(t,e,a,r){r.focusOnNameInput=function(){angular.element('.clone-name input[type="text"]').eq(0)[0].focus()}}}}angular.module("data-prep.dataset-list").directive("datasetList",t)}(),function(){"use strict";function t(t,e,a,r,n,i,o,s,l,c,d,u,p){function m(t){o.initPlayground(t).then(function(){e(n.showPlayground)})}var f=this;f.datasetService=i,f.uploadWorkflowService=c,f.state=t,f.isCloningDs=!1,f.isMovingDs=!1,f.folderName="",f.foldersFound=[],f.cloneName="",f.updateSortBy=function(e){if(t.inventory.sort.id!==e.id){var a=t.inventory.sort;n.setDatasetsSort(e),p.setDatasetsSort(e.id),u.getContent(t.folder.currentFolder)["catch"](function(){n.setDatasetsSort(a),p.setDatasetsSort(a.id)})}},f.updateSortOrder=function(e){if(t.inventory.order.id!==e.id){var a=t.inventory.order;n.setDatasetsOrder(e),p.setDatasetsOrder(e.id),u.getContent(t.folder.currentFolder)["catch"](function(){n.setDatasetsOrder(a),p.setDatasetsOrder(a.id)})}},f.openPreparation=function(t){o.load(t).then(function(){e(n.showPlayground)})},f.uploadUpdatedDatasetFile=function(t){d.updateDataset(f.updateDatasetFile[0],t)},f.remove=function(e){s.confirm({disableEnter:!0},["DELETE_PERMANENTLY","NO_UNDONE_CONFIRM"],{type:"dataset",name:e.name}).then(function(){return i["delete"](e)}).then(function(){u.getContent(t.folder.currentFolder),l.success("REMOVE_SUCCESS_TITLE","REMOVE_SUCCESS",{type:"dataset",name:e.name})})},f.clone=function(){f.isCloningDs=!0,f.cloneNameForm.$commitViewValue(),i.clone(f.datasetToClone,f.folderDestination,f.cloneName).then(function(){l.success("COPY_SUCCESS_TITLE","COPY_SUCCESS"),u.getContent(t.folder.currentFolder),f.folderDestinationModal=!1,f.datasetToClone=null,f.folderDestination=null,f.foldersFound=[],f.cloneName="",f.isCloningDs=!1},function(){f.isCloningDs=!1,setTimeout(f.focusOnNameInput,1100)})},f.move=function(){f.isMovingDs=!0,f.cloneNameForm.$commitViewValue(),i.move(f.datasetToClone,t.folder.currentFolder,f.folderDestination,f.cloneName).then(function(){l.success("MOVE_SUCCESS_TITLE","MOVE_SUCCESS"),u.getContent(t.folder.currentFolder),f.folderDestinationModal=!1,f.datasetToClone=null,f.folderDestination=null,f.foldersFound=[],f.cloneName="",f.isMovingDs=!1},function(){f.isMovingDs=!1,setTimeout(f.focusOnNameInput,1100)})},f.rename=function(t,e){var a=e?e.trim().toLowerCase():"";if(a){if(t.renaming)return;if(i.getDatasetByName(a))return void l.error("DATASET_NAME_ALREADY_USED_TITLE","DATASET_NAME_ALREADY_USED");t.renaming=!0;var r=t.name;return t.name=e,i.update(t).then(function(){l.success("DATASET_RENAME_SUCCESS_TITLE","DATASET_RENAME_SUCCESS")})["catch"](function(){t.name=r})["finally"](function(){t.renaming=!1})}};var g=function(t){if(r.datasetid){var e=_.find(t,function(t){return t.id===r.datasetid});e?m(e):l.error("PLAYGROUND_FILE_NOT_FOUND_TITLE","PLAYGROUND_FILE_NOT_FOUND",{type:"dataset"})}};f.processCertification=function(e){f.datasetService.processCertification(e).then(u.getContent.bind(null,t.folder.currentFolder))},f.goToFolder=u.getContent,f.actionsOnAddFolderClick=function(){f.folderNameModal=!0,f.folderName=""},f.addFolder=function(){f.folderNameForm.$commitViewValue();var e=(t.folder.currentFolder.id?t.folder.currentFolder.id:"")+"/"+f.folderName;u.create(e).then(function(){u.getContent(t.folder.currentFolder),f.folderNameModal=!1})},f.renameFolder=function(e,a){var r=e.id,n=r.lastIndexOf("/"),i=r.substring(0,n)+"/"+a;u.rename(r,i).then(function(){u.getContent(t.folder.currentFolder)})},f.removeFolder=function(e){u.remove(e.id).then(function(){u.getContent(t.folder.currentFolder)})},f.openFolderChoice=function(e){f.datasetToClone=e,f.foldersFound=[],f.searchFolderQuery="",f.cloneName=e.name;var r=t.folder&&t.folder.currentFolder&&t.folder.currentFolder.id;if(r)var n=t.folder.currentFolder.id.split("/"),i=n[0];var o={id:"",path:"",collapsed:!1,name:a.instant("HOME_FOLDER")};u.children().then(function(t){o.nodes=t.data,f.chooseFolder(o),f.folders=[o],_.forEach(f.folders[0].nodes,function(t){t.collapsed=!0,r&&t.id===i&&(f.toggle(t,n.length>0?_.slice(n,1):null,i),f.chooseFolder(t))}),f.folderDestinationModal=!0})},f.toggle=function(t,e,a){t.collapsed?t.nodes?f.collapseNodes(t):u.children(t.id).then(function(r){t.nodes=r.data?r.data:[],f.collapseNodes(t),e&&e[0]&&(a+=a?"/"+e[0]:e[0],_.forEach(t.nodes,function(t){t.id===a&&(f.toggle(t,e.length>0?_.slice(e,1):null,a),f.chooseFolder(t))}))}):t.collapsed=!0},f.chooseFolder=function(t){var e=f.folderDestination;e&&(e.selected=!1),f.folderDestination=t,t.selected=!0},f.collapseNodes=function(t){_.forEach(t.nodes,function(t){t.collapsed=!0}),t.nodes.length>0?t.collapsed=!1:t.collapsed=!t.collapsed},f.searchFolders=function(){if(f.foldersFound=[],f.searchFolderQuery){var t=a.instant("HOME_FOLDER").indexOf(f.searchFolderQuery);u.search(f.searchFolderQuery).then(function(e){if(t>-1){var r={id:"",path:"",name:a.instant("HOME_FOLDER")};f.foldersFound.push(r),f.foldersFound=f.foldersFound.concat(e.data)}else f.foldersFound=e.data;f.foldersFound.length>0&&f.chooseFolder(f.foldersFound[0])})}else f.chooseFolder(f.folders[0])},i.getDatasets().then(g)}t.$inject=["state","$timeout","$translate","$stateParams","StateService","DatasetService","PlaygroundService","TalendConfirmService","MessageService","UploadWorkflowService","UpdateWorkflowService","FolderService","StorageService"],angular.module("data-prep.dataset-list").controller("DatasetListCtrl",t)}(),function(){"use strict";angular.module("data-prep.datagrid",["data-prep.datagrid-header","data-prep.services.statistics","data-prep.services.state","data-prep.services.utils"])}(),function(){"use strict";function t(t,e,a){function r(){u&&(clearTimeout(u),u=null),p&&(t.cancel(p),p=null)}function n(r){u=setTimeout(function(){var n=d.getCellFromEvent(r);if(n){var i=n.row,o=e.playground.grid.dataView.getItem(i),l=d.getColumns()[n.cell],c=o[l.id]+"";s(c,n)&&(p=t(function(){f.tooltip={position:{x:r.clientX,y:r.clientY},htmlStr:a.adaptToGridConstraints(c)},f.showTooltip=!0}))}},m)}function i(t){r(),n(t)}function o(){r(),f.showTooltip&&t(function(){f.showTooltip=!1})}function s(t,e){if(""===t)return!1;var a=t+"";if(a.indexOf("\n")>-1)return!0;var r=d.getCellNodeBox(e.row,e.cell),n=f.tooltipRuler;return n.text(a),r.right-r.left-12<=n.width()||r.bottom-r.top<n.height()}function l(){d.onMouseEnter.subscribe(i),d.onMouseLeave.subscribe(o)}function c(t){d=t,l()}var d,u,p,m=300,f={showTooltip:!1,tooltip:{},tooltipRuler:null,init:c};return f}t.$inject=["$timeout","state","TextFormatService"],angular.module("data-prep.datagrid").service("DatagridTooltipService",t)}(),function(){"use strict";function t(t,e,a){function r(){m.resetActiveCell(),m.setCellCssStyles("highlight",{})}function n(t,e){t.cssClass=(t.cssClass||"")+" "+e}function i(t,e){t.id===e&&n(t,"selected")}function o(t){var a=e.simplifyType(t.tdpColMetadata.type);"integer"!==a&&"decimal"!==a||n(t,"numbers")}function s(t){_.forEach(m.getColumns(),function(e){"tdpId"===e.id?e.cssClass="index-column":(e.cssClass=null,i(e,t),o(e))})}function l(t){var e=t.quality.invalidValues,r=function(t){return e.indexOf(t)>=0};return function(t,e,n,i,o){var s=a.adaptToGridConstraints(n);switch(o.__tdpRowDiff){case"delete":return'<div class="cellDeletedValue">'+(s?s:" ")+"</div>";case"new":return'<div class="cellNewValue">'+(s?s:" ")+"</div>"}if(o.__tdpDiff&&o.__tdpDiff[i.id])switch(o.__tdpDiff[i.id]){case"update":return'<div class="cellUpdateValue">'+s+"</div>";case"new":return'<div class="cellNewValue">'+s+"</div>";case"delete":return'<div class="cellDeletedValue">'+(s?s:" ")+"</div>"}return s+(r(n)?'<div title="Invalid Value" class="red-rect"></div>':'<div class="invisible-rect"></div>')}}function c(t){switch(t.__tdpColumnDiff){case"new":return"newColumn";case"delete":return"deletedColumn";case"update":return"updatedColumn";default:return""}}function d(t){r(),s(t)}function u(e,a){var r=t.getSameContentConfig(e,a,"highlight");m.setCellCssStyles("highlight",r)}function p(t){m=t}var m;return{init:p,columnFormatter:l,getColumnPreviewStyle:c,highlightCellsContaining:u,resetCellStyles:r,resetStyles:d,updateColumnClass:s}}t.$inject=["DatagridService","ConverterService","TextFormatService"],angular.module("data-prep.datagrid").service("DatagridStyleService",t)}(),function(){"use strict";function t(t,e){function a(){return"org.talend.dataprep.col_size_"+e.playground.dataset.id}function r(e){var r=a(),i=t.localStorage.getItem(r),o=i&&JSON.parse(i)||{};_.forEach(e,function(t){t.minWidth=c,t.width=o[t.id]||d}),l.setColumns(e),n()}function n(){var e=a(),r={};_.forEach(l.getColumns(),function(t){r[t.id]=t.width}),t.localStorage.setItem(e,JSON.stringify(r))}function i(){t.addEventListener("resize",function(){l.resizeCanvas()},!0)}function o(){l.onColumnsResized.subscribe(n)}function s(t){l=t,i(),o()}var l,c=40,d=120;return{init:s,autosizeColumns:r}}t.$inject=["$window","state"],angular.module("data-prep.datagrid").service("DatagridSizeService",t)}(),function(){"use strict";function t(t,e,a,r,n,i,o,s,l){function c(a,r){t(e.setGridSelection.bind(null,a,r))}function d(){a.playground.grid.dataView.onRowCountChanged.subscribe(function(){g.updateRowCount(),g.render()}),a.playground.grid.dataView.onRowsChanged.subscribe(function(t,e){g.invalidateRows(e.rows),g.render()})}function u(){g.onActiveCellChanged.subscribe(function(t,e){if(angular.isDefined(e.cell)){var r=g.getColumns()[e.cell];c(r.tdpColMetadata,e.row)}else c(a.playground.grid.selectedColumn,null)}),g.onHeaderContextMenu.subscribe(function(t,e){c(e.column.tdpColMetadata,null)}),g.onHeaderClick.subscribe(function(t,e){c(e.column.tdpColMetadata,null)})}function p(){if(r.focusedColumn){var t=_.findIndex(g.getColumns(),{id:r.focusedColumn}),e=g.getRenderedRange(),a=+((e.bottom-e.top)/2).toFixed(0);g.scrollCellIntoView(e.top+a,t,!1)}}function m(){_.forEach(v,function(t){t.init(g)})}function f(t){var e={autoEdit:!1,editable:!0,enableAddRow:!1,enableCellNavigation:!0,enableTextSelectionOnCells:!1,syncColumnCellResize:!1,frozenColumn:0,asyncEditorLoading:!0,asyncEditorLoadDelay:150};return g=new Slick.Grid(t,a.playground.grid.dataView,[{id:"tdpId"}],e),d(),u(),m(),g}var g=null,v=[i,n,o,s,l];return{initGrid:f,navigateToFocusedColumn:p}}t.$inject=["$timeout","StateService","state","DatagridService","DatagridStyleService","DatagridColumnService","DatagridSizeService","DatagridExternalService","DatagridTooltipService"],angular.module("data-prep.datagrid").service("DatagridGridService",t)}(),function(){"use strict";function t(t,e,a,r,n,i){function o(n){var o=e.playground.grid.selectedColumn,s=e.playground.grid.selectedLine,l=o!==m,c=s!==f;(l||c)&&(t.cancel(d),d=t(function(){m=o,f=s,p=o?"COLUMN":"LINE",r.selectTab(p),m||a.reset(),f&&c&&r.setLine(f),m&&l&&(a.updateStatistics(),r.setColumn(m),i.updateTargetColumn())},n?0:300))}function s(){c.onScroll.subscribe(function(){clearTimeout(u),u=setTimeout(function(){n.gridRangeIndex=c.getRenderedRange()},200)})}function l(t){c=t,s()}var c,d,u,p,m,f;return{init:l,updateSuggestionPanel:o}}t.$inject=["$timeout","state","StatisticsService","SuggestionService","PreviewService","LookupService"],angular.module("data-prep.datagrid").service("DatagridExternalService",t)}(),function(){"use strict";function t(t,e,a,r,n,i){function o(t,e){var o=e?_.template(C)({name:t.name,diffClass:a.getColumnPreviewStyle(t),simpleType:t.domain?t.domain:r.simplifyType(t.type)}):"",s=i.instant("APPLY_TO_ALL_CELLS");return{id:t.id,field:t.id,name:o,formatter:a.columnFormatter(t),tdpColMetadata:t,editor:e?null:Slick.Editors.TalendEditor(n.editCell,s),preview:e}}function s(t,e){var a=[],r='<div class="slick-header-column-index">#</div>';a.push({id:y,name:r,field:y,maxWidth:45,formatter:function(t,e,a){return'<div class="index-cell">'+a+"</div>"},resizable:!1,selectable:!1});var n=_.union(a,_.map(t,function(t){return o(t,e)}));return n}function l(t){t.scope.$destroy(),t.header.remove()}function c(t){v=t,t&&(_.forEach(h,l),h=[])}function d(a){var r=t.$new(!0);r.column=a;var n=angular.element('<datagrid-header column="column"></datagrid-header>');return e(n)(r),{id:a.id,scope:r,header:n}}function u(t,e){var a=e.column;if(!a.preview&&a.id!==y)if(v)l(a);else{var r=a.scope,n=a.header;n.detach(),h.push({id:a.id,scope:r,header:n})}}function p(t,e){var a=e.column;if(!a.preview&&a.id!==y){var r=_.find(h,{id:a.id});if(r){var n=h.indexOf(r);h.splice(n,1)}r?(r.scope.column=a.tdpColMetadata,r.scope.$digest()):r=d(a.tdpColMetadata),a.scope=r.scope,a.header=r.header;var i=angular.element(e.node);i.append(r.header)}}function m(){g.onBeforeHeaderCellDestroy.subscribe(u),g.onHeaderCellRendered.subscribe(p)}function f(t){g=t,m()}var g,v,h=[],y="tdpId",C='<div class="grid-header <%= diffClass %>">   <div class="grid-header-title dropdown-button ng-binding"><%= name %></div>       <div class="grid-header-type ng-binding"><%= simpleType %></div>   </div><div class="quality-bar"><div class="record-unknown"></div></div>';return{init:f,renewAllColumns:c,createColumns:s}}t.$inject=["$rootScope","$compile","DatagridStyleService","ConverterService","PlaygroundService","$translate"],angular.module("data-prep.datagrid").service("DatagridColumnService",t)}(),function(){"use strict";angular.module("data-prep.datagrid-header",["talend.widget","data-prep.transformation-menu","data-prep.services.utils","data-prep.services.playground","data-prep.services.filter","data-prep.services.transformation","data-prep.services.state"])}(),function(){"use strict";function t(t){return{restrict:"E",templateUrl:"components/datagrid/header/datagrid-header.html",scope:{column:"="},bindToController:!0,controllerAs:"datagridHeaderCtrl",controller:"DatagridHeaderCtrl",link:{post:function(e,a,r,n){function i(t){n.setEditMode(t),e.$digest()}function o(){n.nameHasChanged()?n.updateColumnName():(n.resetColumnName(),i(!1))}function s(){f.on("blur",o)}function l(){f.keydown(function(t){switch(t.stopPropagation(),t.keyCode){case 13:f.blur();break;case 27:n.resetColumnName(),f.blur()}})}function c(){f.on("click",function(t){t.preventDefault(),t.stopPropagation()})}function d(){m.on("dblclick",function(){i(!0),setTimeout(function(){f.focus(),f.select()},100)})}function u(){p.mousedown(function(t){3===t.which&&(t.stopPropagation(),p.find(".dropdown-action").click())})}var p,m,f;t(function(){p=a.find(".grid-header").eq(0),m=p.find(".grid-header-title").eq(0),f=p.find(".grid-header-title-input").eq(0),l(),d(),s(),c(),u()},0,!1),e.$watch(function(){return n.transformationsRetrieveError},function(t){if(t){var e=a.find(".dropdown-action").eq(0);e.click()}}),a.on("$destroy",function(){e.$destroy()})}}}}t.$inject=["$timeout"],angular.module("data-prep.datagrid-header").directive("datagridHeader",t)}(),function(){"use strict";function t(t,e,a,r,n,i,o){var s,l="column_metadata",c="rename_column",d=this;d.converterService=e,d.filterService=r,d.transformationApplicationService=n,d.columnSuggestionService=i,d.state=o,d.newName=null,d.isEditMode=!1,d.initTransformations=function(){d.transformations||d.initTransformationsInProgress||(d.transformationsRetrieveError=!1,d.initTransformationsInProgress=!0,t.getColumnTransformations(d.column,!0).then(function(t){d.transformations=_.filter(t.allTransformations,function(t){return-1!==t.actionScope.indexOf(l)})})["catch"](function(){d.transformationsRetrieveError=!0})["finally"](function(){d.initTransformationsInProgress=!1}))},d.updateColumnName=function(){var t={new_column_name:d.newName,scope:"column",column_id:d.column.id,column_name:d.column.name};a.appendStep(c,t).then(function(){d.setEditMode(!1),s=d.newName})},d.nameHasChanged=function(){return d.newName&&s!==d.newName},d.setEditMode=function(t){d.isEditMode=t,t&&(d.newName=s=d.column.name)},d.resetColumnName=function(){d.newName=s}}t.$inject=["TransformationCacheService","ConverterService","PlaygroundService","FilterService","TransformationApplicationService","ColumnSuggestionService","state"],angular.module("data-prep.datagrid-header").controller("DatagridHeaderCtrl",t)}(),function(){"use strict";function t(t,e){return function(a){function r(){if(u=o.val(),u!==d){o.attr("rows",1),p=p||parseInt(o.css("lineHeight"),10);var t=parseInt(o.prop("scrollHeight")/p,10);o.attr("rows",t),d=u}}function n(){i=$("<div></div>").appendTo(a.container),o=$('<TEXTAREA hidefocus rows="1"></TEXTAREA>').appendTo(i).keydown(function(t){switch(t.keyCode){case $.ui.keyCode.ESCAPE:o.val(c),a.cancelChanges();break;case $.ui.keyCode.ENTER:if(t.altKey){var e=o.val()+"\n";o.val(e)}else a.commitChanges()}t.stopImmediatePropagation(),r()}).keyup(function(t){t.keyCode!==$.ui.keyCode.BACKSPACE&&t.keyCode!==$.ui.keyCode.DELETE||r()}).mouseenter(function(t){t.stopImmediatePropagation()}).focus().select(),s=$('<div class="checkboxContainer"><input type="checkbox">'+e+"</div>").appendTo(i),l=s.find('input[type="checkbox"]')}var i,o,s,l,c,d,u,p;this.destroy=function(){o.remove()},this.focus=function(){o.focus()},this.isValueChanged=function(){return!(""===o.val()&&null===c)&&o.val()!==c},this.serializeValue=function(){return o.val()},this.loadValue=function(t){o.val(c=t[a.column.field]),r(),o.select()},this.applyValue=function(e,r){t(e,a.column.tdpColMetadata,r,l[0].checked)},this.validate=function(){return{valid:!0,msg:null}},this.position=function(t){a.gridPosition.bottom-t.bottom<50?i.addClass("bottom"):i.removeClass("bottom")},n()}}Slick.Editors.TalendEditor=t}(),function(){"use strict";function t(t,e,a,r,n,i,o){return{restrict:"E",templateUrl:"components/datagrid/datagrid.html",bindToController:!0,controllerAs:"datagridCtrl",controller:"DatagridCtrl",link:function(s,l){function c(){return t.playground.dataset}function d(){return t.playground.grid.selectedColumn}function u(){return t.playground.grid.selectedLine}function p(){return t.playground.data}function m(){return t.playground.filter.gridFilters}function f(){return t.playground.lookup.visibility}function g(){v&&setTimeout(function(){v.resizeCanvas()},250)}var v,h,y,C,b,S,w=function(){v&&(v.scrollRowToTop(0),a.renewAllColumns(!0))},k=function(t){t&&(x(),clearTimeout(h),h=setTimeout(function(){var e=a.createColumns(t.metadata.columns,t.preview);n.autosizeColumns(e),a.renewAllColumns(!1);var i=d()&&d().id;r.updateColumnClass(i),v.invalidate()},0),clearTimeout(S),S=setTimeout(e.navigateToFocusedColumn,300))},T=function(){v&&(r.resetCellStyles(),v.scrollRowToTop(0))},E=function(){v&&(clearTimeout(y),y=setTimeout(function(){var t=d()&&d().id;u()?r.updateColumnClass(t):r.resetStyles(t),v.invalidate()},0),clearTimeout(b),p()&&!p().preview&&(b=setTimeout(o.updateSuggestionPanel.bind(null,!0),300)))},_=function(){if(v){clearTimeout(C);var t=u();p()&&!p().preview&&t&&(C=setTimeout(function(){var e=d()&&d().id;r.highlightCellsContaining(e,t[e])},500))}},x=function(){v||(v=e.initGrid("#datagrid"),i.tooltipRuler=l.find("#tooltip-ruler").eq(0))};s.$watch(c,w),s.$watch(p,k),s.$watch(m,T),s.$watch(f,g),s.$watch(d,E),s.$watchGroup([u,d],_)}}}t.$inject=["state","DatagridGridService","DatagridColumnService","DatagridStyleService","DatagridSizeService","DatagridTooltipService","DatagridExternalService"],angular.module("data-prep.datagrid").directive("datagrid",t)}(),function(){"use strict";function t(t,e){this.datagridTooltipService=e,this.state=t}t.$inject=["state","DatagridTooltipService"],Object.defineProperty(t.prototype,"tooltip",{enumerable:!0,configurable:!1,get:function(){return this.datagridTooltipService.tooltip}}),Object.defineProperty(t.prototype,"showTooltip",{enumerable:!0,configurable:!1,get:function(){return this.datagridTooltipService.showTooltip}}),angular.module("data-prep.datagrid").controller("DatagridCtrl",t)}(),function(){"use strict";angular.module("data-prep.app",["data-prep.navbar","data-prep.home","data-prep.easter-eggs","data-prep.feedback"])}(),function(){"use strict";function t(){return{restrict:"E",templateUrl:"components/app/app.html"}}angular.module("data-prep.app").directive("dataprepApp",t)}();var fetchConfiguration,bootstrapDataPrepApplication;!function(){"use strict";var t=angular.module("data-prep",["ngSanitize","ui.router","data-prep.app","data-prep.services.rest","data-prep.services.dataset","data-prep.services.export","data-prep.services.utils","bgDirectives"]).config(["$httpProvider",function(t){t.useApplyAsync(!0)}]).config(["$translateProvider",function(t){t.useStaticFilesLoader({prefix:"i18n/",suffix:".json"}),t.preferredLanguage("en"),t.useSanitizeValueStrategy(null)}]).config(["$stateProvider","$urlRouterProvider",function(t,e){t.state("nav",{"abstract":!0,template:"<navbar></navbar>"}).state("nav.home",{"abstract":!0,url:"/home",template:"<home></home>"}).state("nav.home.datasets",{url:"/datasets?datasetid",views:{"home-content":{template:"<dataset-list></dataset-list>"}},folder:"dataset"}).state("nav.home.preparations",{url:"/preparations?prepid",views:{"home-content":{template:"<preparation-list></preparation-list>"}}}),e.otherwise("/home/datasets")}]).run(["$window","$translate",function(t,e){var a="fr"===t.navigator.language?"fr":"en";e.use(a)}]);fetchConfiguration=function(){var e=angular.injector(["ng"]),a=e.get("$http");return a.get("/assets/config/config.json").then(function(e){t.config(["$compileProvider",function(t){t.debugInfoEnabled(e.data.enableDebug)}]).run(["RestURLs",function(t){t.setServerUrl(e.data.serverUrl)}]).run(["ExportService","DatasetService",function(t,e){t.refreshTypes(),e.refreshSupportedEncodings()}]),angular.module("data-prep.services.utils").value("version",e.data.version),angular.module("data-prep.services.utils").value("copyRights",e.data.copyRights)})},bootstrapDataPrepApplication=function(t){angular.element(document).ready(function(){angular.bootstrap(document,t)})}}(),angular.module("data-prep").run(["$templateCache",function(t){t.put("index.html",'<!doctype html><html lang="en" class="no-js" ng-cloak=""><head><meta charset="utf-8"><title>Talend - DataPrep</title><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width"><link rel="shortcut icon" type="image/png" href="/assets/images/favicon.png"><link rel="stylesheet" href="../bower_components/angularjs-toaster/toaster.css"><link rel="stylesheet" href="../bower_components/jquery-ui/themes/base/resizable.css"><link rel="stylesheet" href="../bower_components/angular-mass-autocomplete/massautocomplete.theme.css"><link rel="stylesheet" href="../bower_components/datetimepicker/jquery.datetimepicker.css"><link rel="stylesheet" href="../bower_components/x-slickgrid/slick.grid.css"><link rel="stylesheet" href="../bower_components/x-slickgrid/controls/slick.pager.css"><link rel="stylesheet" href="../bower_components/bg-splitter/css/style.css"><link rel="stylesheet" href="main.css"><script src="../bower_components/modernizr/modernizr.js"></script></head><body disable-right-click=""><dataprep-app></dataprep-app><script src="../bower_components/jquery/dist/jquery.js"></script><script src="../bower_components/angular/angular.js"></script><script src="../bower_components/angular-sanitize/angular-sanitize.js"></script><script src="../bower_components/angular-resource/angular-resource.js"></script><script src="../bower_components/angular-animate/angular-animate.js"></script><script src="../bower_components/angular-ui-router/release/angular-ui-router.js"></script><script src="../bower_components/lodash/lodash.js"></script><script src="../bower_components/ng-file-upload/angular-file-upload.js"></script><script src="../bower_components/angularjs-toaster/toaster.js"></script><script src="../bower_components/angular-translate/angular-translate.js"></script><script src="../bower_components/angular-translate-loader-static-files/angular-translate-loader-static-files.js"></script><script src="../bower_components/jquery-ui/jquery-ui.js"></script><script src="../bower_components/threedubmedia.jquery.event/event.drag/jquery.event.drag.js"></script><script src="../bower_components/angular-mass-autocomplete/massautocomplete.min.js"></script><script src="../bower_components/d3/d3.js"></script><script src="../bower_components/d3-tip/index.js"></script><script src="../bower_components/intro.js/intro.js"></script><script src="../bower_components/moment/moment.js"></script><script src="../bower_components/datetimepicker/jquery.datetimepicker.js"></script><script src="../bower_components/x-slickgrid/slick.core.js"></script><script src="../bower_components/x-slickgrid/slick.dataview.js"></script><script src="../bower_components/x-slickgrid/slick.editors.js"></script><script src="../bower_components/x-slickgrid/slick.grid.js"></script><script src="../bower_components/bg-splitter/js/splitter.js"></script><script src="../bower_components/angular-translate-once/src/translate-once.js"></script><script src="../bower_components/moment-jdateformatparser/moment-jdateformatparser.js"></script><script src="services/utils/utils-module.js"></script><script src="services/utils/worker/worker-service.js"></script><script src="services/utils/text-format/text-format-service.js"></script><script src="services/utils/storage/storage-service.js"></script><script src="services/utils/moment/moment-filter.js"></script><script src="services/utils/message/message-service.js"></script><script src="services/utils/date/date-service.js"></script><script src="services/utils/converter/converter-service.js"></script><script src="services/utils/config/utils-version-service.js"></script><script src="services/utils/config/utils-rest-urls-service.js"></script><script src="services/utils/config/utils-copyrights-services.js"></script><script src="services/utils/click/disable-right-click-directive.js"></script><script src="services/transformation/transformation-module.js"></script><script src="services/transformation/transformation-service.js"></script><script src="services/transformation/suggestion/suggestion-service.js"></script><script src="services/transformation/suggestion/line-suggestion-service.js"></script><script src="services/transformation/suggestion/column-suggestion-service.js"></script><script src="services/transformation/rest/transformation-rest-service.js"></script><script src="services/transformation/cache/transformation-cache-service.js"></script><script src="services/transformation/application/transformation-application-service.js"></script><script src="services/statistics/statistics-module.js"></script><script src="services/statistics/statistics-tooltip-service.js"></script><script src="services/statistics/statistics-service.js"></script><script src="services/statistics/rest/statistics-rest-service.js"></script><script src="services/state/state-module.js"></script><script src="services/state/suggestions/suggestions-state-services.js"></script><script src="services/state/statistics-state-service.js"></script><script src="services/state/state-service.js"></script><script src="services/state/recipe/recipe-state-service.js"></script><script src="services/state/playground/playground-state-service.js"></script><script src="services/state/parameters/parameters-state-service.js"></script><script src="services/state/lookup/lookup-state-service.js"></script><script src="services/state/inventory/inventory-state-service.js"></script><script src="services/state/grid/grid-state-service.js"></script><script src="services/state/folder/folder-state-service.js"></script><script src="services/state/filter/filter-state-service.js"></script><script src="services/state/feedback-state-service.js"></script><script src="services/state/easter-eggs/easter-eggs-state-service.js"></script><script src="services/state/dataset/dataset-state-service.js"></script><script src="services/rest/rest-module.js"></script><script src="services/rest/rest-error-message-interceptor-factory.js"></script><script src="services/recipe/recipe-module.js"></script><script src="services/recipe/recipe-service.js"></script><script src="services/recipe/bullet/recipe-bullet-service.js"></script><script src="services/preparation/preparation-module.js"></script><script src="services/preparation/rest/preparation-rest-service.js"></script><script src="services/preparation/preparation-service.js"></script><script src="services/preparation/list/preparation-list-service.js"></script><script src="services/playground/playground-module.js"></script><script src="services/playground/preview/preview-service.js"></script><script src="services/playground/preview/early-preview-service.js"></script><script src="services/playground/playground-service.js"></script><script src="services/playground/grid/datagrid-service.js"></script><script src="services/onboarding/onboarding-module.js"></script><script src="services/onboarding/onboarding-service.js"></script><script src="services/onboarding/onboarding-recipe-constants.js"></script><script src="services/onboarding/onboarding-playground-constants.js"></script><script src="services/onboarding/onboarding-datasets-constants.js"></script><script src="services/lookup/lookup-module.js"></script><script src="services/lookup/lookup-service.js"></script><script src="services/history/history-module.js"></script><script src="services/history/history-service.js"></script><script src="services/folder/folder-module.js"></script><script src="services/folder/rest/folder-rest-service.js"></script><script src="services/folder/folder-service.js"></script><script src="services/filter/filter-module.js"></script><script src="services/filter/filter-service.js"></script><script src="services/filter/filter-adapter-service.js"></script><script src="services/feedback/feedback-module.js"></script><script src="services/feedback/feedback-rest-service.js"></script><script src="services/export/export-module.js"></script><script src="services/export/export-service.js"></script><script src="services/export/export-rest-service.js"></script><script src="services/easter-eggs/easter-eggs-module.js"></script><script src="services/easter-eggs/easter-eggs-service.js"></script><script src="services/dataset-workflow/dataset-workflow-module.js"></script><script src="services/dataset-workflow/upload-workflow-service.js"></script><script src="services/dataset-workflow/update-workflow-service.js"></script><script src="services/dataset/dataset-module.js"></script><script src="services/dataset/rest/dataset-rest-service.js"></script><script src="services/dataset/preview/dataset-sheet-preview-service.js"></script><script src="services/dataset/list/dataset-list-service.js"></script><script src="services/dataset/dataset-service.js"></script><script src="services/dataset/column-types/column-types-service.js"></script><script src="components/widgets/widget-module.js"></script><script src="components/widgets/tooltip/widget-tooltip-directive.js"></script><script src="components/widgets/tooltip/widget-tooltip-controller.js"></script><script src="components/widgets/tabs/widget-tabs-item-directive.js"></script><script src="components/widgets/tabs/widget-tabs-directive.js"></script><script src="components/widgets/tabs/widget-tabs-controller.js"></script><script src="components/widgets/slidable/widget-slidable-directive.js"></script><script src="components/widgets/quality-bar/quality-bar-directive.js"></script><script src="components/widgets/quality-bar/quality-bar-controller.js"></script><script src="components/widgets/navigation-list/navigation-list-directive.js"></script><script src="components/widgets/navbar/widget-navbar-directive.js"></script><script src="components/widgets/modal/widget-modal-directive.js"></script><script src="components/widgets/loading/widget-loading-directive.js"></script><script src="components/widgets/input/search-input-directive.js"></script><script src="components/widgets/file-selector/file-selector-directive.js"></script><script src="components/widgets/editable-text/widget-editable-text-directive.js"></script><script src="components/widgets/editable-text/widget-editable-text-controller.js"></script><script src="components/widgets/editable-select/widget-editable-select-directive.js"></script><script src="components/widgets/editable-regex/widget-editable-regex-directive.js"></script><script src="components/widgets/editable-regex/widget-editable-regex-controller.js"></script><script src="components/widgets/dropdown/widget-dropdown-directive.js"></script><script src="components/widgets/datetimepicker/widget-datetimepicker-directive.js"></script><script src="components/widgets/confirm/widget-confirm-service.js"></script><script src="components/widgets/confirm/widget-confirm-directive.js"></script><script src="components/widgets/confirm/widget-confirm-controller.js"></script><script src="components/widgets/charts/vertical-barchart/vertical-barchart-directive.js"></script><script src="components/widgets/charts/range-slider/range-slider-directive.js"></script><script src="components/widgets/charts/range-slider/range-slider-controller.js"></script><script src="components/widgets/charts/horizontal-barchart/horizontal-barchart-directive.js"></script><script src="components/widgets/charts/boxplot-chart/boxplot-chart-directive.js"></script><script src="components/widgets/button-switch/widget-button-switch-directive.js"></script><script src="components/widgets/button-loader/widget-button-loader-directive.js"></script><script src="components/widgets/button-dropdown/widget-button-dropdown-directive.js"></script><script src="components/widgets/badge/widget-badge-directive.js"></script><script src="components/widgets/badge/widget-badge-controller.js"></script><script src="components/widgets/accordions/widget-accordions-item-directive.js"></script><script src="components/widgets/accordions/widget-accordions-directive.js"></script><script src="components/widgets/accordions/widget-accordions-controller.js"></script><script src="components/validation/validation-module.js"></script><script src="components/validation/unique-folder-validation-directive.js"></script><script src="components/validation/is-type-validation-directive.js"></script><script src="components/validation/is-datetime-validation-directive.js"></script><script src="components/validation/can-be-blank-validation-directive.js"></script><script src="components/transformation/menu/type/type-transformation-menu-module.js"></script><script src="components/transformation/menu/type/type-transformation-menu-directive.js"></script><script src="components/transformation/menu/type/type-transformation-menu-controller.js"></script><script src="components/transformation/menu/transformation-menu-module.js"></script><script src="components/transformation/menu/transformation-menu-directive.js"></script><script src="components/transformation/menu/transformation-menu-controller.js"></script><script src="components/transformation/form/transformation-form-module.js"></script><script src="components/transformation/form/transformation-form-directive.js"></script><script src="components/transformation/form/transformation-form-controller.js"></script><script src="components/transformation/form/simple/transformation-simple-param-directive.js"></script><script src="components/transformation/form/simple/transformation-simple-param-controller.js"></script><script src="components/transformation/form/regex/transformation-regex-param-directive.js"></script><script src="components/transformation/form/regex/transformation-regex-param-controller.js"></script><script src="components/transformation/form/params/transformation-params-directive.js"></script><script src="components/transformation/form/params/transformation-params-controller.js"></script><script src="components/transformation/form/date/transformation-date-param-directive.js"></script><script src="components/transformation/form/date/transformation-date-param-controller.js"></script><script src="components/transformation/form/column/transformation-column-param-directive.js"></script><script src="components/transformation/form/column/transformation-column-param-controller.js"></script><script src="components/transformation/form/cluster/transformation-cluster-params-directive.js"></script><script src="components/transformation/form/cluster/transformation-cluster-params-controller.js"></script><script src="components/transformation/form/choice/transformation-choice-param-directive.js"></script><script src="components/transformation/form/choice/transformation-choice-param-controller.js"></script><script src="components/suggestions-stats/suggestions-stats-module.js"></script><script src="components/suggestions-stats/suggestions-stats-directive.js"></script><script src="components/suggestions-stats/suggestions-stats-controller.js"></script><script src="components/suggestions-stats/stats-details/stats-details-module.js"></script><script src="components/suggestions-stats/stats-details/stats-details-directive.js"></script><script src="components/suggestions-stats/stats-details/stats-details-controller.js"></script><script src="components/suggestions-stats/column-profile/column-profile-module.js"></script><script src="components/suggestions-stats/column-profile/column-profile-directive.js"></script><script src="components/suggestions-stats/column-profile/column-profile-controller.js"></script><script src="components/suggestions-stats/actions-suggestions/actions-suggestions-module.js"></script><script src="components/suggestions-stats/actions-suggestions/actions-suggestions-directive.js"></script><script src="components/suggestions-stats/actions-suggestions/actions-suggestions-controller.js"></script><script src="components/suggestions-stats/actions-list/actions-list-module.js"></script><script src="components/suggestions-stats/actions-list/actions-list-directive.js"></script><script src="components/suggestions-stats/actions-list/actions-list-controller.js"></script><script src="components/recipe/recipe-module.js"></script><script src="components/recipe/recipe-directive.js"></script><script src="components/recipe/recipe-controller.js"></script><script src="components/recipe/bullet/recipe-bullet-module.js"></script><script src="components/recipe/bullet/recipe-bullet-directive.js"></script><script src="components/recipe/bullet/recipe-bullet-controller.js"></script><script src="components/preparation-list/preparation-list-module.js"></script><script src="components/preparation-list/preparation-list-directive.js"></script><script src="components/preparation-list/preparation-list-controller.js"></script><script src="components/playground/playground-module.js"></script><script src="components/playground/playground-directive.js"></script><script src="components/playground/playground-controller.js"></script><script src="components/navbar/navbar-module.js"></script><script src="components/navbar/navbar-directive.js"></script><script src="components/navbar/navbar-controller.js"></script><script src="components/lookup/lookup-module.js"></script><script src="components/lookup/lookup-directive.js"></script><script src="components/lookup/lookup-controller.js"></script><script src="components/lookup/grid/services/lookup-datagrid-tooltip-service.js"></script><script src="components/lookup/grid/services/lookup-datagrid-style-service.js"></script><script src="components/lookup/grid/services/lookup-datagrid-grid-service.js"></script><script src="components/lookup/grid/services/lookup-datagrid-column-service.js"></script><script src="components/lookup/grid/lookup-datagrid-directive.js"></script><script src="components/lookup/grid/lookup-datagrid-controller.js"></script><script src="components/lookup/grid/header/lookup-datagrid-header-module.js"></script><script src="components/lookup/grid/header/lookup-datagrid-header-directive.js"></script><script src="components/lookup/grid/header/lookup-datagrid-header-controller.js"></script><script src="components/inventory-item/inventory-item-module.js"></script><script src="components/inventory-item/inventory-item-directive.js"></script><script src="components/inventory-item/inventory-item-controller.js"></script><script src="components/home/home-module.js"></script><script src="components/home/home-directive.js"></script><script src="components/home/home-controller.js"></script><script src="components/history-control/history-control-module.js"></script><script src="components/history-control/history-control-directive.js"></script><script src="components/folder/folder-module.js"></script><script src="components/folder/folder-directive.js"></script><script src="components/folder/folder-controller.js"></script><script src="components/filter/search/filter-search-module.js"></script><script src="components/filter/search/filter-search-directive.js"></script><script src="components/filter/search/filter-search-controller.js"></script><script src="components/filter/monitor/filter-monitor-module.js"></script><script src="components/filter/monitor/filter-monitor-directive.js"></script><script src="components/filter/list/filter-list-module.js"></script><script src="components/filter/list/filter-list-directive.js"></script><script src="components/filter/list/filter-list-controller.js"></script><script src="components/filter/bar/filter-bar-module.js"></script><script src="components/filter/bar/filter-bar-directive.js"></script><script src="components/feedback/feedback-module.js"></script><script src="components/feedback/feedback-directive.js"></script><script src="components/feedback/feedback-controller.js"></script><script src="components/export/export-module.js"></script><script src="components/export/export-directive.js"></script><script src="components/export/export-controller.js"></script><script src="components/easter-eggs/easter-eggs-module.js"></script><script src="components/easter-eggs/star-wars/star-wars-directive.js"></script><script src="components/easter-eggs/easter-eggs-directive.js"></script><script src="components/easter-eggs/easter-eggs-controller.js"></script><script src="components/dataset/upload-list/dataset-upload-list-module.js"></script><script src="components/dataset/upload-list/dataset-upload-list-directive.js"></script><script src="components/dataset/preview/dataset-xls-preview-module.js"></script><script src="components/dataset/preview/dataset-xls-preview-directive.js"></script><script src="components/dataset/preview/dataset-xls-preview-controller.js"></script><script src="components/dataset/parameters/dataset-parameters-module.js"></script><script src="components/dataset/parameters/dataset-parameters-directive.js"></script><script src="components/dataset/parameters/dataset-parameters-controller.js"></script><script src="components/dataset/list/dataset-list-module.js"></script><script src="components/dataset/list/dataset-list-directive.js"></script><script src="components/dataset/list/dataset-list-controller.js"></script><script src="components/datagrid/datagrid-module.js"></script><script src="components/datagrid/services/datagrid-tooltip-service.js"></script><script src="components/datagrid/services/datagrid-style-service.js"></script><script src="components/datagrid/services/datagrid-size-service.js"></script><script src="components/datagrid/services/datagrid-grid-service.js"></script><script src="components/datagrid/services/datagrid-external-service.js"></script><script src="components/datagrid/services/datagrid-column-service.js"></script><script src="components/datagrid/header/datagrid-header-module.js"></script><script src="components/datagrid/header/datagrid-header-directive.js"></script><script src="components/datagrid/header/datagrid-header-controller.js"></script><script src="components/datagrid/editor/talend-editor.js"></script><script src="components/datagrid/datagrid-directive.js"></script><script src="components/datagrid/datagrid-controller.js"></script><script src="components/app/app-module.js"></script><script src="components/app/app-directive.js"></script><script src="app.js"></script><script language="JavaScript">\n            fetchConfiguration().then(bootstrapDataPrepApplication.bind(null, [\'data-prep\']));\n        </script></body></html>'),
t.put("components/app/app.html","<toaster-container toaster-options=\"{'position-class': 'toast-top-60-width', 'body-output-type': 'trustedHtml', 'close-button': true}\"></toaster-container><talend-loading></talend-loading><playground></playground><easter-eggs></easter-eggs><feedback></feedback><ui-view class=\"main-layout\"></ui-view>"),t.put("components/datagrid/datagrid.html",'<div class="datagrid" ng-class="{lookup : datagridCtrl.state.playground.lookup.visibility}"><section id="datagrid" ng-class="{\'datagrid-visible-lookup\': datagridCtrl.state.playground.lookup.visibility}"></section></div><span id="tooltip-ruler" class="tooltip-ruler"></span><talend-tooltip position="datagridCtrl.tooltip.position" requested-state="datagridCtrl.showTooltip" class="datagrid-tooltip"><div ng-bind-html="datagridCtrl.tooltip.htmlStr" class="datagrid-tooltip-content"></div></talend-tooltip>'),t.put("components/easter-eggs/easter-eggs.html",'<talend-modal ng-if="easterEggsCtrl.state.easterEggsState.displayEasterEgg == true" fullscreen="true" close-button="true" disable-enter="true" on-close="easterEggsCtrl.disableEasterEgg()" state="easterEggsCtrl.state.easterEggsState.displayEasterEgg"><star-wars ng-if="easterEggsCtrl.state.easterEggsState.currentEasterEgg===\'star wars\'"></star-wars></talend-modal>'),t.put("components/export/export.html",'<talend-button-dropdown button-text="{{\'EXPORT\' | translate }}" button-action="exportCtrl.export()"><ul><li ng-repeat="exportType in exportCtrl.exportService.exportTypes track by exportType.id" ng-class="{\'disabled\' : !exportType.enabled}" ng-click="exportCtrl.changeTypeAndExport(exportType)">{{exportType.id}}<span ng-if="!exportType.enabled">- {{exportType.disableReason}}</span></li></ul></talend-button-dropdown><talend-modal fullscreen="false" state="exportCtrl.showModal" close-button="true"><div class="export-parameter" ng-repeat="parameter in exportCtrl.exportService.currentExportType.parameters track by $index"><p>{{ parameter.labelKey | translate }}</p><div ng-if="parameter.type == \'radio\'"><input ng-model="exportCtrl.exportService.currentExportParameters[\'exportParameters.\' + parameter.name]" type="radio" value="{{parameter.defaultValue.value}}">{{ parameter.defaultValue.labelKey | translate }}( {{parameter.defaultValue.value}} ) <span ng-repeat="parameterValue in parameter.values track by $index"><input ng-model="exportCtrl.exportService.currentExportParameters[\'exportParameters.\' + parameter.name]" type="radio" value="{{parameterValue.value}}">{{ parameterValue.labelKey | translate }}( {{parameterValue.value}} )</span></div><div ng-if="parameter.type == \'text\'"><input ng-model="exportCtrl.exportService.currentExportParameters[\'exportParameters.\' + parameter.name]" type="text" value="{{parameter.defaultValue.value}}"></div></div><div class="modal-buttons"><button class="talend-modal-close btn-secondary modal-secondary-button" ng-click="exportCtrl.cancelCurrentParameters()" translate-once="CANCEL"></button> <button class="talend-modal-close btn-primary modal-primary-button" ng-click="exportCtrl.saveEditionAndExport()" translate-once="EXPORT"></button></div></talend-modal><form id="exportForm"><input type="hidden" name="preparationId" value="{{ exportCtrl.state.playground.preparation.id }}"> <input type="hidden" name="stepId" value="{{ exportCtrl.stepId }}"> <input type="hidden" name="datasetId" value="{{ exportCtrl.datasetId }}"> <input ng-repeat="(key, value) in exportCtrl.state.playground.exportParameters track by $index" name="{{key}}" value="{{value}}" type="hidden"></form>'),t.put("components/feedback/feedback.html",'<talend-modal class="feedback" fullscreen="false" close-button="true" disable-enter="true" state="feedbackCtrl.state.feedback.visible" ng-if="feedbackCtrl.state.feedback.visible"><div class="title" translate-once="FEEDBACK_FORM"></div><form name="feedbackCtrl.feedbackForm" class="feedback-form" ng-submit="feedbackCtrl.feedbackForm.$valid && feedbackCtrl.sendFeedback()"><div class="feedback-form-line"><span class="feedback-form-label" translate-once="FEEDBACK_MAIL"></span> <input type="text" ng-model="feedbackCtrl.feedback.mail" ng-model-options="{debounce: { default: 300, blur: 0 }}"></div><div class="feedback-form-line"><span class="feedback-form-label" translate-once="FEEDBACK_SUMMARY"></span> <input type="text" ng-model="feedbackCtrl.feedback.title" ng-model-options="{debounce: { default: 300, blur: 0 }}" can-be-blank="false"><select ng-options="type.value as type.name for type in feedbackCtrl.feedbackTypes" ng-model="feedbackCtrl.feedback.type"></select><select ng-options="severity.value as severity.name for severity in feedbackCtrl.feedbackSeverities" ng-model="feedbackCtrl.feedback.severity"></select></div><div class="feedback-form-line"><span class="feedback-form-label" translate-once="FEEDBACK_DESCRIPTION"></span> <textarea rows="5" ng-model-options="{debounce: { default: 300, blur: 0 }}" ng-model="feedbackCtrl.feedback.description"></textarea></div><div class="feedback-form-line"><span class="feedback-form-label"></span> <span translate-once="FEEDBACK_FORUM_LINK_1"></span> <span><a href="https://talendforge.org/forum/viewforum.php?id=47" translate-once="FEEDBACK_FORUM_LINK_2" target="_blank"></a></span></div><div class="feedback-form-line"><span class="feedback-form-label"></span> <span translate-once="FEEDBACK_KNOWN_ISSUES_1"></span> <span><a href="https://help.talend.com/pages/viewpage.action?pageId=266307043&utm_medium=dpdesktop&utm_source=feedback" translate-once="FEEDBACK_KNOWN_ISSUES_2" target="_blank"></a></span></div><div class="modal-buttons"><button type="button" class="talend-modal-close btn-secondary modal-secondary-button" translate-once="CANCEL"></button> <button class="btn-primary modal-primary-button" ng-switch="feedbackCtrl.isSendingFeedback" ng-disabled="feedbackCtrl.feedbackForm.$invalid || feedbackCtrl.isSendingFeedback"><span ng-switch-when="false" translate-once="OK"></span><div class="feedback-sending-div" ng-switch-when="true"><span class="feedback-sending continuous-rotate"><i data-icon="c" class="icon"></i></span></div></button></div></form></talend-modal>'),t.put("components/folder/folder.html",'<div class="breadcrumb"><ul><li ng-repeat="folder in folderCtrl.state.folder.foldersStack track by $index" id="folder_{{$index}}"><talend-dropdown><div class="dropdown-container"><a ng-click="folderCtrl.goToFolder(folder)" title="{{folder.name}}">{{folder.name}}</a> <span class="dropdown-action"><a class="dropdown-button" ng-click="folderCtrl.initMenuChildren(folder)"></a></span><ul class="dropdown-menu" ng-show="folderCtrl.state.folder.menuChildren.length"><li ng-repeat="child in folderCtrl.state.folder.menuChildren" ng-click="folderCtrl.goToFolder(child)" title="{{child.name}}">{{child.name}}</li></ul></div></talend-dropdown></li></ul></div>'),t.put("components/history-control/history-control.html",'<div class="history-control"><a ng-click="historyCtrl.service.undo()" ng-class="{\'inactive\': !historyCtrl.service.canUndo()}" class="undo" data-icon="F" alt="UNDO ({{historyCtrl.service.canUndo()}})"></a> <a ng-click="historyCtrl.service.redo()" ng-class="{\'inactive\': !historyCtrl.service.canRedo()}" class="redo" data-icon="G" alt="REDO ({{historyCtrl.service.canRedo()}})"></a></div>'),t.put("components/inventory-item/inventory-item.html",'<div class="inventory-item" ng-dblclick="inventoryItemCtrl.openInventoryItem()"><div class="inventory-icon" title="{{\'OPEN_ACTION\' | translate: inventoryItemCtrl.getTooltipContent()}}" ng-switch="inventoryItemCtrl.item.type" ng-click="inventoryItemCtrl.openInventoryItem()"><img src="/assets/images/inventory/csv_file.png" ng-switch-when="text/csv"> <img src="/assets/images/inventory/xls_file.png" ng-switch-when="application/vnd.ms-excel"> <img src="/assets/images/inventory/generic_file.png" ng-switch-default=""> <img ng-src="/assets/images/certification-{{inventoryItemCtrl.item.certificationStep | lowercase}}.png" class="pin" ng-if="inventoryItemCtrl.item.certificationStep!=\'NONE\'"></div><div class="inventory-text"><talend-editable-text ng-if="inventoryItemCtrl.open && inventoryItemCtrl.rename" text="inventoryItemCtrl.item.name" text-class="inventory-title" text-title="{{\'OPEN_ACTION\' | translate: inventoryItemCtrl.getTooltipContent()}}" on-text-click="inventoryItemCtrl.openInventoryItem()" on-validate="inventoryItemCtrl.rename(inventoryItemCtrl.item, text)"></talend-editable-text><span ng-if="!inventoryItemCtrl.open || !inventoryItemCtrl.rename" class="inventory-title" ng-bind="inventoryItemCtrl.item.name"></span><div class="inventory-description" translate-once="{{inventoryItemCtrl.details}}" translate-values="inventoryItemCtrl.item"></div></div><div ng-if="inventoryItemCtrl.item.draft" class="inventory-actions"><a ng-if="inventoryItemCtrl.remove" data-icon="e" class="btn-icon btn-transparent" translate-once-title="DELETE_ACTION" translate-values="{type: inventoryItemCtrl.type, name: inventoryItemCtrl.item.name}" ng-click="inventoryItemCtrl.remove(inventoryItemCtrl.item)"></a></div><div ng-if="!inventoryItemCtrl.item.draft" class="inventory-actions"><talend-button-dropdown class="inventory-actions-related-item btn-icon btn-transparent" button-icon="c" button-action="inventoryItemCtrl.openRelatedInventoryItem(inventoryItemCtrl.relatedInventories[0])" ng-if="inventoryItemCtrl.relatedInventories.length" title="{{\'OPEN_ACTION\' | translate:inventoryItemCtrl.getTooltipContent()}}"><ul class="inventory-actions-related-item-menu" ng-if="inventoryItemCtrl.relatedInventories.length"><li ng-click="inventoryItemCtrl.open(inventoryItemCtrl.item)"><span data-icon="K">&nbsp;</span> <span class="dropdown-container-middle" translate-once="CREATE_NEW_PREP"></span></li><li class="divider"></li><li ng-repeat="relatedItem in inventoryItemCtrl.relatedInventories track by $index" ng-click="inventoryItemCtrl.openRelatedInventoryItem(relatedItem)"><span class="inventory-actions-related-item-name">{{relatedItem.name}}</span> <span>&nbsp;-&nbsp;</span> <span translate-once="REL_INV_MODIFIED"></span> <span>&nbsp;{{\'PREPARATION_DETAILS_SINCE\' | translate : {since : relatedItem.lastModificationDate} }}</span> <span>&nbsp;-&nbsp;</span> <span>{{\'PREPARATION_DETAILS_STEPS\' | translate : {nbsteps: relatedItem.actions.length} }}</span></li></ul></talend-button-dropdown><talend-file-selector ng-if="inventoryItemCtrl.update" button-data-icon="E" button-title="REPLACE_FILE_CONTENT" file-model="inventoryItemCtrl.fileModel" on-file-change="inventoryItemCtrl.update(inventoryItemCtrl.item)"></talend-file-selector><div ng-if="inventoryItemCtrl.update || (inventoryItemCtrl.open && inventoryItemCtrl.rename)" class="divider btn-transparent"></div><a ng-if="inventoryItemCtrl.copy" data-icon="B" class="btn-icon btn-transparent" translate-once-title="COPY_CLONE_ACTION" translate-values="{type: inventoryItemCtrl.type, name: inventoryItemCtrl.item.name}" ng-click="inventoryItemCtrl.copy(inventoryItemCtrl.item)"></a> <a ng-if="inventoryItemCtrl.remove" data-icon="e" class="btn-icon btn-transparent" translate-once-title="DELETE_ACTION" translate-values="{type: inventoryItemCtrl.type, name: inventoryItemCtrl.item.name}" ng-click="inventoryItemCtrl.remove(inventoryItemCtrl.item)"></a><div ng-if="inventoryItemCtrl.copy || inventoryItemCtrl.remove" class="divider btn-transparent"></div><a ng-if="inventoryItemCtrl.processCertification" data-icon="n" class="btn-icon btn-transparent" translate-once-title="CERTIFY_ACTION" translate-values="{type: inventoryItemCtrl.type, name: inventoryItemCtrl.item.name}" ng-click="inventoryItemCtrl.processCertification(inventoryItemCtrl.item)"></a> <a data-icon="f" class="btn-icon btn-transparent favorite" translate-once-title="FAVORITE_ACTION" translate-values="{type: inventoryItemCtrl.type, name: inventoryItemCtrl.item.name}" ng-class="{\'favorite-true\':inventoryItemCtrl.item.favorite}" ng-click="inventoryItemCtrl.toggleFavorite(inventoryItemCtrl.item)"></a></div></div>'),t.put("components/lookup/lookup.html",'<div class="lookup"><div class="lookup-header"></div><div class="lookup-container"><div id="lookup-left" ng-switch="!!lookupCtrl.state.playground.lookup.addedActions.length"><lookup-datagrid ng-switch-when="true"></lookup-datagrid><div id="lookup-add-instruction" ng-switch-when="false" class="watermark" translate-once="ADD_DATASET_TO_PERFORM_A_LOOKUP"></div></div><div id="lookup-right"><div class="lookup-description"><strong ng-if="!lookupCtrl.state.playground.lookup.step"><span translate-once="LOOKUP_DESC_TITLE"></span></strong> <strong ng-if="lookupCtrl.state.playground.lookup.step"><span translate-once="LOOKUP_UPDATE_DESC_TITLE"></span></strong><br><div class="lookup-step" translate-once="LOOKUP_STEPS_1"></div><div class="lookup-step" translate-once="LOOKUP_STEPS_2"></div><div class="lookup-step" translate-once="LOOKUP_STEPS_3"></div><a target="_blank" href="https://help.talend.com/pages/viewpage.action?pageId=266307196&utm_medium=dpdesktop&utm_source=func" translate-once="ACTION_HELP"></a></div><button id="lookup-submit-btn-id" ng-disabled="!lookupCtrl.state.playground.lookup.columnsToAdd.length || !lookupCtrl.state.playground.lookup.selectedColumn || !lookupCtrl.state.playground.grid.selectedColumn" class="param-primary-button btn-primary" ng-click="lookupCtrl.submit()" ng-mouseenter="lookupCtrl.hoverSubmitBtn()" ng-mouseleave="lookupCtrl.cancelEarlyPreview()" translate-once="CONFIRM_LOOKUP"></button></div></div><navigation-list class="lookup-footer" list="lookupCtrl.state.playground.lookup.addedActions" on-click="lookupCtrl.loadFromAction(item)" selected-item="lookupCtrl.state.playground.lookup.dataset" get-label="lookupCtrl.getDsName(item)" on-add-item="lookupCtrl.openAddLookupDatasetModal()"></navigation-list></div><talend-modal fullscreen="false" close-button="true" state="lookupCtrl.addLookupDatasetModal" ng-if="lookupCtrl.addLookupDatasetModal" disable-enter="true" class="add-dataset-lookup"><form name="lookupCtrl.addLookupDatasetForm" ng-submit="lookupCtrl.addLookupDatasetForm.$valid && lookupCtrl.addLookupDatasets()"><div translate-once="ADD_LOOKUP_DATASET_MODAL_TITLE"></div><div class="inventory"><div class="inventory-sort"><div translate-once="SORTED_BY"></div><div class="button-switch"><talend-button-switch values="lookupCtrl.state.playground.lookup.sortList" current-value="lookupCtrl.state.playground.lookup.sort" display-key="name" change-action="lookupCtrl.updateSortBy(selected)"></talend-button-switch></div><div translate-once="SORT_IN"></div><div class="button-switch"><talend-button-switch values="lookupCtrl.state.playground.lookup.orderList" current-value="lookupCtrl.state.playground.lookup.order" display-key="name" change-action="lookupCtrl.updateSortOrder(selected)"></talend-button-switch></div><div translate-once="SORT_ORDER"></div></div><div class="inventory-list"><div class="inventory-item-row" ng-repeat="dataset in lookupCtrl.state.playground.lookup.datasets track by $index"><input class="add-dataset-input" type="checkbox" ng-model="dataset.addedToLookup" ng-disabled="!dataset.enableToAddToLookup"><inventory-item ng-click="lookupCtrl.toogleSelect(dataset)" class="inventory-entry" type="dataset" item="dataset" details="INVENTORY_DETAILS" toggle-favorite="angular.noop"></inventory-item></div></div></div><div class="modal-buttons"><button type="button" class="talend-modal-close btn-secondary modal-secondary-button" translate-once="CANCEL"></button> <button class="btn-primary modal-primary-button" ng-disabled="lookupCtrl.addLookupDatasetForm.$invalid"><span translate-once="ADD_LOOKUP_DATASET"></span></button></div></form></talend-modal>'),t.put("components/home/home.html",'<header class="subheader"><div class="subheader-wrapper"><ul id="help-dataset-nav"><li class="primary"><div id="help-import-local"><talend-button-dropdown button-icon="m" button-text="{{\'IMPORT_DATASET\' | translate }}" button-action="homeCtrl.startDefaultImport()"><ul><li ng-repeat="importType in homeCtrl.importTypes" ng-click="homeCtrl.startImport(importType)">{{importType.name}}</li></ul></talend-button-dropdown></div><input type="file" id="datasetFile" name="datasetFile" class="ng-hide" ng-file-select="" accept="*.csv" ng-model="homeCtrl.datasetFile" ng-file-change="homeCtrl.uploadDatasetFile()"></li><li ng-if="homeCtrl.$state.includes(\'nav.home.datasets\')"><folder></folder></li></ul><div class="subheader-right" ng-if="false"><a data-icon="{{homeCtrl.showRightPanelIcon}}" class="expand-panel" ng-click="homeCtrl.toggleRightPanel()"></a> <span data-icon="o" class="view-mode" title="{{\'COMING_SOON\' | translate}}"></span></div></div><talend-modal fullscreen="false" close-button="true" state="homeCtrl.datasetNameModal"><span translate-once="ENTER_DATASET_NAME"></span><form name="homeCtrl.datasetNameForm"><input type="text" ng-model="homeCtrl.datasetName" required=""><div class="modal-buttons"><button class="talend-modal-close btn-secondary modal-secondary-button"><span translate-once="CANCEL"></span></button> <button class="talend-modal-close btn-primary modal-primary-button" ng-click="homeCtrl.uploadDatasetName()" ng-disabled="homeCtrl.datasetNameForm.$invalid"><span translate-once="OK"></span></button></div></form></talend-modal><talend-modal fullscreen="false" close-button="true" state="homeCtrl.datasetHttpModal"><div class="modal-title" translate-once="IMPORT_HTTP_DATASET"></div><span translate-once="ENTER_DATASET_NAME"></span> <input type="text" ng-model="homeCtrl.datasetName" required=""> <span translate-once="ENTER_DATASET_URL"></span> <input type="text" ng-model="homeCtrl.datasetUrl" placeholder="http://" required=""><div class="modal-buttons"><button class="talend-modal-close btn-secondary modal-secondary-button"><span translate-once="CANCEL"></span></button> <button class="talend-modal-close btn-primary modal-primary-button" ng-click="homeCtrl.importHttpDataSet()" ng-disabled="homeCtrl.datasetNameForm.$invalid"><span translate-once="OK"></span></button></div></talend-modal><talend-modal fullscreen="false" close-button="true" state="homeCtrl.datasetHdfsModal"><div class="modal-title" translate-once="IMPORT_HDFS_DATASET"></div><span translate-once="ENTER_DATASET_NAME"></span> <input type="text" ng-model="homeCtrl.datasetName" required=""> <span translate-once="ENTER_DATASET_URL"></span> <input type="text" ng-model="homeCtrl.datasetUrl" placeholder="hdfs://host:port/file" required=""><div class="modal-buttons"><button class="talend-modal-close btn-secondary modal-secondary-button"><span translate-once="CANCEL"></span></button> <button class="talend-modal-close btn-primary modal-primary-button" ng-click="homeCtrl.importHdfsDataSet()" ng-disabled="homeCtrl.datasetNameForm.$invalid"><span translate-once="OK"></span></button></div></talend-modal></header><div class="home"><div class="flex-left-panel side-menu"><ul><li id="nav_home_datasets"><a ui-sref="nav.home.datasets" ui-sref-active="selected" translate-once="ALL_FOLDERS"></a></li><li id="nav_home_preparations"><a ui-sref="nav.home.preparations" ui-sref-active="selected" translate-once="ALL_PREPARATIONS"></a></li></ul></div><div class="flex-center flex-column"><div id="upload-list-container"><dataset-upload-list datasets="homeCtrl.uploadingDatasets"></dataset-upload-list></div><div id="inventory-list-container"><ui-view name="home-content"></ui-view></div></div><talend-slidable class="flex-right-panel inventory-data" visible="homeCtrl.showRightPanel" side="right" control-bar="false" resizable="inventory-data"><p class="title" translate-once="INVENTORY_DATA"></p><hr><p class="empty"><i data-icon="i" class="iconfont large"></i><br><span translate-once="SELECT_DATASET_DESCRIPTION"></span></p></talend-slidable></div><dataset-xls-preview></dataset-xls-preview>'),t.put("components/navbar/navbar.html",'<talend-navbar class="header"><span class="logo-wrapper"><span class="logo"></span></span> <a href="javascript:void(0)" class="navigation-menu-button" translate-once="MENU"></a><nav role="navigation"><ul class="navigation-menu show"><li id="onboarding-icon" class="nav-link" translate-once-title="ONBOARDING"><a class="icon enabled" data-icon="y" ng-click="navbarCtrl.startTour(\'dataset\')"></a></li><li id="message-icon" class="nav-link" translate-once-title="FEEDBACK_TOOLTIP"><a class="icon enabled" data-icon="H" ng-click="navbarCtrl.openFeedbackForm()"></a></li><li id="online-help-icon" class="nav-link" translate-once-title="ONLINE_HELP_TOOLTIP"><a class="icon enabled" data-icon="l" href="https://help.talend.com/pages/viewpage.action?pageId=266307043&utm_medium=dpdesktop&utm_source=header" target="_blank"></a></li></ul></nav></talend-navbar><ui-view class="content"></ui-view><footer class="footer" role="contentinfo"><div class="copyright">Â© {{::navbarCtrl.copyRights}} | {{ ::navbarCtrl.version }}</div></footer>'),t.put("components/recipe/recipe.html",'<talend-accordions><talend-accordions-item ng-repeat="step in recipeCtrl.recipe track by step.transformation.stepId" id="step-{{step.transformation.stepId}}" on-open="recipeCtrl.resetParams(step)" default="$index === (recipeCtrl.recipe.length - 1)" class="recipe-step" ng-class="::{\'preview\': step.preview}"><div class="trigger step-description" ng-click="recipeCtrl.select(step)" ng-switch="step.actionParameters.parameters.scope"><i data-icon="e" id="step-remove-{{step.transformation.stepId}}" ng-click="recipeCtrl.remove(step, $event)" class="remove-icon animated"></i> {{$index + 1}}. {{::step.transformation.label}} <span ng-switch-when="column"><span translate-once="RECIPE_ITEM_ON_COL" translate-values="{columnName: step.column.name.toUpperCase()}"></span></span> <span ng-switch-when="cell"><span translate-once="RECIPE_ITEM_ON_CELL"></span></span> <span ng-switch-when="line"><span translate-once="RECIPE_ITEM_ON_LINE" translate-values="{rowId: step.row.id}"></span></span> <span ng-switch-when="dataset"><span translate-once="RECIPE_LOOKUP_OF_DS"></span> <span class="recipe-column-name">{{::step.actionParameters.parameters.lookup_ds_name}}.</span> <span translate-once="RECIPE_LOOKUP_JOIN_COLS"></span> <span class="recipe-column-name">{{::step.column.name}}</span> <span translate-once="AND"></span> <span class="recipe-column-name">{{::step.actionParameters.parameters.lookup_join_on_name}}.</span> <span class="recipe-column-name">{{recipeCtrl.getAddedColumnsInLookup(step).firstCol}}</span> <span translate-once="AND" ng-if="recipeCtrl.getAddedColumnsInLookup(step).secondCol && !recipeCtrl.getAddedColumnsInLookup(step).restOfColsNbr"></span> <span ng-if="recipeCtrl.getAddedColumnsInLookup(step).restOfColsNbr && recipeCtrl.getAddedColumnsInLookup(step).secondCol">,</span> <span class="recipe-column-name">{{recipeCtrl.getAddedColumnsInLookup(step).secondCol}}</span> <span translate-once="AND" ng-if="recipeCtrl.getAddedColumnsInLookup(step).restOfColsNbr"></span> <span class="recipe-column-name" title="{{recipeCtrl.getAddedColumnsInLookup(step).restOfCols}}" ng-if="recipeCtrl.getAddedColumnsInLookup(step).restOfColsNbr">{{recipeCtrl.getAddedColumnsInLookup(step).restOfColsNbr}}</span> <span translate-once="OTHER" ng-if="recipeCtrl.getAddedColumnsInLookup(step).restOfColsNbr"></span> <span translate-once="RECIPE_LOOKUP_FOLLOWING_COLS_ADDED_PLURAL" ng-if="recipeCtrl.getAddedColumnsInLookup(step).initialColsNbr > 1"></span> <span translate-once="RECIPE_LOOKUP_FOLLOWING_COLS_ADDED_SINGULAR" ng-if="recipeCtrl.getAddedColumnsInLookup(step).initialColsNbr === 1"></span></span> <span class="filter-icon" data-icon="q" ng-if="step.filters.length" title="{{\'FILTERS_APPLIED\' | translate}} {{recipeCtrl.getAllFiltersNames(step.filters)}}"></span><recipe-bullet class="step-trigger" step="step"></recipe-bullet></div><div class="content" ng-if="recipeCtrl.hasParameters(step) || step.filters.length"><div class="step-filters-list" ng-if="step.filters.length"><filter-list class="list" filters="step.filters" on-filter-remove="recipeCtrl.removeStepFilter(step, filter)"></filter-list></div><div class="step-parameters-list" ng-if="step.transformation.name !== \'lookup\'"><transform-form ng-if="recipeCtrl.hasStaticParams(step)" transformation="step.transformation" on-submit="recipeCtrl.stepUpdateClosure(step)(params)" on-submit-hover-on="recipeCtrl.previewUpdateClosure(step)(params)" on-submit-hover-off="recipeCtrl.cancelPreview()"></transform-form><talend-modal ng-if="recipeCtrl.hasDynamicParams(step)" fullscreen="false" state="recipeCtrl.showModal[step.transformation.stepId]" close-button="true"><div class="modal-title">{{ ::step.transformation.label }}</div><div class="modal-subtitle">{{ ::step.transformation.description }}</div><transform-form transformation="step.transformation" on-submit="recipeCtrl.stepUpdateClosure(step)(params)"></transform-form></talend-modal></div></div></talend-accordions-item></talend-accordions>'),t.put("components/suggestions-stats/suggestions-stats.html",'<div style="position: relative;" class="suggestions-stats-details"><bg-splitter orientation="vertical"><bg-pane min-size="310"><div class="pane-container"><actions-suggestions id="help-suggestions" class="suggestions-part"></actions-suggestions></div></bg-pane><bg-pane min-size="100"><div class="pane-container"><stats-details id="help-stats" class="stats-part"></stats-details></div></bg-pane></bg-splitter></div>'),t.put("components/playground/playground.html",'<talend-modal fullscreen="true" state="playgroundCtrl.state.playground.visible" close-button="true" before-close="playgroundCtrl.beforeClose()" on-close="playgroundCtrl.close()"><div class="modal-header playground-header"><ul class="left-header" insertion-playground-left-header=""><li id="dataset-header-details" ng-switch="!!playgroundCtrl.state.playground.dataset.limit"><span class="playground-dataset-name" translate="FILE_DETAILS_NAME" title="{{playgroundCtrl.state.playground.dataset.name}}" translate-value-name="{{playgroundCtrl.state.playground.dataset.name}}"></span> <span class="playground-dataset-name">-</span> <span class="file-lines-count" ng-switch-when="false" translate="FILE_DETAILS_LINES" translate-value-records="{{playgroundCtrl.state.playground.dataset.records}}"></span> <span class="file-lines-count" ng-switch-when="true" translate="FILE_DETAILS_LIMIT" translate-value-records="{{playgroundCtrl.state.playground.dataset.limit}}"></span> <a id="playground-gear-icon" class="icon" data-icon="L" ng-click="playgroundCtrl.toggleParameters()" translate-once-title="DATAGRID_PARAMETERS_GEAR"></a></li></ul><ul class="right-header"><li class="preview" ng-show="playgroundCtrl.previewInProgress"><div class="previewBadge"><img src="assets/images/eye.svg" alt="Blue Square" height="24px" class="previewBadgeElement"> <span class="previewBadgeElement">Preview</span></div></li><li><a id="playground-lookup-icon" ng-click="playgroundCtrl.toggleLookup()" ng-class="{pressed: playgroundCtrl.state.playground.lookup.visibility}"><img src="assets/images/lookup/lookup-button.png"></a></li><li><export></export></li><li class="nav-link" translate-once-title="ONBOARDING"><a id="playground-onboarding-icon" class="icon" data-icon="y" ng-click="playgroundCtrl.onboardingService.startTour(\'playground\')"></a></li><li class="nav-link" translate-once-title="FEEDBACK_TOOLTIP"><a id="playground-feedback-icon" class="icon" data-icon="H" ng-click="playgroundCtrl.openFeedbackForm()"></a></li><li class="nav-link" translate-once-title="ONLINE_HELP_TOOLTIP"><a id="playground-online-help-icon" class="icon" data-icon="l" href="https://help.talend.com/pages/viewpage.action?pageId=266307043&utm_medium=dpdesktop&utm_source=header" target="_blank"></a></li><li id="help-history"><history-control></history-control></li></ul></div><div class="modal-body playground"><talend-slidable visible="playgroundCtrl.state.playground.recipe.visible" side="left" class="flex-side recipe"><div class="steps-header"><label class="label-switch" ng-show="playgroundCtrl.hasRecipe"><input type="checkbox" ng-model="playgroundCtrl.hasActiveStep" ng-change="playgroundCtrl.toggleRecipe()"><div id="recipe-toggle-switch" class="checkbox"></div></label><div id="help-preparation-name"><talend-editable-text edition-mode="playgroundCtrl.state.playground.nameEditionMode" on-validate="playgroundCtrl.confirmPrepNameEdition(text)" placeholder="ENTER_PREPARATION_NAME" text="playgroundCtrl.preparationName" text-class="steps-header-preparation-text" text-title="{{playgroundCtrl.preparationName}}"></talend-editable-text></div></div><recipe id="help-recipe"></recipe></talend-slidable><div class="playground-center"><talend-slidable id="playground-dataset-parameters" visible="playgroundCtrl.state.playground.parameters.visible" side="top" control-bar="false"><dataset-parameters on-parameters-change="playgroundCtrl.changeDatasetParameters(parameters)" processing="playgroundCtrl.state.playground.parameters.isSending" dataset="playgroundCtrl.state.playground.dataset" configuration="playgroundCtrl.state.playground.parameters.configuration" parameters="playgroundCtrl.state.playground.parameters.values"></dataset-parameters></talend-slidable><filter-bar id="playground-filter-bar"></filter-bar><div id="playground-datagrid-container"><datagrid></datagrid></div><talend-slidable visible="playgroundCtrl.state.playground.lookup.visibility" side="bottom" control-bar="false"><lookup></lookup></talend-slidable></div><talend-slidable visible="true" side="right" class="flex-side suggestions"><suggestions-stats></suggestions-stats></talend-slidable></div></talend-modal><talend-modal fullscreen="false" state="playgroundCtrl.showNameValidation" disable-enter="true" close-button="true"><div class="modal-title" translate-once="SAVE_CHANGE"></div><br><div translate-once="SAVE_CHANGE_DESCRITION_1"></div><div translate-once="SAVE_CHANGE_DESCRITION_2"></div><br><br><form id="playground-save-form" name="savePreparationForm" ng-submit="savePreparationForm.$valid && playgroundCtrl.confirmSaveOnClose()"><div class="modal-form-row"><div class="param-name" translate-once="PREPARATION_NAME"></div><input type="text" id="playground-save-name-input" class="param-input" translate-once-placeholder="ENTER_PREPARATION_NAME" ng-model="playgroundCtrl.preparationName" can-be-blank="false"></div><div class="modal-buttons"><a class="modal-secondary-button" ng-click="playgroundCtrl.discardSaveOnClose()" translate-once="NO_THANKS"></a><talend-button-loader button-class="modal-primary-button btn-primary" disable-condition="savePreparationForm.$invalid || playgroundCtrl.saveInProgress" loading="playgroundCtrl.saveInProgress" loading-class="icon"><span translate-once="SAVE_IT"></span></talend-button-loader></div></form></talend-modal>'),t.put("components/preparation-list/preparation-list.html",'<div class="preparation-list"><div class="preparation" ng-repeat="preparation in preparationListCtrl.state.inventory.preparations track by $index"><div class="information"><div><talend-editable-text text="preparation.name" text-class="title one-line" on-text-click="preparationListCtrl.load(preparation)" on-validate="preparationListCtrl.rename(preparation, text)" text-title="{{preparation.name}}"></talend-editable-text></div><p class="description"><span translate-once="OWNED_BY"></span> <span class="important" title="{{preparation.author}}">{{preparation.author}}</span><br><span translate-once="LAST_MODIFICATION"></span><span translate-once="COLON"></span>{{preparation.lastModificationDate | TDPMoment}}</p><p class="details"><span class="important name one-line" title="{{preparation.dataset.name}}">{{preparation.dataset.name}}</span>&nbsp;- {{ preparation.dataset.records}} <span translate-once="ROWS"></span></p><p class="details"><span class="important">{{preparation.steps.length - 1}}</span> <span class="important" translate-once="STEPS"></span> <span translate-once="RECIPE"></span></p></div><div class="actions"><a class="favorite" data-icon="f" ng-class="{selected: preparation.favorite}" ng-click="preparation.favorite = !preparation.favorite"></a> <a class="clone-btn" data-icon="B" ng-click="preparationListCtrl.clone(preparation)" id="clone_btn_{{preparation.id}}"></a> <a class="trash" data-icon="e" ng-click="preparationListCtrl.remove(preparation)"></a></div></div></div>'),
t.put("components/datagrid/header/datagrid-header.html",'<div class="grid-header"><div class="talend-dropdown-div"><talend-dropdown on-open="datagridHeaderCtrl.initTransformations()"><div class="dropdown-container"><div class="dropdown-action"><div class="dropdown-button" title="{{ datagridHeaderCtrl.column.name }}"></div></div><ul class="dropdown-menu grid-header-menu"><li ng-if="datagridHeaderCtrl.initTransformationsInProgress" translate-once="LOADING"></li><li ng-if="datagridHeaderCtrl.transformations && !datagridHeaderCtrl.transformations.length" translate-once="NO_TRANSFORMATION"></li><transform-menu column="datagridHeaderCtrl.column" menu-items="datagridHeaderCtrl.transformations" ng-if="datagridHeaderCtrl.transformations.length"></transform-menu></ul></div></talend-dropdown></div><div class="talend-dropdown-text-div"><div class="grid-header-title" ng-show="!datagridHeaderCtrl.isEditMode" title="{{ datagridHeaderCtrl.column.name }}">{{ datagridHeaderCtrl.column.name }}</div><input class="grid-header-title-input" type="text" ng-show="datagridHeaderCtrl.isEditMode" ng-model="datagridHeaderCtrl.newName"></div><div class="grid-header-type" ng-if="datagridHeaderCtrl.column.domain">{{ datagridHeaderCtrl.column.domain }}</div><div class="grid-header-type" ng-if="(!datagridHeaderCtrl.column.domain)">{{ datagridHeaderCtrl.converterService.simplifyType(datagridHeaderCtrl.column.type) }}</div></div><quality-bar enter-animation="true" has-menu="true" quality="datagridHeaderCtrl.column.quality"><div class="valid-menu-item"><li ng-click="datagridHeaderCtrl.filterService.addFilter(\'valid_records\', datagridHeaderCtrl.column.id, datagridHeaderCtrl.column.name)"><a><span translate-once="SELECT_VALID_RECORDS"></span> {{ datagridHeaderCtrl.column.name | uppercase }}</a></li></div><div class="empty-menu-items"><li ng-click="datagridHeaderCtrl.filterService.addFilter(\'empty_records\', datagridHeaderCtrl.column.id, datagridHeaderCtrl.column.name)"><a><span translate-once="SELECT_EMPTY_RECORDS"></span> {{ datagridHeaderCtrl.column.name | uppercase}}</a></li><li class="divider"></li><li ng-repeat="transfo in datagridHeaderCtrl.state.playground.suggestions.transformationsForEmptyCells track by $index" ng-click="datagridHeaderCtrl.transformationApplicationService.append(transfo, \'column\')"><a>{{transfo.label}}</a></li></div><div class="invalid-menu-items"><li ng-click="datagridHeaderCtrl.filterService.addFilter(\'invalid_records\', datagridHeaderCtrl.column.id, datagridHeaderCtrl.column.name)"><a><span translate-once="SELECT_INVALID_RECORDS"></span> {{ datagridHeaderCtrl.column.name | uppercase}}</a></li><li class="divider"></li><li ng-repeat="transfo in datagridHeaderCtrl.state.playground.suggestions.transformationsForInvalidCells track by $index" ng-click="datagridHeaderCtrl.transformationApplicationService.append(transfo, \'column\')"><a>{{transfo.label}}</a></li></div></quality-bar>'),t.put("components/dataset/parameters/dataset-parameters.html",'<form class="dataset-parameters" ng-submit="datasetParametersCtrl.validate()"><div class="dataset-parameters-title" translate-once="DATASET_PARAMETERS"></div><div class="dataset-parameters-body"><div class="dataset-parameters-parameter dataset-parameters-encoding"><div class="dataset-parameters-label"><span translate-once="DATASET_PARAMETERS_ENCODING"></span> :</div><div class="dataset-parameters-input"><select ng-model="datasetParametersCtrl.parameters.encoding" ng-options="encoding for encoding in datasetParametersCtrl.configuration.encodings"></select></div></div><div class="dataset-parameters-parameter dataset-parameters-separator" ng-if="datasetParametersCtrl.dataset.type === \'text/csv\'"><div class="dataset-parameters-label"><span translate-once="DATASET_PARAMETERS_SEPARATOR"></span> :</div><div class="dataset-parameters-input"><select ng-model="datasetParametersCtrl.parameters.separator" ng-options="separator.value as separator.label for separator in datasetParametersCtrl.configuration.separators"><option value="">Other</option></select></div><div class="dataset-parameters-input" ng-if="!datasetParametersCtrl.separatorIsInList()"><input class="small-input" type="text" ng-trim="false" ng-model="datasetParametersCtrl.parameters.separator"></div></div><div class="dataset-parameters-actions"><talend-button-loader button-class="btn-primary" disable-condition="datasetParametersCtrl.processing" loading="datasetParametersCtrl.processing" loading-class="icon"><span translate-once="SUBMIT"></span></talend-button-loader></div></div></form>'),t.put("components/dataset/list/dataset-list.html",'<div class="inventory dataset"><div class="inventory-sort"><div class="add-folder-button"><button class="btn-primary modal-primary-button" ng-click="datasetListCtrl.actionsOnAddFolderClick()"><span translate-once="CREATE_FOLDER"></span></button></div><div translate-once="SORTED_BY"></div><div class="button-switch"><talend-button-switch values="datasetListCtrl.state.inventory.sortList" current-value="datasetListCtrl.state.inventory.sort" display-key="name" change-action="datasetListCtrl.updateSortBy(selected)"></talend-button-switch></div><div translate-once="SORT_IN"></div><div class="button-switch"><talend-button-switch values="datasetListCtrl.state.inventory.orderList" current-value="datasetListCtrl.state.inventory.order" display-key="name" change-action="datasetListCtrl.updateSortOrder(selected)"></talend-button-switch></div><div translate-once="SORT_ORDER"></div></div><div class="inventory-list" id="datasets-list"><div class="inventory-entry" ng-repeat="folder in datasetListCtrl.state.folder.currentFolderContent.folders track by folder.id"><div class="inventory-icon inventory-folder" ng-click="datasetListCtrl.goToFolder(folder)"><img src="assets/images/folder/folder-icon.png"></div><div class="inventory-text inventory-folder"><talend-editable-text text="folder.name" text-class="inventory-title" on-text-click="datasetListCtrl.goToFolder(folder)" on-validate="datasetListCtrl.renameFolder(folder, text)" text-title="{{folder.name}}"></talend-editable-text></div><div class="inventory-actions"><a data-icon="e" class="btn-icon btn-transparent" translate-once-title="DELETE_ACTION" translate-values="{type: \'folder\', name: folder.name}" ng-click="datasetListCtrl.removeFolder(folder)"></a></div></div><div ng-repeat="dataset in datasetListCtrl.state.folder.currentFolderContent.datasets track by dataset.id" id="dataset_{{$index}}"><inventory-item class="inventory-entry" copy="datasetListCtrl.openFolderChoice" details="INVENTORY_DETAILS" file-model="datasetListCtrl.updateDatasetFile" item="dataset" open="datasetListCtrl.uploadWorkflowService.openDataset" open-related-inv="datasetListCtrl.openPreparation" process-certification="datasetListCtrl.processCertification" remove="datasetListCtrl.remove" rename="datasetListCtrl.rename" related-inventories="dataset.preparations" related-inventories-type="preparation" toggle-favorite="datasetListCtrl.datasetService.toggleFavorite" type="dataset" update="datasetListCtrl.uploadUpdatedDatasetFile"></inventory-item></div></div><talend-modal fullscreen="false" close-button="true" state="datasetListCtrl.folderNameModal" ng-if="datasetListCtrl.folderNameModal" disable-enter="true"><span translate-once="ENTER_FOLDER_NAME"></span><form name="datasetListCtrl.folderNameForm" ng-submit="datasetListCtrl.folderNameForm.$valid && datasetListCtrl.addFolder()"><input type="text" ng-model="datasetListCtrl.folderName" ng-model-options="{debounce: { default: 300, blur: 0 }}" unique-folder="datasetListCtrl.state.folder.currentFolderContent.folders"><div class="modal-buttons"><button type="button" class="talend-modal-close btn-secondary modal-secondary-button" translate-once="CANCEL"></button> <button class="btn-primary modal-primary-button" translate-once="OK" ng-disabled="datasetListCtrl.folderNameForm.$invalid"></button></div></form></talend-modal><talend-modal fullscreen="false" close-button="false" state="datasetListCtrl.folderDestinationModal" ng-if="datasetListCtrl.folderDestinationModal" disable-close-on-background-click="true" disable-enter="true"><div class="folders-modal-content"><div class="modal-title" translate-once="CHOOSE_FOLDER_DESTINATION" translate-values="{type: \'dataset\', name: dataset.name}"></div><div class="folders-modal"><div class="search-folder-box"><input type="search" class="action-search" id="action-suggestions-search" translate-once-placeholder="FIND_FOLDER" ng-model="datasetListCtrl.searchFolderQuery" ng-model-options="{debounce: { default: 300, blur: 0 }}" ng-change="datasetListCtrl.searchFolders()" talend-search-input=""></div><div class="folders"><div ng-if="datasetListCtrl.searchFolderQuery"><ul class="folders-list"><li ng-repeat="node in datasetListCtrl.foldersFound" ng-class="{folderselected: node.selected}" ng-click="datasetListCtrl.chooseFolder(node)"><img class="icon-img" src="assets/images/folder/folder_close_small-icon.png"> <span class="folder-name" ng-if="!node.path" translate-once="HOME_FOLDER"></span> <span class="folder-name" ng-if="node.path"><span translate-once="HOME_FOLDER"></span>/{{node.path}}</span></li></ul></div><script type="text/ng-template" id="folder_node_render.html"><div class="folder-node" ng-class="{\'folder-selected\': node.selected}"> <a class="inventory-icon inventory-folder"> <i data-icon="J" ng-if="!node.collapsed" class="dropdown-button-right" ng-click="datasetListCtrl.toggle(node)"></i> <img class="icon-img" ng-click="datasetListCtrl.chooseFolder(node)" ng-if="!node.collapsed" src="assets/images/folder/folder_open_small-icon.png"/> <i data-icon="I" ng-if="node.collapsed" class="dropdown-button-down" ng-click="datasetListCtrl.toggle(node)"></i> <img class="icon-img" ng-click="datasetListCtrl.chooseFolder(node)" ng-if="node.collapsed" src="assets/images/folder/folder_close_small-icon.png"/> </a> <span ng-click="datasetListCtrl.chooseFolder(node)" class="folder-name">{{node.name}}</span> </div> <ol class="folder-nodes" ng-model="node.nodes" ng-class="{hidden: node.collapsed}"> <li ng-repeat="node in node.nodes" class="folder-node" ng-include="\'folder_node_render.html\'"></li> </ol></script><div class="folders-tree" id="folders-tree-root" ng-if="!datasetListCtrl.searchFolderQuery"><ol class="folder-nodes" ng-model="datasetListCtrl.folders"><li ng-repeat="node in datasetListCtrl.folders" class="folder-node" ng-include="\'folder_node_render.html\'"></li></ol></div></div></div><form name="datasetListCtrl.cloneNameForm" ng-submit="datasetListCtrl.cloneNameForm.$valid"><div class="clone-name"><span translate-once="DATASET_NAME"></span> <input type="text" ng-model="datasetListCtrl.cloneName" id="new-name-input-id" can-be-blank="false"></div><div class="modal-buttons"><button type="button" class="talend-modal-close btn-secondary modal-secondary-button" ng-disabled="datasetListCtrl.isMovingDs || datasetListCtrl.isCloningDs" translate-once="CANCEL"></button> <button class="btn-primary modal-primary-button" ng-disabled="datasetListCtrl.cloneNameForm.$invalid || datasetListCtrl.isMovingDs || datasetListCtrl.isCloningDs" ng-switch="datasetListCtrl.isMovingDs" ng-click="datasetListCtrl.move()"><span ng-switch-when="false" translate-once="MOVE_HERE_ACTION"></span><div class="feedback-sending-div" ng-switch-when="true"><span class="feedback-sending continuous-rotate"><i data-icon="c" class="icon"></i></span></div></button> <button class="btn-primary modal-primary-button" ng-disabled="datasetListCtrl.cloneNameForm.$invalid || datasetListCtrl.isMovingDs || datasetListCtrl.isCloningDs" ng-switch="datasetListCtrl.isCloningDs" ng-click="datasetListCtrl.clone()"><span ng-switch-when="false" translate-once="COPY_HERE_ACTION"></span><div class="feedback-sending-div" ng-switch-when="true"><span class="feedback-sending continuous-rotate"><i data-icon="c" class="icon"></i></span></div></button></div></form></div></talend-modal></div>'),t.put("components/dataset/upload-list/dataset-upload-list.html",'<div class="inventory"><div class="inventory-list" id="dataset-uploading-list"><div class="inventory-entry" data-ng-repeat="dataset in uploadListCtrl.datasets track by $index"><div class="inventory-icon no-link"><img src="/assets/images/inventory/generic_file.png"></div><div class="inventory-text" ng-switch="dataset.error"><div class="inventory-title no-link">{{dataset.name}}</div><div class="inventory-progress" ng-switch-when="false" ng-switch="dataset.type"><div class="progress-bar" ng-switch-when="file"><span class="meter" style="width: {{ dataset.progress }}%" ng-switch="dataset.progress"><p ng-switch-when="100"><span translate-once="PROCESSING"></span>...</p><p ng-switch-default="">{{ dataset.progress }} %</p></span></div><div class="progress-bar" ng-switch-when="remote"><span class="meter" style="width: 100%"><p translate-once="PROCESSING_REMOTE_DATASET"></p></span></div></div><div class="inventory-progress error" ng-switch-when="true" translate-once="UPLOAD_ERROR"></div></div></div></div></div>'),t.put("components/easter-eggs/star-wars/star-wars.html",'<div class="star-wars"><p class="start">In a web browser... very, very close&hellip;</p><p class="title">Talend Data Preparation</p><div class="titles"><div class="titlecontent"><p class="center">VERSION I<br>A NEW HOPE FOR DATA PREPARATION</p><p>It is a period where data is everywhere.</p><p>Your company or yourself cannot waste any second working on incorrect data.</p><p>Data Prep is the missing link in data management. It enables easy self-service data preparation and cleansing.</p><p>It has a centralized and governed data inventory. It can be used independently but really shines with the rest of the Talend Data Fabric.</p><p>Padawans can use the personal Open Source edition freely or use the commercial edition to become true Jedi knights.</p><p>May the force be with you.</p></div></div></div>'),t.put("components/dataset/preview/dataset-xls-preview.html",'<talend-modal fullscreen="false" close-button="true" state="previewCtrl.state"><div class="modal-title" translate-once="IMPORT_EXCEL_FILE"></div><div class="dataset-sheet-preview"><div class="form-row"><div class="form-title" translate-once="DATASET_NAME"></div><div class="form-value"><input type="text" ng-model="previewCtrl.metadata.name"></div></div><div class="form-row"><div class="form-title" translate-once="STYLESHEET"></div><div class="form-value"><select ng-options="sheetContent.name as sheetContent.name for sheetContent in previewCtrl.metadata.schemaParserResult.sheetContents" ng-model="previewCtrl.selectedSheetName" ng-change="previewCtrl.selectSheet()"></select></div></div><div translate-once="CONTENT_100_FIRST_ROWS"></div><div id="datasetSheetPreviewGrid" class="datagrid"></div></div><div class="modal-buttons"><button class="talend-modal-close btn-secondary modal-secondary-button" ng-click="confirmCtrl.cancel()" translate-once="CANCEL"></button> <button class="talend-modal-close btn-primary modal-primary-button" ng-click="previewCtrl.setDatasetSheet()" translate-once="CONFIRM"></button></div></talend-modal>'),t.put("components/filter/bar/filter-bar.html",'<div id="filter-bar"><div class="title"><span translate-once="FILTER"></span><span translate-once="COLON"></span></div><filter-search class="search"></filter-search><filter-list class="list" filters="filterBarCtrl.state.playground.filter.gridFilters" on-filter-change="filterBarCtrl.filterService.updateFilter(filter, value)" on-filter-remove="filterBarCtrl.filterService.removeFilter(filter)"></filter-list><filter-monitor class="monitor" filters="filterBarCtrl.state.playground.filter.gridFilters" on-reset="filterBarCtrl.filterService.removeAllFilters()" nb-lines="filterBarCtrl.state.playground.grid.nbLines" nb-total-lines="filterBarCtrl.state.playground.grid.nbTotalLines" percentage="filterBarCtrl.state.playground.grid.displayLinesPercentage"></filter-monitor></div>'),t.put("components/filter/list/filter-list.html",'<ul id="filter-list"><li ng-repeat="filter in filterCtrl.filters track by $index"><talend-badge text="{{filter.colName}}" obj="filter" on-change="filterCtrl.changeFilter(obj, newValue)" on-close="filterCtrl.removeFilter(obj)" editable="filter.editable" type="filter.type"></talend-badge></li></ul>'),t.put("components/filter/monitor/filter-monitor.html",'<div id="filter-monitor"><a id="reset-filters" title="{{::\'REMOVE_ALL_FILTER\' | translate}}" ng-if="filterMonitorCtrl.filters.length" data-icon="A" ng-click="filterMonitorCtrl.onReset()"></a><div id="filters-monitor-stats" title="{{ \'NB_LINES_MATCHING_FILTERS\' | translate:{percentage: filterMonitorCtrl.percentage} }}">{{filterMonitorCtrl.nbLines}}/{{filterMonitorCtrl.nbTotalLines}}</div></div>'),t.put("components/filter/search/filter-search.html",'<div id="filter-search"><div mass-autocomplete=""><input type="search" class="no-focus" translate-once-placeholder="NEW_FILTER" ng-model="filterCtrl.filterSearch" mass-autocomplete-item="filterCtrl.filterSuggestOptions"></div></div>'),t.put("components/lookup/grid/lookup-datagrid.html",'<div class="datagrid-lookup" ng-class="{lookup : lookupDatagridCtrl.state.playground.lookup.visibility}"><section id="lookup-datagrid" style="width: 100%; height: 100%"></section></div><span id="lookup-tooltip-ruler" class="tooltip-ruler"></span><talend-tooltip position="lookupDatagridCtrl.tooltip.position" requested-state="lookupDatagridCtrl.showTooltip" class="datagrid-tooltip-lookup"><div ng-bind-html="lookupDatagridCtrl.tooltip.htmlStr" class="datagrid-tooltip-content"></div></talend-tooltip>'),t.put("components/recipe/bullet/recipe-bullet.html",'<svg width="30" ng-attr-height="{{recipeBulletCtrl.height}}" class="all-svg-cls" ng-class="{\'maillon-circle-disabled\': recipeBulletCtrl.step.inactive, \'maillon-circle\': !recipeBulletCtrl.step.inactive}"><path ng-show="!recipeBulletCtrl.isStartChain()"></path><circle cx="15" r="10"></circle><path ng-show="!recipeBulletCtrl.isEndChain()"></path></svg>'),t.put("components/suggestions-stats/actions-list/actions-list.html",'<div class="actions-list"><div ng-repeat="categoryTransformations in actionsListCtrl.actions track by $index" ng-if="actionsListCtrl.shouldRenderCategory(categoryTransformations)"><div class="actions-category" ng-bind-html="categoryTransformations.categoryHtml"></div><div><talend-accordions class="actions-group"><talend-accordions-item ng-repeat="transfo in categoryTransformations.transformations track by transfo.name" ng-if="actionsListCtrl.shouldRenderAction(transfo)" action="actionsListCtrl.scrollToBottom" ng-switch="!!transfo.parameters"><a class="trigger" ng-switch-when="false" ng-if="transfo.dynamic" ng-click="actionsListCtrl.select(transfo)" ng-bind-html="transfo.labelHtml"></a><a class="trigger" ng-switch-when="false" ng-if="!transfo.dynamic" ng-click="actionsListCtrl.select(transfo)" ng-mouseenter="actionsListCtrl.earlyPreview(transfo)({})" ng-mouseleave="actionsListCtrl.cancelEarlyPreview()" ng-bind-html="transfo.labelHtml"></a><a class="trigger" ng-switch-when="true" ng-bind-html="transfo.labelHtml"></a><ul class="content" ng-switch-when="true"><transform-form transformation="transfo" on-submit="actionsListCtrl.transform(transfo)(params)" on-submit-hover-on="actionsListCtrl.earlyPreview(transfo)(params)" on-submit-hover-off="actionsListCtrl.cancelEarlyPreview()"></transform-form></ul></talend-accordions-item></talend-accordions></div></div><talend-modal fullscreen="false" state="actionsListCtrl.showDynamicModal" close-button="true" ng-if="actionsListCtrl.showDynamicModal"><div ng-if="actionsListCtrl.showModalContent"><div class="modal-title">{{ actionsListCtrl.dynamicTransformation.label }}</div><div class="modal-subtitle">{{ actionsListCtrl.dynamicTransformation.description }}</div><div ng-if="actionsListCtrl.dynamicFetchInProgress"><i data-icon="c" class="icon continuous-rotate"></i></div><transform-form transformation="actionsListCtrl.dynamicTransformation" on-submit="actionsListCtrl.transform(actionsListCtrl.dynamicTransformation)(params)"></transform-form></div><div ng-if="!actionsListCtrl.showModalContent"><div class="modal-title">{{ actionsListCtrl.dynamicTransformation.label }}</div><div class="modal-subtitle">{{ actionsListCtrl.emptyParamsMsg | translate }}</div></div></talend-modal></div>'),t.put("components/suggestions-stats/actions-suggestions/actions-suggestions.html",'<div class="actions-suggestions"><div class="suggestions-title"><span class="title" title="{{actionsSuggestionsCtrl.state.playground.grid.selectedColumn.name}}" ng-if="actionsSuggestionsCtrl.state.playground.grid.selectedColumn.name">{{actionsSuggestionsCtrl.state.playground.grid.selectedColumn.name}}</span></div><div id="actions-ghost" ng-if="actionsSuggestionsCtrl.state.playground.suggestions.isLoading" class="loading-container"><div class="loading-msg"><span class="wait-icon continuous-rotate"><i data-icon="c" class="icon"></i></span> <span class="wait-text" translate-once="REFRESHING_WAIT"></span></div></div><talend-tabs tab="actionsSuggestionsCtrl.suggestionService.tab" ng-if="!actionsSuggestionsCtrl.state.playground.suggestions.isLoading"><talend-tabs-item tab-title="Text"><div class="action-suggestion-tab-items watermark" translate-once="NO_FUNCTION"></div></talend-tabs-item><talend-tabs-item tab-title="Cell"><div class="action-suggestion-tab-items watermark" translate-once="NO_FUNCTION"></div></talend-tabs-item><talend-tabs-item tab-title="Line" ng-switch="!!actionsSuggestionsCtrl.state.playground.grid.selectedLine"><actions-list class="action-suggestion-tab-items" actions="actionsSuggestionsCtrl.state.playground.suggestions.line.filteredTransformations" scope="line" should-render-category="actionsSuggestionsCtrl.shouldRenderCategory" should-render-action="actionsSuggestionsCtrl.shouldRenderAction" ng-switch-when="true" scroll-to-bottom="actionsSuggestionsCtrl.scrollToBottom"></actions-list><div class="watermark" ng-switch-when="false" translate-once="SELECT_LINE_TO_DISPLAY_ACTIONS"></div></talend-tabs-item><talend-tabs-item tab-title="Column" default="true" ng-switch="!!actionsSuggestionsCtrl.state.playground.grid.selectedColumn"><input type="search" class="action-search" id="action-suggestions-search" translate-once-placeholder="FIND_FUNCTION" ng-model="actionsSuggestionsCtrl.state.playground.suggestions.column.searchActionString" ng-model-options="{debounce: { default: 300, blur: 0 }}" ng-change="actionsSuggestionsCtrl.columnSuggestionService.filterTransformations()" talend-search-input="" ng-switch-when="true"><actions-list class="action-suggestion-tab-items" actions="actionsSuggestionsCtrl.state.playground.suggestions.column.filteredTransformations" scope="column" should-render-category="actionsSuggestionsCtrl.shouldRenderCategory" should-render-action="actionsSuggestionsCtrl.shouldRenderAction" ng-switch-when="true" scroll-to-bottom="actionsSuggestionsCtrl.scrollToBottom"></actions-list><div class="watermark" ng-switch-when="false" translate-once="SELECT_COLUMN_TO_DISPLAY_ACTIONS"></div></talend-tabs-item><talend-tabs-item tab-title="Table"><div class="action-suggestion-tab-items watermark" translate-once="NO_FUNCTION"></div></talend-tabs-item></talend-tabs><div class="filters-actions-form" ng-if="actionsSuggestionsCtrl.state.playground.filter.gridFilters.length"><span translate-once="APPLY_CHANGE_TO"></span> <input type="radio" ng-model="actionsSuggestionsCtrl.state.playground.filter.applyTransformationOnFilters" ng-value="false"> <span translate-once="ALL_LINES"></span> <input type="radio" ng-model="actionsSuggestionsCtrl.state.playground.filter.applyTransformationOnFilters" ng-value="true"> <span translate-once="FILTERED_LINED"></span></div></div>'),t.put("components/suggestions-stats/column-profile/column-profile.html",'<div class="column-profile" ng-switch="!!(columnProfileCtrl.state.playground.statistics.histogram)"><div id="chart-ghost" class="loading-container" ng-switch-when="false"><img id="chart-ghost-img" src="/assets/images/refreshing-ghost-chart.png"><div id="chart-ghost-message" class="loading-msg"><span class="wait-icon continuous-rotate"><i data-icon="c" class="icon"></i></span> <span class="wait-text" translate-once="REFRESHING_WAIT"></span></div></div><div id="column-profile-chart" ng-switch-when="true"><div class="column-profile-options"><div class="column-profile-chart-control" insertion-charts-control=""><talend-button-dropdown button-text="{{ columnProfileCtrl.getCurrentAggregation() | translate }} {{columnProfileCtrl.state.playground.statistics.histogram.aggregationColumn.name}}"><ul class="column-profile-aggregation-list"><li ng-click="columnProfileCtrl.changeAggregation()"><div translate-once="LINE_COUNT"></div></li><li ng-repeat="column in columnProfileCtrl.aggregationColumns track by column.id" class="more"><div class="moreText" title="{{column.name}}">{{column.name}}</div><ul class="submenu"><li ng-repeat="aggregation in columnProfileCtrl.aggregations track by $index" ng-click="columnProfileCtrl.changeAggregation(column, aggregation)" title="{{ ::aggregation | translate }}"><div class="moreText" translate-once="{{aggregation}}"></div></li></ul></li></ul></talend-button-dropdown></div><div ng-if="columnProfileCtrl.state.playground.statistics.histogram.aggregation" class="column-profile-aggregation-description"><span>{{columnProfileCtrl.state.playground.statistics.histogram.aggregation | translate}}</span> <span class="highlight">{{columnProfileCtrl.state.playground.statistics.histogram.aggregationColumn.name}}</span> <span translate-once="GROUP_BY"></span> <span class="highlight">{{columnProfileCtrl.state.playground.statistics.histogram.column.name}}</span></div></div><div id="column-profile-chart-container" style="min-height: 160px;" insertion-charts=""><horizontal-barchart id="hBarChart" ng-if="!columnProfileCtrl.state.playground.statistics.histogram.vertical" width="300" height="400" on-click="columnProfileCtrl.addBarchartFilter(item)" key-field="{{columnProfileCtrl.state.playground.statistics.histogram.keyField}}" key-label="{{columnProfileCtrl.state.playground.statistics.histogram.label}}" primary-data="columnProfileCtrl.state.playground.statistics.histogram.data" primary-value-field="{{columnProfileCtrl.state.playground.statistics.histogram.valueField}}" primary-bar-class="{{columnProfileCtrl.state.playground.statistics.histogram.className}}" secondary-data="columnProfileCtrl.state.playground.statistics.filteredHistogram.data" secondary-value-field="{{columnProfileCtrl.state.playground.statistics.filteredHistogram.valueField}}" secondary-bar-class="{{columnProfileCtrl.state.playground.statistics.filteredHistogram.className}}" tooltip-content="columnProfileCtrl.statisticsTooltipService.getTooltip(keyLabel, key, primaryValue, secondaryValue)"></horizontal-barchart><vertical-barchart id="vBarChart" ng-if="columnProfileCtrl.state.playground.statistics.histogram.vertical" width="300" height="150" show-x-axis="columnProfileCtrl.state.playground.statistics.histogram.column.type === \'date\'" on-click="columnProfileCtrl.addRangeFilter(interval)" key-field="{{columnProfileCtrl.state.playground.statistics.histogram.keyField}}" key-label="{{columnProfileCtrl.state.playground.statistics.histogram.label}}" primary-data="columnProfileCtrl.state.playground.statistics.histogram.data" primary-value-field="{{columnProfileCtrl.state.playground.statistics.histogram.valueField}}" secondary-data="columnProfileCtrl.state.playground.statistics.filteredHistogram.data" secondary-value-field="{{columnProfileCtrl.state.playground.statistics.filteredHistogram.valueField}}" tooltip-content="columnProfileCtrl.statisticsTooltipService.getTooltip(keyLabel, key, primaryValue, secondaryValue)" active-limits="columnProfileCtrl.state.playground.statistics.activeLimits"></vertical-barchart></div><range-slider id="rangeSliderId" width="300" height="65" range-limits="columnProfileCtrl.state.playground.statistics.rangeLimits" on-brush-end="columnProfileCtrl.addRangeFilter(interval)"></range-slider></div></div>'),t.put("components/suggestions-stats/stats-details/stats-details.html",'<div class="actions-suggestions"><div class="watermark" ng-if="!statsDetailsCtrl.state.playground.statistics.details" translate-once="SELECT_COLUMN_TO_DISPLAY_STATS"></div><talend-tabs ng-if="statsDetailsCtrl.state.playground.statistics.details"><talend-tabs-item class="tab-container" tab-title="Chart" default="true"><div class="stat-detail-tab-items"><column-profile></column-profile></div></talend-tabs-item><talend-tabs-item tab-title="Value"><div class="stat-detail-tab-items"><div class="two-columns-values"><table class="stat-table"><tr ng-repeat="(key, val) in statsDetailsCtrl.state.playground.statistics.details.common track by $index"><td class="stat-key">{{key | translate}}:</td><td class="stat-value">{{val}}</td></tr></table><table class="stat-table"><tr ng-repeat="(key, val) in statsDetailsCtrl.state.playground.statistics.details.specific track by $index"><td class="stat-key">{{key | translate}}:</td><td class="stat-value">{{val}}</td></tr></table></div></div></talend-tabs-item><talend-tabs-item tab-title="Pattern"><div class="stat-detail-tab-items"><horizontal-barchart id="patternBarChart" width="300" height="400" on-click="statsDetailsCtrl.addPatternFilter(item)" key-field="pattern" key-label="Occurrences" primary-data="statsDetailsCtrl.state.playground.statistics.patterns" primary-value-field="occurrences" secondary-data="statsDetailsCtrl.state.playground.statistics.filteredPatterns" secondary-value-field="filteredOccurrences" secondary-bar-class="brownBar" tooltip-content="statsDetailsCtrl.statisticsTooltipService.getTooltip(keyLabel, key, primaryValue, secondaryValue)"></horizontal-barchart></div></talend-tabs-item><talend-tabs-item tab-title="Advanced"><div class="stat-detail-tab-items" ng-switch="!!statsDetailsCtrl.state.playground.statistics.boxPlot"><div class="watermark" ng-switch-when="false" translate-once="NO_ADVANCED_CHART"></div><boxplot-chart ng-switch-when="true" id="boxplotId" width="300" height="400" boxplot-data="statsDetailsCtrl.state.playground.statistics.boxPlot"></boxplot-chart></div></talend-tabs-item></talend-tabs></div>'),t.put("components/transformation/form/transformation-form.html",'<div class="transformation-form"><form ng-submit="formCtrl.paramForm.$valid && formCtrl.transformWithParam()" name="formCtrl.paramForm"><transform-params parameters="formCtrl.transformation.parameters"></transform-params><transform-cluster-params ng-if="formCtrl.transformation.cluster" details="formCtrl.transformation.cluster"></transform-cluster-params></form><div class="param-buttons"><button ng-disabled="formCtrl.paramForm.$invalid" class="param-primary-button btn-primary" ng-click="formCtrl.transformWithParam()" ng-mouseleave="formCtrl.submitHoverOff()" ng-mouseenter="formCtrl.submitHoverOn()" translate-once="SUBMIT"></button> <a ng-if="formCtrl.transformation.docUrl" href="{{::formCtrl.transformation.docUrl}}" translate-once="ACTION_HELP" target="_blank"></a></div></div>'),t.put("components/transformation/menu/transformation-menu.html",'<ul><type-transform-menu column="menuCtrl.column"></type-transform-menu><li class="divider"></li><li ng-repeat="menu in menuCtrl.menuItems track by menu.name" ng-click="menuCtrl.select(menu, \'column\')"><a>{{ menu.label }}</a></li></ul><talend-modal fullscreen="false" state="menuCtrl.showModal" close-button="true" ng-if="menuCtrl.showModal"><div class="modal-title">{{ menuCtrl.selectedMenu.label }}</div><div class="modal-subtitle">{{ menuCtrl.selectedMenu.description }}</div><div ng-if="menuCtrl.selectedMenu.dynamic && menuCtrl.dynamicFetchInProgress"><i data-icon="e" class="icon continuous-rotate"></i></div><transform-form transformation="menuCtrl.selectedMenu" on-submit="menuCtrl.appendClosure(menuCtrl.selectedMenu, menuCtrl.selectedScope)(params)"></transform-form></talend-modal>'),t.put("components/widgets/accordions/accordions-item.html",'<li class="accordion"><div class="trigger-container" ng-click="accordionsItemCtrl.toggle()"></div><ng-transclude class="content-container"></ng-transclude></li>'),
t.put("components/widgets/badge/badge.html",'<span class="badge-notice" ng-class="badgeCtrl.type"><span ng-if="!badgeCtrl.obj.value" class="badge-item text">{{badgeCtrl.text}}</span> <span ng-if="badgeCtrl.obj.value"><span class="badge-item">{{badgeCtrl.text}}{{badgeCtrl.sign}}</span> <span class="badge-item"><input ng-if="badgeCtrl.editable === true" class="editable-input textEllipsis" type="text" ng-model="badgeCtrl.value" ng-blur="badgeCtrl.manageChange()" title="{{badgeCtrl.value}}"> <span class="description textEllipsis" ng-if="badgeCtrl.editable === false">{{badgeCtrl.value}}</span></span></span> <a class="badge-close badge-item" ng-click="badgeCtrl.close()">&times;</a></span>'),t.put("components/widgets/button-loader/button-loader.html",'<button class="talend-button-loader {{::buttonLoaderCtrl.buttonClass}}" ng-disabled="buttonLoaderCtrl.disableCondition" ng-switch="!!buttonLoaderCtrl.loading"><ng-transclude ng-switch-when="false"></ng-transclude><span ng-switch-when="true"><i data-icon="c" class="talend-button-loader-icon continuous-rotate {{buttonLoaderCtrl.loadingClass}}"></i></span></button>'),t.put("components/widgets/button-switch/button-switch.html","<div>{{ (buttonSwitchCtrl.currentValue[buttonSwitchCtrl.displayKey]) | translate }}</div>"),t.put("components/widgets/confirm/confirm.html",'<talend-modal fullscreen="false" close-button="true" disable-enter="::confirmCtrl.disableEnter" state="confirmCtrl.modalState"><p ng-repeat="text in ::confirmCtrl.texts track by $index">{{text}}</p><div class="modal-buttons"><button class="talend-modal-close btn-secondary modal-secondary-button" ng-click="confirmCtrl.cancel()"><span translate-once="NO"></span></button> <button class="talend-modal-close btn-primary modal-primary-button" ng-click="confirmCtrl.valid()"><span translate-once="YES"></span></button></div></talend-modal>'),t.put("components/widgets/datetimepicker/datetimepicker.html",'<input class="datetimepicker" type="text">'),t.put("components/widgets/dropdown/dropdown.html",'<ng-transclude class="dropdown"></ng-transclude>'),t.put("components/widgets/editable-regex/editable-regex.html",'<div class="editable-regex"><talend-dropdown force-side="left"><button class="dropdown-action" type="button">{{editableRegexCtrl.getTypeKey()}}</button><ul class="dropdown-menu"><li ng-repeat="type in ::editableRegexCtrl.types track by $index" ng-click="editableRegexCtrl.setSelectedType(type)" class="regex-type-item"><div class="regex-type-item-key">{{::type.key}}</div><div class="regex-type-item-label">{{::type.label}}</div></li></ul></talend-dropdown><input type="text" ng-model="editableRegexCtrl.value.token" ng-trim="false" ng-model-options="{debounce: { \'default\': 300, \'blur\': 0 }}"></div>'),t.put("components/widgets/editable-select/editable-select.html",'<div class="editable-select"><select ng-options="val for val in editableSelectCtrl.list" ng-model="editableSelectCtrl.value"></select><input type="text" ng-model="editableSelectCtrl.value"></div>'),t.put("components/widgets/editable-text/editable-text.html",'<div class="editable-text" ng-switch="editableTextCtrl.editionMode"><div ng-show="!editableTextCtrl.editionMode" class="editable-text-container"><span class="editable-text-text {{::editableTextCtrl.textClass}}" title="{{editableTextCtrl.textTitle}}" ng-click="editableTextCtrl.onTextClick()" ng-bind="editableTextCtrl.text"></span> <button class="edit-btn" data-icon="a" ng-click="editableTextCtrl.edit()"></button></div><form class="editable-text-container" ng-show="editableTextCtrl.editionMode" ng-submit="editableTextCtrl.validate()"><input class="edition-text-input" type="text" translate-once-placeholder="{{editableTextCtrl.placeholder}}" ng-model="editableTextCtrl.editionText"> <button class="valid-btn" data-icon="b"></button> <button type="button" class="cancel-btn" data-icon="d" ng-click="editableTextCtrl.cancel()"></button></form></div>'),t.put("components/widgets/file-selector/file-selector.html",'<div class="btn-icon btn-transparent"><span data-icon="{{::talendFileSelectorCtrl.buttonDataIcon}}" translate-once-title="{{::talendFileSelectorCtrl.buttonTitle}}" class="file-selector-span"></span> <input type="file" class="ng-hide" ng-file-select="" accept="*.csv" ng-model="talendFileSelectorCtrl.fileModel" ng-file-change="talendFileSelectorCtrl.onFileChange()"></div>'),t.put("components/widgets/modal/modal.html",'<div class="modal" ng-class="::{fullscreen:talendModalCtrl.fullscreen}"><input class="modal-state" ng-model="talendModalCtrl.state" type="checkbox"><div class="modal-window"><div class="modal-inner" tabindex="-1"><label ng-show="::(talendModalCtrl.closeButton)" class="talend-modal-close" ng-class="::{\'modal-header-close\':talendModalCtrl.fullscreen, \'modal-close\': !talendModalCtrl.fullscreen}"></label><ng-transclude></ng-transclude></div></div></div>'),t.put("components/widgets/navbar/navbar.html",'<header class="navigation" role="banner"><div class="navigation-wrapper" ng-transclude=""></div></header>'),t.put("components/widgets/navigation-list/navigation-list.html",'<div class="navigation-list"><div class="add-item" ng-if="navigationListCtrl.showAddButton"><span ng-click="navigationListCtrl.onAddItem()" class="add-button" data-icon="s" translate-once-title="ADD_LOOKUP_DATASET_TITLE"></span></div><div class="back-forth-btn"><button class="arrow-left"></button> <button class="arrow-right"></button></div><div class="items-list-wrapper"><ul class="items-list"><li ng-repeat="item in navigationListCtrl.list track by $index" ng-click="navigationListCtrl.onClick({item: item})" class="item-label" ng-class="{\'selected-item-label\': item === navigationListCtrl.selectedItem }" title="{{navigationListCtrl.getLabel({item: item})}}">{{navigationListCtrl.getLabel({item: item})}}</li></ul></div></div>'),t.put("components/widgets/loading/loading.html",'<div class="loading"><div class="loading-inner"><p><span translate-once="PROCESSING"></span>...</p><i data-icon="c" class="loading-img"></i></div></div>'),t.put("components/widgets/quality-bar/quality-bar.html",'<div class="quality-bar" ng-if="qualityBarCtrl.hasMenu"><div talend-dropdown="" class="valid-partition" ng-style="{width: qualityBarCtrl.width.valid + \'%\'}" ng-class="{\'no-transition\' : qualityBarCtrl.blockTransition}" ng-show="qualityBarCtrl.quality.valid > 0" title="{{ qualityBarCtrl.quality.valid }} {{::\'VALID_RECORDS\' | translate}} ({{ qualityBarCtrl.percent.valid }}%)"><div class="dropdown-container"><div class="dropdown-action quality-bar-action"></div><ul class="dropdown-menu dropdown-menu-small-top quality-bar-menu" role="menu"></ul></div></div><div talend-dropdown="" class="empty-partition" ng-style="{width: qualityBarCtrl.width.empty + \'%\'}" ng-class="{\'no-transition\' : qualityBarCtrl.blockTransition}" ng-show="qualityBarCtrl.quality.empty > 0" title="{{ qualityBarCtrl.quality.empty }} {{::\'EMPTY_RECORDS\' | translate}} ({{ qualityBarCtrl.percent.empty }}%)"><div class="dropdown-container"><div class="dropdown-action quality-bar-action"></div><ul class="dropdown-menu dropdown-menu-small-top quality-bar-menu" role="menu"></ul></div></div><div talend-dropdown="" class="invalid-partition" ng-style="{width: qualityBarCtrl.width.invalid + \'%\'}" ng-class="{\'no-transition\' : qualityBarCtrl.blockTransition}" ng-show="qualityBarCtrl.quality.invalid > 0" title="{{ qualityBarCtrl.quality.invalid }} {{::\'INVALID_RECORDS\' | translate}} ({{ qualityBarCtrl.percent.invalid }}%)"><div class="dropdown-container"><div class="dropdown-action quality-bar-action"></div><ul class="dropdown-menu dropdown-menu-small-top quality-bar-menu" role="menu"></ul></div></div></div><div class="quality-bar" ng-if="!qualityBarCtrl.hasMenu"><div class="valid-partition" ng-style="{width: qualityBarCtrl.width.valid + \'%\'}" ng-class="{\'no-transition\' : qualityBarCtrl.blockTransition}" ng-show="qualityBarCtrl.quality.valid > 0" title="{{ qualityBarCtrl.quality.valid }} {{::\'VALID_RECORDS\' | translate}} ({{ qualityBarCtrl.percent.valid }}%)"></div><div class="empty-partition" ng-style="{width: qualityBarCtrl.width.empty + \'%\'}" ng-class="{\'no-transition\' : qualityBarCtrl.blockTransition}" ng-show="qualityBarCtrl.quality.empty > 0" title="{{ qualityBarCtrl.quality.empty }} {{::\'EMPTY_RECORDS\' | translate}} ({{ qualityBarCtrl.percent.empty }}%)"></div><div class="invalid-partition" ng-style="{width: qualityBarCtrl.width.invalid + \'%\'}" ng-class="{\'no-transition\' : qualityBarCtrl.blockTransition}" ng-show="qualityBarCtrl.quality.invalid > 0" title="{{ qualityBarCtrl.quality.invalid }} {{::\'INVALID_RECORDS\' | translate}} ({{ qualityBarCtrl.percent.invalid }}%)"></div></div><ng-transclude></ng-transclude>'),t.put("components/widgets/slidable/slidable.html",'<div class="slidable" ng-class="{\'slide-left\': slidableCtrl.side === \'left\', \'slide-right\': slidableCtrl.side === \'right\', \'slide-top\': slidableCtrl.side === \'top\', \'slide-bottom\': slidableCtrl.side === \'bottom\' , \'slide-hide\': !slidableCtrl.visible }"><div class="content"><div class="content-container"><ng-transclude class="fixed-content"></ng-transclude></div></div><div class="action {{slidableCtrl.actionCssClass}}" ng-if="slidableCtrl.hasControlButton" ng-click="slidableCtrl.toggle()"><span ng-if="::(slidableCtrl.side == \'left\')"><span ng-show="slidableCtrl.visible">&#8249;</span> <span ng-show="!slidableCtrl.visible">&#8250;</span></span> <span ng-if="::(slidableCtrl.side === \'right\')"><span ng-show="slidableCtrl.visible">&#8250;</span> <span ng-show="!slidableCtrl.visible">&#8249;</span></span></div></div>'),t.put("components/widgets/tabs/tabs-item.html",'<ng-transclude ng-if="tabsItemCtrl.active"></ng-transclude>'),t.put("components/widgets/tabs/tabs.html",'<ul class="tabs"><li class="tabs-item" ng-class="{active : tab.active}" ng-repeat="tab in tabsCtrl.tabs track by $index" ng-click="tabsCtrl.select(tab)">{{tab.tabTitle}}</li></ul><ng-transclude></ng-transclude>'),t.put("components/widgets/tooltip/tooltip.html",'<div class="talend-tooltip" ng-show="talendTooltipCtrl.innerState" ng-style="talendTooltipCtrl.style"><ng-transclude></ng-transclude></div>'),t.put("components/lookup/grid/header/lookup-datagrid-header.html",'<div class="lookup-grid-header"><div class="grid-header"><div class="talend-dropdown-text-div"><div class="grid-header-title" title="{{ lookupDatagridHeaderCtrl.column.name }}">{{ lookupDatagridHeaderCtrl.column.name }}</div></div><div class="grid-header-type" ng-if="lookupDatagridHeaderCtrl.column.domain">{{ lookupDatagridHeaderCtrl.column.domain }}</div><div class="grid-header-type" ng-if="(!lookupDatagridHeaderCtrl.column.domain)">{{ lookupDatagridHeaderCtrl.converterService.simplifyType(lookupDatagridHeaderCtrl.column.type) }}</div></div><quality-bar enter-animation="false" has-menu="false" quality="lookupDatagridHeaderCtrl.column.quality"></quality-bar><div class="add-to-lookup"><div ng-if="lookupDatagridHeaderCtrl.showCheckbox()"><input type="checkbox" ng-model="lookupDatagridHeaderCtrl.added.isAdded" ng-click="lookupDatagridHeaderCtrl.updateColsToAdd($event)"> <span translate-once="ADD_TO_LOOKUP"></span></div><span>&nbsp;</span></div></div>'),t.put("components/transformation/form/choice/transformation-choice-param.html",'<div class="param"><div class="param-row"><div class="param-name" data-prep-tooltip="{{::choiceParamCtrl.parameter.description}}">{{::choiceParamCtrl.parameter.label}}{{:: \'COLON\' | translate}}</div><div class="param-input"><select ng-model="choiceParamCtrl.parameter.value" ng-options="option.value as option.label for option in choiceParamCtrl.parameter.configuration.values" can-be-blank="{{::choiceParamCtrl.parameter.canBeBlank}}"></select></div></div></div>'),t.put("components/transformation/form/cluster/transformation-cluster-params.html",'<div class="cluster"><div class="cluster-body"><table><thead><tr class="cluster-line"><th><label><input type="checkbox" ng-model="clusterParamsCtrl.allCheckboxState" ng-click="clusterParamsCtrl.refreshClusterState()"></label></th><th ng-repeat="title in ::clusterParamsCtrl.details.titles track by $index">{{::title}}</th></tr></thead><tbody class="cluster-body"><tr class="cluster-line" ng-repeat="cluster in ::clusterParamsCtrl.details.clusters track by $index"><td><label><input class="cluster-activation" ng-model="cluster.active" type="checkbox" ng-click="clusterParamsCtrl.refreshToggleCheckbox()"></label></td><td><transform-simple-param ng-repeat="parameter in cluster.parameters" class="param-no-space" label="false" parameter="parameter"></transform-simple-param></td><td><transform-simple-param class="param-no-space" label="false" editable-select="cluster.replace.list" parameter="cluster.replace"></transform-simple-param></td></tr></tbody></table></div></div>'),t.put("components/transformation/form/column/transformation-column-param.html",'<div class="param"><div class="param-row"><div class="param-name" data-prep-tooltip="{{::columnParamCtrl.parameter.description}}" ng-if="::(columnParamCtrl.label !== \'false\')">{{::columnParamCtrl.parameter.label}}:</div><select ng-model="columnParamCtrl.parameter.value" ng-options="option.id as option.name for option in columnParamCtrl.columns" class="param-input" required=""></select></div></div>'),t.put("components/transformation/form/date/transformation-date-param.html",'<div class="param"><div class="param-row"><div class="param-name" ng-if="::(dateParamCtrl.label !== \'false\')">{{::dateParamCtrl.parameter.label}}:</div><talend-datetime-picker ng-model="dateParamCtrl.parameter.value" is-date-time=""></talend-datetime-picker><div class="param-error error" ng-if="paramsCtrl.paramForm[dateParamCtrl.parameter.name].$error.isDateTimeValidation" translate-once="DATE_FORMAT_ERROR"></div></div></div>'),t.put("components/transformation/form/params/transformation-params.html",'<div ng-repeat="parameter in paramsCtrl.parameters track by $index" ng-switch="paramsCtrl.getParameterType(parameter)"><transform-simple-param ng-switch-when="simple" parameter="parameter"></transform-simple-param><transform-regex-param ng-switch-when="regex" parameter="parameter"></transform-regex-param><transform-choice-param ng-switch-when="select" parameter="parameter"></transform-choice-param><transform-date-param ng-switch-when="date" parameter="parameter"></transform-date-param><transform-column-param ng-switch-when="column" parameter="parameter"></transform-column-param></div>'),t.put("components/transformation/form/regex/transformation-regex-param.html",'<div class="param"><div class="param-row"><div class="param-name" data-prep-tooltip="{{::regexParamCtrl.parameter.description}}">{{::regexParamCtrl.parameter.label}}<span translate-once="COLON"></span></div><div class="param-input"><talend-editable-regex ng-model="regexParamCtrl.parameter.value" can-be-blank="{{::regexParamCtrl.parameter.canBeBlank}}"></talend-editable-regex></div></div></div>'),t.put("components/transformation/form/simple/transformation-simple-param.html",'<div class="param"><div class="param-row"><div class="param-name" data-prep-tooltip="{{::simpleParamCtrl.parameter.description}}" ng-if="::(simpleParamCtrl.label !== \'false\')">{{::simpleParamCtrl.parameter.label}}<span translate-once="COLON"></span></div><div class="param-input" ng-if="::(simpleParamCtrl.editableSelect)"><editable-select list="simpleParamCtrl.parameter.list" ng-model="simpleParamCtrl.parameter.value"></editable-select></div><div class="param-input" ng-if="::(!simpleParamCtrl.editableSelect)"><input name="{{::(simpleParamCtrl.parameter.name)}}" type="{{::simpleParamCtrl.parameter.inputType}}" ng-model="simpleParamCtrl.parameter.value" ng-model-options="{debounce: { \'default\': 200, \'blur\': 0 }}" ng-trim="false" is-type="{{::simpleParamCtrl.parameter.type}}" can-be-blank="{{::simpleParamCtrl.parameter.canBeBlank}}"> <span ng-if="::(simpleParamCtrl.parameter.type === \'boolean\' && simpleParamCtrl.label === \'false\')">{{simpleParamCtrl.parameter.name}}</span></div><div class="param-error error" ng-if="paramCtrl.paramForm[simpleParamCtrl.parameter.name].$error.isTypeValidation || paramsCtrl.paramForm[simpleParamCtrl.parameter.name].$error.number">This must be a {{::simpleParamCtrl.parameter.type}}</div></div></div>'),t.put("components/transformation/menu/type/type-transformation-menu.html",'<li class="more"><span class="itemText" translate-once="COLUMN_TYPE_IS"></span><a><span class="info">{{ typeMenuCtrl.currentSimplifiedDomain }}</span></a><ul class="submenu"><li ng-repeat="semanticDomain in typeMenuCtrl.domains track by semanticDomain.id" ng-click="typeMenuCtrl.changeDomain(semanticDomain)"><input type="radio" value="{{ ::semanticDomain.id}}" ng-model="typeMenuCtrl.currentDomain"> {{ ::semanticDomain.label | translate }} {{ semanticDomain.frequency }} %</li><li class="divider"></li><li ng-repeat="type in typeMenuCtrl.types track by type.id" ng-click="typeMenuCtrl.changeType(type)"><input type="radio" value="{{ ::type.id}}" ng-model="typeMenuCtrl.currentDomain" ng-checked="typeMenuCtrl.shouldBeChecked(type)"> <span translate-once="COLUMN_TYPE_SET"></span><span>&nbsp;</span>{{::type.labelKey | translate }}</li></ul></li>'),t.put("components/widgets/charts/range-slider/range-slider.html",'<div class="range-slider-id"></div><form name="rangesForm" ng-if="rangeSliderCtrl.showRangeInputs" class="range-inputs-cls"><span class="range-label-input"><b translate-once="MIN"></b>&nbsp;<input type="text" ng-model="rangeSliderCtrl.minMaxModel.minModel" ng-blur="rangeSliderCtrl.prepareInputFilter($event)" ng-keydown="rangeSliderCtrl.stopPropagation($event)" ng-keyup="rangeSliderCtrl.handleKey(\'min\')($event)"></span> <span class="range-label-input"><b translate-once="MAX"></b>&nbsp;<input type="text" ng-model="rangeSliderCtrl.minMaxModel.maxModel" ng-blur="rangeSliderCtrl.prepareInputFilter($event)" ng-keydown="rangeSliderCtrl.stopPropagation($event)" ng-keyup="rangeSliderCtrl.handleKey(\'max\')($event)"></span><br></form><div class="error-message"><span class="error" ng-show="rangeSliderCtrl.invalidNumber" translate-once="INVALID_VALUE_RANGE_SLIDER"></span> <span class="error" ng-show="rangeSliderCtrl.invalidNumberWithComma" translate-once="INVALID_VALUE_RANGE_SLIDER_CONTENT"></span></div>')}]);